  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 17:40:18', `state` = 'active', `updated_at` = '2008-12-16 17:40:18' WHERE `user_id` = 2[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 17:40:18', `updated_at` = '2008-12-16 17:40:18' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Exists (0.5ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('ec528b7315b6786067eaf6592154360cd0fe0def', NULL, NULL, '2008-12-16 17:40:18', '7a06f619939638aada196c8159df6e2fe02a48f8', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 17:40:18')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('d295ae03c0095fed110763a23beddcbd5f844bc8', NULL, NULL, '2008-12-16 17:40:18', '8c5687dd71f488fd7f65e5cc8e0f961ed129147f', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 17:40:18')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 17:40:18', `state` = 'deleted', `updated_at` = '2008-12-16 17:40:18' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('6b95f43f5c828165ad7ef59885521ffef7dc25c9', NULL, NULL, '2008-12-16 17:40:18', 'b6ea9165689b17202e808eaf3fb6b39e5a8f0507', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 17:40:18')[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15002) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 17:40:18', `remember_token` = '42c6a8ebd49f334b97e6e52402ff05f95d9aa377', `updated_at` = '2008-12-16 17:40:18' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 17:40:18', `remember_token` = 'd40cd4e4937ca7fe6a9c2760010b155e5b1f446a', `updated_at` = '2008-12-16 17:40:18' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 17:40:18', `updated_at` = '2008-12-16 17:40:18' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 17:40:18', `remember_token` = '42c6a8ebd49f334b97e6e52402ff05f95d9aa377', `updated_at` = '2008-12-16 17:40:18' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 17:40:18', `updated_at` = '2008-12-16 17:40:18' WHERE `user_id` = 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 17:40:18' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Update (0.7ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = 'foo-bar' [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = NULL [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 17:42:06', `state` = 'active', `updated_at` = '2008-12-16 17:42:06' WHERE `user_id` = 2[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 17:42:06', `updated_at` = '2008-12-16 17:42:06' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('0f3409a214b7785378c3f82e8959e1d5e8c42eb3', NULL, NULL, '2008-12-16 17:42:06', '3fa9809e7e139660dd3e5321883d18e0ee1ef5b2', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 17:42:06')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('105c89bf65c9f3e990bbde0ba28238100fd371eb', NULL, NULL, '2008-12-16 17:42:06', 'e2fef889f0de5e51a17eb6beea18808ac64d6bc7', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 17:42:06')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 17:42:06', `state` = 'deleted', `updated_at` = '2008-12-16 17:42:06' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('905b1f7d3e3ce5f5bb4559d5149c151a085b0392', NULL, NULL, '2008-12-16 17:42:06', '74638b97658d110310562d0f382a185af9c1af86', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 17:42:06')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15002) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 17:42:06', `remember_token` = '3626ee8a8ab1e8c6b9c3971b6cab21ea159c03e8', `updated_at` = '2008-12-16 17:42:06' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 17:42:06', `remember_token` = 'b15505452312ad5e40e19bc87344005ba17989ce', `updated_at` = '2008-12-16 17:42:06' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 17:42:06', `updated_at` = '2008-12-16 17:42:06' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 17:42:06', `remember_token` = '3626ee8a8ab1e8c6b9c3971b6cab21ea159c03e8', `updated_at` = '2008-12-16 17:42:06' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 17:42:06', `updated_at` = '2008-12-16 17:42:06' WHERE `user_id` = 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 17:42:06' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Update (0.8ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = 'foo-bar' [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = NULL [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 17:43:31', `state` = 'active', `updated_at` = '2008-12-16 17:43:31' WHERE `user_id` = 2[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 17:43:31', `updated_at` = '2008-12-16 17:43:31' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('663e4dbb513c6400a5ae2ed8bfd092bbc1a0ffcb', NULL, NULL, '2008-12-16 17:43:31', 'ef9f8af5e5c29648804b988e992cd3a7820b4d79', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 17:43:31')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('9484072b1109e1c09d223820247808730f51cf3f', NULL, NULL, '2008-12-16 17:43:31', 'd5b8fdc8a4c3847229721dab6e74d190eefb4510', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 17:43:31')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 17:43:31', `state` = 'deleted', `updated_at` = '2008-12-16 17:43:31' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('6f692da6c9305fc43f052482396a7f93cd09ca79', NULL, NULL, '2008-12-16 17:43:31', 'ee49a2912eae52c6f8eb1a82f1ef0a791d351310', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 17:43:31')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15002) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 17:43:31', `remember_token` = 'e583cf0ef0305de1f2e6610b71780910e3b6c54e', `updated_at` = '2008-12-16 17:43:31' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 17:43:31', `remember_token` = 'f6ee36e94a981f5a6a74dd76b3a72fb7916a6b15', `updated_at` = '2008-12-16 17:43:31' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 17:43:31', `updated_at` = '2008-12-16 17:43:32' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 17:43:32', `remember_token` = '82f814a7d2683154c5b44bc03f2fddcd1ac928cf', `updated_at` = '2008-12-16 17:43:32' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 17:43:32', `updated_at` = '2008-12-16 17:43:32' WHERE `user_id` = 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 17:43:32' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Update (0.8ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = 'foo-bar' [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = NULL [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 17:49:14', `state` = 'active', `updated_at` = '2008-12-16 17:49:14' WHERE `user_id` = 2[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 17:49:14', `updated_at` = '2008-12-16 17:49:14' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'fd5eb530573d9d356423f0a28e292a27d6bd9458', `updated_at` = '2008-12-16 17:49:14' WHERE `user_id` = 5[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 17:49:14' WHERE `user_id` = 5[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('785b248111488e41bd6046db6cc0eeda12d54779', NULL, NULL, '2008-12-16 17:49:14', 'fc1345bba528f07aca671bcaca1489606be388b4', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 17:49:14')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('19a0d119a1b6be2450ece58a3d8679036021aeb7', NULL, NULL, '2008-12-16 17:49:14', '3a326e465a3e83f61eab8c3c8e2881ffa83a4cfe', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 17:49:14')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 17:49:14', `state` = 'deleted', `updated_at` = '2008-12-16 17:49:14' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('9f4a6d82a3b9e1d8f63b5ef3baf97be01646d419', NULL, NULL, '2008-12-16 17:49:14', 'f4dafb9bc45142ab68a50666af588755c92b1408', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 17:49:14')[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15002) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 17:49:14' WHERE `user_id` = 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 17:49:14', `remember_token` = '5428bbdf243bdbcff73339db1ee15ba068d7b379', `updated_at` = '2008-12-16 17:49:14' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 17:49:14', `remember_token` = '225b3174aa54a99d164a30f1c4e222d263373fa0', `updated_at` = '2008-12-16 17:49:14' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 17:49:14', `updated_at` = '2008-12-16 17:49:14' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 17:49:14' WHERE `user_id` = 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 17:49:14', `remember_token` = '5428bbdf243bdbcff73339db1ee15ba068d7b379', `updated_at` = '2008-12-16 17:49:14' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 17:49:14', `updated_at` = '2008-12-16 17:49:14' WHERE `user_id` = 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 17:49:14' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = 'foo-bar' [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = NULL [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 17:51:32', `state` = 'active', `updated_at` = '2008-12-16 17:51:32' WHERE `user_id` = 2[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 17:51:32', `updated_at` = '2008-12-16 17:51:32' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '5aa2d3207d1bff8ed6e400e168ab034ad8ba702b', `updated_at` = '2008-12-16 17:51:32' WHERE `user_id` = 5[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 17:51:32' WHERE `user_id` = 5[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('fce7e598a5e5436eca3c05ee5e4d2ea7e154e189', NULL, NULL, '2008-12-16 17:51:32', '6cb1affcb2c89cc37ecd642f608b1258784fe1f5', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 17:51:32')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('aec4dba48ad1c313744e300b868a5f7d48fab0fe', NULL, NULL, '2008-12-16 17:51:32', 'c51339c5fd21dca04eddc81d154da391094b0cc1', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 17:51:32')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 17:51:32', `state` = 'deleted', `updated_at` = '2008-12-16 17:51:32' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('5ddbb4c9ccce17e436c0f8e3cc1ff565c5f0411d', NULL, NULL, '2008-12-16 17:51:32', '369be1d4f86320a41cba977250050dd69b1dd0a4', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 17:51:32')[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15002) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 17:51:32' WHERE `user_id` = 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 17:56:05', `remember_token` = '623bee9cc6942183037388b64431dc76e5fbf1fa', `updated_at` = '2008-12-16 17:56:05' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 17:56:05', `remember_token` = '85e7a3aaa50e480613767296bc5858d004f993c5', `updated_at` = '2008-12-16 17:56:05' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 17:56:05', `updated_at` = '2008-12-16 17:56:05' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 17:56:05' WHERE `user_id` = 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 17:56:05', `remember_token` = '623bee9cc6942183037388b64431dc76e5fbf1fa', `updated_at` = '2008-12-16 17:56:05' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 17:56:05', `updated_at` = '2008-12-16 17:56:05' WHERE `user_id` = 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 17:56:05' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.8ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = 'foo-bar' [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = NULL [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 18:27:17', `state` = 'active', `updated_at` = '2008-12-16 18:27:17' WHERE `user_id` = 2[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:27:17', `updated_at` = '2008-12-16 18:27:17' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'bdf71c5500c1556ce3859a9e372120f341208cc4', `updated_at` = '2008-12-16 18:27:17' WHERE `user_id` = 5[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 18:27:17' WHERE `user_id` = 5[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('ba0546dc860729d4a27d99d97a4e917e4d57fb26', NULL, NULL, '2008-12-16 18:27:17', 'd3f4181f48ecef98fe32f7fec67a84360ab0eddd', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 18:27:17')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('e8c26439e95d060c70826620f161f020f9295c93', NULL, NULL, '2008-12-16 18:27:17', 'b648d89325de39ab480fc66c0071897763112dbb', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 18:27:17')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 18:27:17', `state` = 'deleted', `updated_at` = '2008-12-16 18:27:17' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('61a8775dd875a82591094513964cd65d49e915af', NULL, NULL, '2008-12-16 18:27:17', 'de8293054cbd27a0152768d00274936dcd0b9925', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 18:27:17')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15003) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 18:27:17' WHERE `user_id` = 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mUser Exists (0.5ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('2d38ecce7794c07c6b17829d855d6f2ea6852066', NULL, NULL, '2008-12-16 18:27:38', '45ac05a7940122a978903aedc22d2688e7de7396', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'quire@example.com', 'passive', '2008-12-16 18:27:38')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (36.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (39.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 18:33:17', `state` = 'active', `updated_at` = '2008-12-16 18:33:17' WHERE `user_id` = 2[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:33:17', `updated_at` = '2008-12-16 18:33:17' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'adcd3f3811e9730e6ed87cab2d843f4a6063e789', `updated_at` = '2008-12-16 18:33:17' WHERE `user_id` = 5[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 18:33:17' WHERE `user_id` = 5[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('d39fed7e4487b5d86d2d20ddbc1075e8b8d9522c', NULL, NULL, '2008-12-16 18:33:17', '611ab80cb68463faa9c90c8e27d11be2ce54980d', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 18:33:17')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('73bec5ae866a2d0b96df17c641c19a75df32f453', NULL, NULL, '2008-12-16 18:33:17', '85b7a2dd2538812881dafc783e7aad22dcfd5fcc', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 18:33:17')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 18:33:17', `state` = 'deleted', `updated_at` = '2008-12-16 18:33:17' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('9616a54ee2dfc10be6844a1fc4b9ba2edbff1bbe', NULL, NULL, '2008-12-16 18:33:17', 'a3d0a17d9e83d02de3431c294f8abd18e07d825a', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 18:33:17')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15003) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 18:33:17' WHERE `user_id` = 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:33:17', `remember_token` = '6174d6de000ecb2fd01c1412ba4acd15327bd70c', `updated_at` = '2008-12-16 18:33:17' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 18:33:17', `remember_token` = 'a6706b093406c348538d8e1f241f998aab73f414', `updated_at` = '2008-12-16 18:33:17' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 18:33:17', `updated_at` = '2008-12-16 18:33:17' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 18:33:17' WHERE `user_id` = 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:33:17', `remember_token` = '6174d6de000ecb2fd01c1412ba4acd15327bd70c', `updated_at` = '2008-12-16 18:33:17' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:33:17', `updated_at` = '2008-12-16 18:33:17' WHERE `user_id` = 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 18:33:17' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.8ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'foo-bar', `activated_at` = NULL [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = NULL, `activated_at` = NULL [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 18:34:44', `state` = 'active', `updated_at` = '2008-12-16 18:34:44' WHERE `user_id` = 2[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:34:44', `updated_at` = '2008-12-16 18:34:44' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '9037c1b0eb4711cc05d5a56076d540ade336f944', `updated_at` = '2008-12-16 18:34:44' WHERE `user_id` = 5[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 18:34:44' WHERE `user_id` = 5[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('bb71736aee94c9c24fd0d14a116efa061ac8d750', NULL, NULL, '2008-12-16 18:34:44', '556ed57f432e586b5fca2b3435a6ffc781050e17', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 18:34:44')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('424ec6a4b356f96c707fc9d6392840716b51245e', NULL, NULL, '2008-12-16 18:34:44', '7ad58865b77e42a26624e37a4ff51316ce5575e1', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 18:34:44')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 18:34:44', `state` = 'deleted', `updated_at` = '2008-12-16 18:34:44' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('88994b88947f97e95041088aa0f3203d3365b368', NULL, NULL, '2008-12-16 18:34:44', 'a5b45bd2e04fa5c85d7e850e9ba41f8f459d4749', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 18:34:44')[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15003) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 18:34:44' WHERE `user_id` = 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:34:44', `remember_token` = '9f81c733c3cda45b419e3920073f9c13022c7728', `updated_at` = '2008-12-16 18:34:44' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 18:34:44', `remember_token` = 'eee17a06c0653d04135e682d909d05039ed41cc8', `updated_at` = '2008-12-16 18:34:44' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 18:34:44', `updated_at` = '2008-12-16 18:34:44' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 18:34:44' WHERE `user_id` = 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:34:44', `remember_token` = '9f81c733c3cda45b419e3920073f9c13022c7728', `updated_at` = '2008-12-16 18:34:44' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:34:44', `updated_at` = '2008-12-16 18:34:44' WHERE `user_id` = 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 18:34:44' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.8ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'foo-bar', `activated_at` = NULL [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = NULL, `activated_at` = NULL [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 18:35:15', `state` = 'active', `updated_at` = '2008-12-16 18:35:15' WHERE `user_id` = 2[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:35:15', `updated_at` = '2008-12-16 18:35:15' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '43ce9139e9bd320d53dcff9ca42bcb46a45e34ec', `updated_at` = '2008-12-16 18:35:15' WHERE `user_id` = 5[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 18:35:15' WHERE `user_id` = 5[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('dfc872b6ee85066229a01ccceaac95bb4dfaeb06', NULL, NULL, '2008-12-16 18:35:15', '8cdb55fd10b4f988fcfc729da32a0ddf6bfb4d0d', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 18:35:15')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('98bcc95667a1d0426fc5faa0a7c9cae4508cb097', NULL, NULL, '2008-12-16 18:35:15', '705742e5fac597dcc49d1ede109d3a09b4f22ab4', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 18:35:15')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 18:35:15', `state` = 'deleted', `updated_at` = '2008-12-16 18:35:15' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('36163db7e5258bd69804d1df2f1de3af740c1861', NULL, NULL, '2008-12-16 18:35:15', 'cc33fa750a834070c41d6cd2855d02428b373c82', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 18:35:15')[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15003) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 18:35:15' WHERE `user_id` = 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:35:15', `remember_token` = '6eb80fd3995c9aa10cf7650d7f9d44dda7335c64', `updated_at` = '2008-12-16 18:35:15' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 18:35:15', `remember_token` = 'b3e106d6c7d3f7a1b081c544a19fee54277f47ca', `updated_at` = '2008-12-16 18:35:15' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 18:35:15', `updated_at` = '2008-12-16 18:35:15' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 18:35:15' WHERE `user_id` = 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:35:15', `remember_token` = '6eb80fd3995c9aa10cf7650d7f9d44dda7335c64', `updated_at` = '2008-12-16 18:35:15' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:35:15', `updated_at` = '2008-12-16 18:35:15' WHERE `user_id` = 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 18:35:15' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Update (0.8ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'foo-bar', `activated_at` = NULL [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (37.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 18:37:55', `state` = 'active', `updated_at` = '2008-12-16 18:37:55' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:37:55', `updated_at` = '2008-12-16 18:37:55' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'c6f11c7cabd6cf87fe43836c13dc14bece466d7a', `updated_at` = '2008-12-16 18:37:55' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 18:37:55' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('d1773b5175fe5e5fa3ebff35028052bf0c33c989', NULL, NULL, '2008-12-16 18:37:55', '6384f921508392f0bc7c03e1f986d8649ddfd87e', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 18:37:55')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('2266e0d0a8922b0f1410bade7da56d599e8d109a', NULL, NULL, '2008-12-16 18:37:55', '53e2c8dbfb1f36151055e603cd17b47c9873165d', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 18:37:55')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 18:37:55', `state` = 'deleted', `updated_at` = '2008-12-16 18:37:55' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('7a9a00b07e2b1370a2b480648c69e1d4ab69c027', NULL, NULL, '2008-12-16 18:37:55', 'b6c5e06541048c0f3fc8a1cfcdbf6a03640a3fab', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 18:37:55')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15003) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 18:37:55' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:37:55', `updated_at` = '2008-12-16 18:37:55' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:37:55', `remember_token` = '6699c73325d17a2fefdb550b0f9ce7bff9f57153', `updated_at` = '2008-12-16 18:37:55' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 18:37:56', `remember_token` = '1b86820c71ca602dd758c16fa2b9d7fea9f48ca7', `updated_at` = '2008-12-16 18:37:56' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 18:37:56', `remember_token` = '1b86820c71ca602dd758c16fa2b9d7fea9f48ca7', `updated_at` = '2008-12-16 18:37:56' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 18:37:56' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:37:56', `updated_at` = '2008-12-16 18:37:56' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:37:56', `remember_token` = 'fa6729f919945efa96530875b5d42fc674c036d2', `updated_at` = '2008-12-16 18:37:56' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 18:37:56' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:37:56', `remember_token` = 'fa6729f919945efa96530875b5d42fc674c036d2', `updated_at` = '2008-12-16 18:37:56' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 18:37:56' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 18:37:56' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 18:37:56', `state` = 'active', `updated_at` = '2008-12-16 18:37:56' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 18:37:56' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = 'foo-bar' [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '9da6c753771b33b2feb604b39f31a2068409b714', `updated_at` = '2008-12-16 18:37:56' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 18:37:56' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 18:37:56' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = NULL [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-16 18:37:56' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 18:37:56' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (37.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 18:39:07', `state` = 'active', `updated_at` = '2008-12-16 18:39:07' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:39:08', `updated_at` = '2008-12-16 18:39:08' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'ffc6a3150b86ffd07f8d838f6f2be24d0626d9e2', `updated_at` = '2008-12-16 18:39:08' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 18:39:08' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('e25dec34c6b41b96d5251b0772a5ecfa50d672c7', NULL, NULL, '2008-12-16 18:39:08', 'f07cbbbc1ad9571da077ae42a022204eaa6378c5', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 18:39:08')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('5ae80f7413a83cbe22684dbbf81f31b3ae55d91f', NULL, NULL, '2008-12-16 18:39:08', 'cc4ea59e8de0da3f0d3ee3e85d866efa20bf3e7b', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 18:39:08')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 18:39:08', `state` = 'deleted', `updated_at` = '2008-12-16 18:39:08' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('cdacc51ea8a5e0c065f9fe8420614ef4e23cea1e', NULL, NULL, '2008-12-16 18:39:08', '286656534a7f8a69a379e8f701acc2afe704fcbd', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 18:39:08')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15003) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 18:39:08' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:39:08', `updated_at` = '2008-12-16 18:39:08' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 18:39:08' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'da432b0d83feafd2a813191910a37506ab9b3de8', `updated_at` = '2008-12-16 18:39:08' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 18:39:08' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:39:08', `remember_token` = '52417778bacdf9ef6f67e7672c5410489c39562a', `updated_at` = '2008-12-16 18:39:08' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 18:39:08', `remember_token` = 'ab1a4a91b73f4c6b334f57448a86d57ddb7fe24e', `updated_at` = '2008-12-16 18:39:08' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 18:39:08', `remember_token` = 'ab1a4a91b73f4c6b334f57448a86d57ddb7fe24e', `updated_at` = '2008-12-16 18:39:08' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 18:39:08' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:39:08', `updated_at` = '2008-12-16 18:39:08' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:39:08', `remember_token` = '52417778bacdf9ef6f67e7672c5410489c39562a', `updated_at` = '2008-12-16 18:39:08' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 18:39:09' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:39:09', `remember_token` = 'f84146619e0f92b87cfb70b1addc2f65efc28e57', `updated_at` = '2008-12-16 18:39:09' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 18:39:09' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 18:39:09' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-16 18:39:09', `state` = 'active', `updated_at` = '2008-12-16 18:39:09' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 18:39:09' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = 'foo-bar' [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'ea92f9b074f7b828ded1cb4e986230576739e056', `updated_at` = '2008-12-16 18:39:09' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 18:39:09' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 18:39:09' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = NULL [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-16 18:39:09' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 18:39:09' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (38.6ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.4ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-16 18:40:09', `state` = 'active', `updated_at` = '2008-12-16 18:40:09' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mUser Load (38.5ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:40:09', `updated_at` = '2008-12-16 18:40:09' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '710f0ec6f48f747f36259843707585d3c571fd3a', `updated_at` = '2008-12-16 18:40:09' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 18:40:09' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('4829deea34a1e00408a1977a6f44b342e8ac0da9', NULL, NULL, '2008-12-16 18:40:09', 'a268057199a0439957d5937e6d1a24c789191a84', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 18:40:09')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('7d91ccd807c7c1382914c5f317265ff091aa504d', NULL, NULL, '2008-12-16 18:40:09', 'f55699466a503ccca9ae07b45062e2055ae2da64', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 18:40:09')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 18:40:09', `state` = 'deleted', `updated_at` = '2008-12-16 18:40:09' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('bb78bfb3c0d22cc8c531b2fedecfbb8cd8585cc2', NULL, NULL, '2008-12-16 18:40:10', '2e41843271c85ec58928e75dc9ea15700ff959d4', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 18:40:10')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15003) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 18:40:10' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:40:10', `updated_at` = '2008-12-16 18:40:10' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 18:40:10' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'cb965bc52d5264ee598c7d9649ed5f4f43f45cf6', `updated_at` = '2008-12-16 18:40:10' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 18:40:10' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:40:10', `remember_token` = '5f41abf345753d47cfe7b157fc6de9298fc116b0', `updated_at` = '2008-12-16 18:40:10' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 18:40:10', `remember_token` = '1135daeeff2af9017d0f932a6d9d85e1fcf825f3', `updated_at` = '2008-12-16 18:40:10' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 18:40:10', `remember_token` = '1135daeeff2af9017d0f932a6d9d85e1fcf825f3', `updated_at` = '2008-12-16 18:40:10' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 18:40:10' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:40:10', `updated_at` = '2008-12-16 18:40:10' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:40:10', `remember_token` = '5f41abf345753d47cfe7b157fc6de9298fc116b0', `updated_at` = '2008-12-16 18:40:10' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 18:40:10' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:40:10', `remember_token` = '5f41abf345753d47cfe7b157fc6de9298fc116b0', `updated_at` = '2008-12-16 18:40:10' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 18:40:10' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 18:40:10' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 18:40:10', `state` = 'active', `updated_at` = '2008-12-16 18:40:10' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 18:40:10' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'foo-bar', `activated_at` = NULL [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'a6a4bf0f16d77b5757503ec0bcd05e8af9cc4ec2', `updated_at` = '2008-12-16 18:40:10' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 18:40:10' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 18:40:10' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = NULL, `activated_at` = NULL [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-16 18:40:10' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 18:40:10' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (39.7ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-16 18:42:10', `state` = 'active', `updated_at` = '2008-12-16 18:42:10' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mUser Load (39.8ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:42:10', `updated_at` = '2008-12-16 18:42:10' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'd7794931f5626991eabe32e1e4cda3379e0d3852', `updated_at` = '2008-12-16 18:42:10' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 18:42:10' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('13bb5f6c11b4f086e72fee26736efc2d592af4ce', NULL, NULL, '2008-12-16 18:42:10', '0350a11d4162def5bf5c8511b57b9a6cf17fac59', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 18:42:10')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (1.1ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('6b01957029cbed846fb05152f3d7f7d7fab78bb3', NULL, NULL, '2008-12-16 18:42:10', '96487d085ed2d35ba29da9615bb1f4bbaefd43e7', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 18:42:10')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 18:42:10', `state` = 'deleted', `updated_at` = '2008-12-16 18:42:10' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('dc8affc2dce12788da2462bcfeb482e1a2632cb8', NULL, NULL, '2008-12-16 18:42:10', 'de7a19f3653db69cf55f59a161d0db48d528ca9b', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 18:42:10')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15003) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 18:42:10' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:42:10', `updated_at` = '2008-12-16 18:42:10' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 18:42:10' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'c0f6fd25c6a78ffae4b835f8f28c8762f885cce6', `updated_at` = '2008-12-16 18:42:10' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 18:42:10' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:42:11', `remember_token` = '2838e93ec4205723c90b7eb0a7738cbb23ef7fe7', `updated_at` = '2008-12-16 18:42:11' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 18:42:11', `remember_token` = '8d53613f09e876804378b4f5434c3f7aaf923100', `updated_at` = '2008-12-16 18:42:11' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 18:42:11', `remember_token` = '8d53613f09e876804378b4f5434c3f7aaf923100', `updated_at` = '2008-12-16 18:42:11' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 18:42:11' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:42:11', `updated_at` = '2008-12-16 18:42:11' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:42:11', `remember_token` = '2838e93ec4205723c90b7eb0a7738cbb23ef7fe7', `updated_at` = '2008-12-16 18:42:11' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 18:42:11' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:42:11', `remember_token` = '2838e93ec4205723c90b7eb0a7738cbb23ef7fe7', `updated_at` = '2008-12-16 18:42:11' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 18:42:11' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 18:42:11' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 18:42:11', `state` = 'active', `updated_at` = '2008-12-16 18:42:11' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 18:42:11' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'foo-bar', `activated_at` = NULL [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '81d0dcb8d6b36610b9da0283bd89f5786013f15d', `updated_at` = '2008-12-16 18:42:11' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 18:42:11' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 18:42:11' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = NULL, `activated_at` = NULL [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-16 18:42:11' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 18:42:11' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 13:42:13) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 26) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:42:13', `remember_token` = 'b592a78cca3f2b10ef728b71e547dddc671afdee', `updated_at` = '2008-12-16 18:42:13' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 13:42:13) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (1.7ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 12) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:42:13', `remember_token` = 'b592a78cca3f2b10ef728b71e547dddc671afdee', `updated_at` = '2008-12-16 18:42:13' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 18:37:13', `updated_at` = '2008-12-16 18:42:13' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 13:42:13) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'b592a78cca3f2b10ef728b71e547dddc671afdee') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 21) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (40.5ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:42:13) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:42:13', `updated_at` = '2008-12-16 18:42:13' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 52) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:42:13) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:42:13', `updated_at` = '2008-12-16 18:42:13' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 13) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:42:13', `remember_token` = 'b592a78cca3f2b10ef728b71e547dddc671afdee', `updated_at` = '2008-12-16 18:42:13' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 13:42:13) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'b592a78cca3f2b10ef728b71e547dddc671afdee') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:42:13', `updated_at` = '2008-12-16 18:42:13' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=b592a78cca3f2b10ef728b71e547dddc671afdee; path=/; expires=Tue, 30 Dec 2008 18:42:13 GMT
Redirected to /
Completed in 3ms (DB: 52) | 302 Found [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 13:42:13) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 11) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:42:13) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 15) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (43.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:42:14) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.7ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '3755acc2169510d5c2fe31bfc5be0f4a90348f84', `updated_at` = '2008-12-16 18:42:14' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:42:14) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 71) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:42:14) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 12) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:42:14) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 10) | 302 Found [http://test.host/session?email=&password=]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:42:14) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 4ms (DB: 19) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:42:14) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"0", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:42:14', `updated_at` = '2008-12-16 18:42:14' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 14) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:42:14) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:42:14', `updated_at` = '2008-12-16 18:42:14' WHERE `user_id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 4ms (DB: 61) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:42:14) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"1", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:42:14', `updated_at` = '2008-12-16 18:42:14' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:42:14', `remember_token` = '3edc55ff656d3b096e6a848e81106d7f019d20ba', `updated_at` = '2008-12-16 18:42:14' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=3edc55ff656d3b096e6a848e81106d7f019d20ba; path=/; expires=Tue, 30 Dec 2008 18:42:14 GMT
Redirected to /
Completed in 7ms (DB: 12) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;35;1mUser Load (48.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:42:14) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '0aef9d43d8c710036525eb7b281c41aa334e0ec5', `updated_at` = '2008-12-16 18:42:14' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (38.6ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;35;1mUser Load (39.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-16 18:47:53', `state` = 'active', `updated_at` = '2008-12-16 18:47:53' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:47:53', `updated_at` = '2008-12-16 18:47:53' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'e629688991ee78f4fa9cc4065edf5a0daef12194', `updated_at` = '2008-12-16 18:47:53' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 18:47:53' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('cad4db5318ad012bf0638608df9ae75fa333419d', NULL, NULL, '2008-12-16 18:47:53', '33fa904fe850319db4847f0d6319cf88f4abed83', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 18:47:53')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('4697051dc59cb6286098c28df911e977480df9f7', NULL, NULL, '2008-12-16 18:47:53', '90b7f1f76976bec39ea007c63f76eede9fdc829b', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 18:47:53')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 18:47:53', `state` = 'deleted', `updated_at` = '2008-12-16 18:47:53' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('58579f1b0d8dcb90b1027488ea25e7d75687450d', NULL, NULL, '2008-12-16 18:47:53', '9af115158a8c81d1193749db3703e2ecb862cba3', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 18:47:53')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15003) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 18:47:53' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:47:53', `updated_at` = '2008-12-16 18:47:53' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 18:47:54' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '59f6f39593b5486160aa4d585b994ff674c3d319', `updated_at` = '2008-12-16 18:47:54' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 18:47:54' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:47:54', `remember_token` = '5f0fe8eab8e7bb746b50bb9fe0e7d8d0df893482', `updated_at` = '2008-12-16 18:47:54' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 18:47:54', `remember_token` = '328a626e6ae6fc25a039156fc3302cf83ab452b6', `updated_at` = '2008-12-16 18:47:54' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 18:47:54', `remember_token` = '328a626e6ae6fc25a039156fc3302cf83ab452b6', `updated_at` = '2008-12-16 18:47:54' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 18:47:54' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:47:54', `updated_at` = '2008-12-16 18:47:54' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:47:54', `remember_token` = '5f0fe8eab8e7bb746b50bb9fe0e7d8d0df893482', `updated_at` = '2008-12-16 18:47:54' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 18:47:54' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:47:54', `remember_token` = '5f0fe8eab8e7bb746b50bb9fe0e7d8d0df893482', `updated_at` = '2008-12-16 18:47:54' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 18:47:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 18:47:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 18:47:54', `state` = 'active', `updated_at` = '2008-12-16 18:47:54' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 18:47:54' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'foo-bar', `activated_at` = NULL [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '192cc030854b377815cc674d176cd48e7c7637a3', `updated_at` = '2008-12-16 18:47:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 18:47:54' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 18:47:54' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = NULL, `activated_at` = NULL [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-16 18:47:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 18:47:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 13:47:56) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 21) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:47:56', `remember_token` = '30a3ed2a17747678a2bab5aafd8d2d46bad7c373', `updated_at` = '2008-12-16 18:47:56' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 13:47:56) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (1.4ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 12) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:47:56', `remember_token` = '30a3ed2a17747678a2bab5aafd8d2d46bad7c373', `updated_at` = '2008-12-16 18:47:56' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 18:42:56', `updated_at` = '2008-12-16 18:47:56' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 13:47:56) [GET]
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '30a3ed2a17747678a2bab5aafd8d2d46bad7c373') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 12) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (39.5ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:47:56) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:47:56', `updated_at` = '2008-12-16 18:47:56' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 54) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:47:56) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:47:56', `updated_at` = '2008-12-16 18:47:56' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 11) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:47:56', `remember_token` = '30a3ed2a17747678a2bab5aafd8d2d46bad7c373', `updated_at` = '2008-12-16 18:47:56' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 13:47:56) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '30a3ed2a17747678a2bab5aafd8d2d46bad7c373') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:47:56', `updated_at` = '2008-12-16 18:47:56' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=30a3ed2a17747678a2bab5aafd8d2d46bad7c373; path=/; expires=Tue, 30 Dec 2008 18:47:56 GMT
Redirected to /
Completed in 3ms (DB: 12) | 302 Found [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 13:47:56) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 11) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:47:56) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 12) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (40.5ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:47:56) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '46a3bf2e7a3f04bb8d3dacbd0d64321f59762e86', `updated_at` = '2008-12-16 18:47:56' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:47:57) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 69) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:47:57) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 16) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:47:57) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 87) | 302 Found [http://test.host/session?email=&password=]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:47:57) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 14) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:47:57) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"0", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:47:57', `updated_at` = '2008-12-16 18:47:57' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 12) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:47:57) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:47:57', `updated_at` = '2008-12-16 18:47:57' WHERE `user_id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 4ms (DB: 14) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:47:57) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"1", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:47:57', `updated_at` = '2008-12-16 18:47:57' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:47:57', `remember_token` = 'cf6a1d3dc0333459b82c0c28483e10469c0be679', `updated_at` = '2008-12-16 18:47:57' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=cf6a1d3dc0333459b82c0c28483e10469c0be679; path=/; expires=Tue, 30 Dec 2008 18:47:57 GMT
Redirected to /
Completed in 6ms (DB: 12) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;35;1mUser Load (47.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:47:57) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '273b18eaea0a94714dab8f82c737d00e4f99121b', `updated_at` = '2008-12-16 18:47:57' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 13:48:35) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 24) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:48:36', `remember_token` = '75cfd2d1229108e4fa8454cd1cc740e06171942f', `updated_at` = '2008-12-16 18:48:36' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 13:48:36) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (1.4ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 13) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:48:36', `remember_token` = '75cfd2d1229108e4fa8454cd1cc740e06171942f', `updated_at` = '2008-12-16 18:48:36' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 18:43:36', `updated_at` = '2008-12-16 18:48:36' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 13:48:36) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '75cfd2d1229108e4fa8454cd1cc740e06171942f') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 17) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (40.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:48:36) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:48:36', `updated_at` = '2008-12-16 18:48:36' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 54) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:48:36) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:48:36', `updated_at` = '2008-12-16 18:48:36' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 16) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:48:36', `remember_token` = '75cfd2d1229108e4fa8454cd1cc740e06171942f', `updated_at` = '2008-12-16 18:48:36' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 13:48:36) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '75cfd2d1229108e4fa8454cd1cc740e06171942f') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:48:36', `updated_at` = '2008-12-16 18:48:36' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=75cfd2d1229108e4fa8454cd1cc740e06171942f; path=/; expires=Tue, 30 Dec 2008 18:48:36 GMT
Redirected to /
Completed in 3ms (DB: 14) | 302 Found [http://test.host/session/new]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 13:48:36) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 13) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:48:36) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 15) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (40.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:48:36) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'b4b634eb469784d5ae600edae6bab128fa9210d1', `updated_at` = '2008-12-16 18:48:36' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:48:36) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 70) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:48:36) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 16) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:48:36) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 13) | 302 Found [http://test.host/session?email=&password=]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:48:36) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 13) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:48:36) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"0", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:48:36', `updated_at` = '2008-12-16 18:48:36' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 16) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:48:36) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:48:36', `updated_at` = '2008-12-16 18:48:36' WHERE `user_id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 17) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:48:36) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"1", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:48:36', `updated_at` = '2008-12-16 18:48:36' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:48:36', `remember_token` = '75cfd2d1229108e4fa8454cd1cc740e06171942f', `updated_at` = '2008-12-16 18:48:36' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=75cfd2d1229108e4fa8454cd1cc740e06171942f; path=/; expires=Tue, 30 Dec 2008 18:48:36 GMT
Redirected to /
Completed in 7ms (DB: 17) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;35;1mUser Load (48.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:48:36) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '79569ec052ab9572fbe7b98363671a5763fb7fba', `updated_at` = '2008-12-16 18:48:36' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (38.8ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.4ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;36;1mUsState Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;35;1mUser Load (38.9ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-16 18:49:41', `state` = 'active', `updated_at` = '2008-12-16 18:49:41' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:49:41', `updated_at` = '2008-12-16 18:49:41' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '6487a7e96c38f38bc6410bd1b6138c7b05ecc1b8', `updated_at` = '2008-12-16 18:49:41' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 18:49:41' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('698c21e2ea8f0b6e7fe821302a26fdc9a32dfdda', NULL, NULL, '2008-12-16 18:49:41', '3e93886693e3f35812145148dda1b547296132d7', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 18:49:41')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('84a0b4995b6c1aeeec056ee6bdeaffe2daac5e3e', NULL, NULL, '2008-12-16 18:49:41', 'd63b56de29f99a28afaeecb2e51146b1b2d8176d', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 18:49:41')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 18:49:41', `state` = 'deleted', `updated_at` = '2008-12-16 18:49:41' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('280a0d728559e66b8d69fbedca2623c876577925', NULL, NULL, '2008-12-16 18:49:41', '8ea9ebd2326e6b81336bfc070af861b61e30fb29', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 18:49:41')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15003) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 18:49:41' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:49:41', `updated_at` = '2008-12-16 18:49:41' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 18:49:41' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'f377b1a2db98aee5d090cd4d00920c8799d5df3c', `updated_at` = '2008-12-16 18:49:41' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 18:49:41' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:49:41', `remember_token` = '8b70ad1b721465e6ec161af91a19c8e33aa175d3', `updated_at` = '2008-12-16 18:49:41' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 18:49:41', `remember_token` = '43f05627c2da9936fd57ed9a50872e25f9a6cab4', `updated_at` = '2008-12-16 18:49:41' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 18:49:41', `remember_token` = '43f05627c2da9936fd57ed9a50872e25f9a6cab4', `updated_at` = '2008-12-16 18:49:41' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 18:49:42' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:49:42', `updated_at` = '2008-12-16 18:49:42' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:49:42', `remember_token` = 'bf055af69f7c2ecf945e33ef0f352d81dfbdd73f', `updated_at` = '2008-12-16 18:49:42' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 18:49:42' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:49:42', `remember_token` = 'bf055af69f7c2ecf945e33ef0f352d81dfbdd73f', `updated_at` = '2008-12-16 18:49:42' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 18:49:42' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 18:49:42' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 18:49:42', `state` = 'active', `updated_at` = '2008-12-16 18:49:42' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 18:49:42' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'foo-bar', `activated_at` = NULL [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '1f62e9a8d2422333a9f8e70fc348f880d8caf69c', `updated_at` = '2008-12-16 18:49:42' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 18:49:42' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 18:49:42' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = NULL, `activated_at` = NULL [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-16 18:49:42' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 18:49:42' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 13:49:44) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 23) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:49:44', `remember_token` = 'fa450e99f9f4ed5ac8a54c9cb118f50b38e878e2', `updated_at` = '2008-12-16 18:49:44' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 13:49:44) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (1.7ms)
Rendered shared/_footer (0.2ms)
Completed in 5ms (View: 4, DB: 13) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:49:44', `remember_token` = 'fa450e99f9f4ed5ac8a54c9cb118f50b38e878e2', `updated_at` = '2008-12-16 18:49:44' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 18:44:44', `updated_at` = '2008-12-16 18:49:44' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 13:49:44) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'fa450e99f9f4ed5ac8a54c9cb118f50b38e878e2') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 17) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (40.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:49:44) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:49:44', `updated_at` = '2008-12-16 18:49:44' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 53) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:49:44) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:49:44', `updated_at` = '2008-12-16 18:49:44' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 14) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:49:44', `remember_token` = 'fa450e99f9f4ed5ac8a54c9cb118f50b38e878e2', `updated_at` = '2008-12-16 18:49:44' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 13:49:44) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'fa450e99f9f4ed5ac8a54c9cb118f50b38e878e2') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:49:44', `updated_at` = '2008-12-16 18:49:44' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=fa450e99f9f4ed5ac8a54c9cb118f50b38e878e2; path=/; expires=Tue, 30 Dec 2008 18:49:44 GMT
Redirected to /
Completed in 3ms (DB: 12) | 302 Found [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 13:49:44) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 16) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:49:44) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 14) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (41.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:49:44) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '8efdc16170d186868747ea0cf0ccaf771080ec42', `updated_at` = '2008-12-16 18:49:44' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 13:49:44 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactQuarterly.com account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/8efdc16170d186868747ea0cf0ccaf771080ec42

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionnew
Completed in 77ms (DB: 53) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:49:44) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 12) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:49:44) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 11) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:49:44) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 12) | 302 Found [http://test.host/session?email=&password=]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:49:44) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 11) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:49:44) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"0", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:49:44', `updated_at` = '2008-12-16 18:49:44' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 15) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:49:45) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:49:45', `updated_at` = '2008-12-16 18:49:45' WHERE `user_id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 12) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:49:45) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"1", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 18:49:45', `updated_at` = '2008-12-16 18:49:45' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 18:49:45', `remember_token` = 'f905565fe6c8729b2c1bd704fa2e3494bb580ec8', `updated_at` = '2008-12-16 18:49:45' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=f905565fe6c8729b2c1bd704fa2e3494bb580ec8; path=/; expires=Tue, 30 Dec 2008 18:49:45 GMT
Redirected to /
Completed in 7ms (DB: 18) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;35;1mUser Load (47.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 13:49:45) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '8aca3de05042379d5fd3b2ae4e6fb6912da57fe4', `updated_at` = '2008-12-16 18:49:45' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 13:49:45 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactQuarterly.com account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/8aca3de05042379d5fd3b2ae4e6fb6912da57fe4

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionnew
Completed in 8ms (DB: 63) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (38.8ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.5ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mLocation Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `ci_locations`[0m
Google geocoding. Address: 100 Spear St, San Francisco, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Spear St, San Francisco, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Spear St, San Francisco, CA 94105, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Spear St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94105</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-122.3940000,37.7921500,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 19:01:29', `state` = 'active', `updated_at` = '2008-12-16 19:01:29' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:01:29', `updated_at` = '2008-12-16 19:01:29' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'd62ca21a543901be83e809da8c2f31ff7a1deba9', `updated_at` = '2008-12-16 19:01:29' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:01:29' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('a1ce66a0ac91980eaeac63bb8d8e9b3f87d010f6', NULL, NULL, '2008-12-16 19:01:29', '44d56be7a4e1edb3cc66d03b6866a071e13fd088', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 19:01:29')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('55e42fa1d963494997d8941bdbefe70ebbe6d609', NULL, NULL, '2008-12-16 19:01:29', 'da4942d4ab6a26804b3f4ebb0d4bc42b72aefbaa', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 19:01:29')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 19:01:29', `state` = 'deleted', `updated_at` = '2008-12-16 19:01:29' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('0f3ede1399837f2a238c9c9d1e198e9ef9ce38d6', NULL, NULL, '2008-12-16 19:01:29', '13acae56d7de9bbe4ae062b39ea3d2e2a09af82a', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 19:01:29')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15003) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 19:01:29' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:01:29', `updated_at` = '2008-12-16 19:01:29' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (49.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 19:01:29' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'fd1282c3b5fb4051bea4b5f7ee4788db08d95920', `updated_at` = '2008-12-16 19:01:29' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:01:29' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:01:29', `remember_token` = '8130de981433563c8b95cb9197a1b4e454de4e23', `updated_at` = '2008-12-16 19:01:29' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 19:01:29', `remember_token` = '51be2657a3e0a5528e3ffc4c3ce69b7931df0827', `updated_at` = '2008-12-16 19:01:29' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 19:01:29', `remember_token` = '51be2657a3e0a5528e3ffc4c3ce69b7931df0827', `updated_at` = '2008-12-16 19:01:29' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (49.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 19:01:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:01:30', `updated_at` = '2008-12-16 19:01:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:01:30', `remember_token` = 'bb98824d690a2c6e5b4754339e732be6018bd1ea', `updated_at` = '2008-12-16 19:01:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (49.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:01:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:01:30', `remember_token` = 'bb98824d690a2c6e5b4754339e732be6018bd1ea', `updated_at` = '2008-12-16 19:01:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 19:01:30' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:01:30' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-16 19:01:30', `state` = 'active', `updated_at` = '2008-12-16 19:01:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:01:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'foo-bar', `activated_at` = NULL [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '34bca7cc8637574e641ce60426e8d9b79e24462e', `updated_at` = '2008-12-16 19:01:30' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:01:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:01:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = NULL, `activated_at` = NULL [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-16 19:01:30' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (50.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:01:30' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (39.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.4ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mLocation Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `ci_locations`[0m
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: 
City: City Name
State: 
Zip: 
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>City Name, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Holy Name (Es), King, ON, Canada</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>CA</CountryNameCode><CountryName>Canada</CountryName><AdministrativeArea><AdministrativeAreaName>ON</AdministrativeAreaName><Locality><LocalityName>King</LocalityName><PostalCode><PostalCodeNumber>L7B</PostalCodeNumber><AddressLine>Holy Name (Es)</AddressLine></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-79.5391900,43.9247060,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Google geocoding. Address: 100 Spear St, San Francisco, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Spear St, San Francisco, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Spear St, San Francisco, CA 94105, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Spear St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94105</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-122.3940000,37.7921500,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 19:04:20', `state` = 'active', `updated_at` = '2008-12-16 19:04:20' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:04:20', `updated_at` = '2008-12-16 19:04:20' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '0b8ae26c23aacc11b91b8c7d245792e81dc2b3c6', `updated_at` = '2008-12-16 19:04:21' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:04:21' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('dfbc5c5448c682ece47a171b545ab1c4a489ac13', NULL, NULL, '2008-12-16 19:04:21', 'c4ae907326cdfb476606873a6b5a21439b061e52', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 19:04:21')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('5700a33eac482e97dcd7e6c0dd685d2fe2cd4dd5', NULL, NULL, '2008-12-16 19:04:21', '4d7551da6f7bdf9d95891af4e52657e2e56c3a02', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 19:04:21')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 19:04:21', `state` = 'deleted', `updated_at` = '2008-12-16 19:04:21' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('4766f510a70824603844193a713a6e338e87dee0', NULL, NULL, '2008-12-16 19:04:21', '2826d87c1e456df5fe622ee947a2501cb9b82777', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 19:04:21')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15002) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 19:04:21' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:04:21', `updated_at` = '2008-12-16 19:04:21' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (49.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 19:04:21' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '4e38e8ab656c43aad2706b80f2e2337b7a76a60b', `updated_at` = '2008-12-16 19:04:21' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:04:21' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:04:21', `remember_token` = 'c232a103153ab354a2798a404a3fb0f737be8a32', `updated_at` = '2008-12-16 19:04:21' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 19:04:21', `remember_token` = 'b5a14405109a018b06ec96fefdfd662dd8d4f5a8', `updated_at` = '2008-12-16 19:04:21' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 19:04:21', `remember_token` = 'b5a14405109a018b06ec96fefdfd662dd8d4f5a8', `updated_at` = '2008-12-16 19:04:21' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (49.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 19:04:21' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:04:21', `updated_at` = '2008-12-16 19:04:21' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:04:21', `remember_token` = 'c232a103153ab354a2798a404a3fb0f737be8a32', `updated_at` = '2008-12-16 19:04:21' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (49.9ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:04:21' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:04:21', `remember_token` = 'c232a103153ab354a2798a404a3fb0f737be8a32', `updated_at` = '2008-12-16 19:04:21' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 19:04:21' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:04:21' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-16 19:04:21', `state` = 'active', `updated_at` = '2008-12-16 19:04:21' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:04:22' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'foo-bar', `activated_at` = NULL [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '0e2c6050cf0e32bd6f687cd6dc4a27f3c12197d1', `updated_at` = '2008-12-16 19:04:22' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:04:22' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:04:22' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = NULL, `activated_at` = NULL [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-16 19:04:22' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (50.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:04:22' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (38.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: 
City: City Name
State: 
Zip: 
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>City Name, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Holy Name (Es), King, ON, Canada</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>CA</CountryNameCode><CountryName>Canada</CountryName><AdministrativeArea><AdministrativeAreaName>ON</AdministrativeAreaName><Locality><LocalityName>King</LocalityName><PostalCode><PostalCodeNumber>L7B</PostalCodeNumber><AddressLine>Holy Name (Es)</AddressLine></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-79.5391900,43.9247060,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mLocation Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;36;1mCountryName Load (43.4ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Google geocoding. Address: 100 Spear St, San Francisco, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Spear St, San Francisco, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Spear St, San Francisco, CA 94105, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Spear St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94105</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-122.3940000,37.7921500,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (43.3ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-16 19:04:50', `state` = 'active', `updated_at` = '2008-12-16 19:04:50' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:04:50', `updated_at` = '2008-12-16 19:04:50' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (42.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '0ddb203582df134970fbab501da1e76fd5c226f0', `updated_at` = '2008-12-16 19:04:50' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:04:50' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('6ef2e00338ceede365a0b670fe9961fc8e11bdc1', NULL, NULL, '2008-12-16 19:04:50', '97988dd603ca1fcbce1c46eff2a5655ecaad3f01', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 19:04:50')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('cd978e9020f1dbbd28cebe870ee41464039d9da9', NULL, NULL, '2008-12-16 19:04:51', '1d9f4c2e3ffb78c62e00f15ae6e543a2de6b9726', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 19:04:51')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 19:04:51', `state` = 'deleted', `updated_at` = '2008-12-16 19:04:51' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('06362b7c221bdf99c6037b4ddb7f99e34dcfe415', NULL, NULL, '2008-12-16 19:04:51', 'ec334000ec5aa3fece49548c8f842d8ad8121868', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 19:04:51')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15002) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 19:04:51' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:04:51', `updated_at` = '2008-12-16 19:04:51' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 19:04:51' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '226e804346676b57b3f3167a57105e434d66aba1', `updated_at` = '2008-12-16 19:04:51' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:04:51' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:04:51', `remember_token` = '51976fea791c1c4dc5c6af92acbe5a7d28d1f720', `updated_at` = '2008-12-16 19:04:51' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 19:04:51', `remember_token` = '66c0aa3e508affb1b1f269e218d11d9d9d46cc0e', `updated_at` = '2008-12-16 19:04:51' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 19:04:51', `remember_token` = '66c0aa3e508affb1b1f269e218d11d9d9d46cc0e', `updated_at` = '2008-12-16 19:04:51' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 19:04:51' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:04:51', `updated_at` = '2008-12-16 19:04:51' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:04:51', `remember_token` = '51976fea791c1c4dc5c6af92acbe5a7d28d1f720', `updated_at` = '2008-12-16 19:04:51' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:04:51' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:04:51', `remember_token` = '51976fea791c1c4dc5c6af92acbe5a7d28d1f720', `updated_at` = '2008-12-16 19:04:51' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 19:04:51' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:04:52' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 19:04:52', `state` = 'active', `updated_at` = '2008-12-16 19:04:52' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:04:52' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'foo-bar', `activated_at` = NULL [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '6bd09758deb82a8524b8860cacdd3403b77af2e0', `updated_at` = '2008-12-16 19:04:52' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:04:52' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:04:52' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = NULL, `activated_at` = NULL [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-16 19:04:52' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:04:52' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (38.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: 
City: City Name
State: 
Zip: 
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>City Name, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Holy Name (Es), King, ON, Canada</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>CA</CountryNameCode><CountryName>Canada</CountryName><AdministrativeArea><AdministrativeAreaName>ON</AdministrativeAreaName><Locality><LocalityName>King</LocalityName><PostalCode><PostalCodeNumber>L7B</PostalCodeNumber><AddressLine>Holy Name (Es)</AddressLine></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-79.5391900,43.9247060,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mLocation Create (0.3ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES(NULL, NULL, '2008-12-16 19:05:35', NULL, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2, '2008-12-16 19:05:35')[0m
  [4;36;1mLocation::Version Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES(NULL, NULL, NULL, '2008-12-16 19:05:35', NULL, 15000, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 1) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Google geocoding. Address: 100 Spear St, San Francisco, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Spear St, San Francisco, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Spear St, San Francisco, CA 94105, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Spear St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94105</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-122.3940000,37.7921500,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 19:05:36', `state` = 'active', `updated_at` = '2008-12-16 19:05:36' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:05:36', `updated_at` = '2008-12-16 19:05:36' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '522e97c108f680b84abdb1fe71ec3395a6e6c322', `updated_at` = '2008-12-16 19:05:36' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:05:36' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('1d3d720581baf0a0c746b70c8349f0ada6430c2a', NULL, NULL, '2008-12-16 19:05:36', '6e4249b3ce2597ca4039a1f2e3cde8302f00b7ea', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 19:05:36')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('4df951f13c608cda6ad0aad09fee80ad9eadd60f', NULL, NULL, '2008-12-16 19:05:36', '7296a3233455cf722159dde0527d2e571c809047', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 19:05:36')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 19:05:36', `state` = 'deleted', `updated_at` = '2008-12-16 19:05:36' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('cd948e086dcacb48d9d6f7f6673aeb7a5a249170', NULL, NULL, '2008-12-16 19:05:36', '638c9406da77591d4d880599a6e41261dd653004', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 19:05:36')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15002) [0m
  [4;35;1mUser Load (49.7ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 19:05:36' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:05:36', `updated_at` = '2008-12-16 19:05:36' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 19:05:36' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '66e562aa6573f431b53d70b6750e33fd2af04df3', `updated_at` = '2008-12-16 19:05:36' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:05:36' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.7ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:05:36', `remember_token` = '3fec719ad3a6bf1bff4a9dff501393cd92c28fb5', `updated_at` = '2008-12-16 19:05:36' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 19:05:36', `remember_token` = '86397be0edda73e041131b4adee7b5f39e685d94', `updated_at` = '2008-12-16 19:05:36' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (50.8ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 19:05:36', `remember_token` = '86397be0edda73e041131b4adee7b5f39e685d94', `updated_at` = '2008-12-16 19:05:36' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (49.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 19:05:37' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:05:37', `updated_at` = '2008-12-16 19:05:37' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:05:37', `remember_token` = '157fe33ed2a766c9be5cd84b12bd1b2ef9b7dc0c', `updated_at` = '2008-12-16 19:05:37' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:05:37' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (50.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:05:37', `remember_token` = '157fe33ed2a766c9be5cd84b12bd1b2ef9b7dc0c', `updated_at` = '2008-12-16 19:05:37' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 19:05:37' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:05:37' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-16 19:05:37', `state` = 'active', `updated_at` = '2008-12-16 19:05:37' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:05:37' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.7ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'foo-bar', `activated_at` = NULL [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'fe554a1470e31cd3a01565700be12475225cfd86', `updated_at` = '2008-12-16 19:05:37' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:05:37' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:05:37' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = NULL, `activated_at` = NULL [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-16 19:05:37' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (50.9ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:05:37' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (39.0ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: 
City: City Name
State: 
Zip: 
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>City Name, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Holy Name (Es), King, ON, Canada</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>CA</CountryNameCode><CountryName>Canada</CountryName><AdministrativeArea><AdministrativeAreaName>ON</AdministrativeAreaName><Locality><LocalityName>King</LocalityName><PostalCode><PostalCodeNumber>L7B</PostalCodeNumber><AddressLine>Holy Name (Es)</AddressLine></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-79.5391900,43.9247060,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mLocation Create (0.3ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES(NULL, NULL, '2008-12-16 19:06:04', NULL, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2, '2008-12-16 19:06:04')[0m
  [4;36;1mLocation::Version Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES(NULL, NULL, NULL, '2008-12-16 19:06:04', NULL, 15000, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 1) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Google geocoding. Address: 100 Spear St, San Francisco, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Spear St, San Francisco, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Spear St, San Francisco, CA 94105, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Spear St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94105</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-122.3940000,37.7921500,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 19:06:05', `state` = 'active', `updated_at` = '2008-12-16 19:06:05' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:06:05', `updated_at` = '2008-12-16 19:06:05' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'f2d2de85795db4ee611186fb3d95525989738229', `updated_at` = '2008-12-16 19:06:05' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:06:05' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('1150deb08e7ba8050ef94e89b9d818cd20003796', NULL, NULL, '2008-12-16 19:06:05', '52010032742f218bd18da8397a945131057812d4', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 19:06:05')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('ed422afbeaeef1ccc3eeda60b07150c3ab1936f2', NULL, NULL, '2008-12-16 19:06:05', 'ffce1467f692fd54606b9cced1d91720c41e76cf', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 19:06:05')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 19:06:05', `state` = 'deleted', `updated_at` = '2008-12-16 19:06:05' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('68fcad6e18bc1aaf83859014baf242a90b66f18e', NULL, NULL, '2008-12-16 19:06:05', '11a61c8f99dd99a3249994bc57e7ad4dfe2b4853', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 19:06:05')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15002) [0m
  [4;35;1mUser Load (49.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 19:06:05' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:06:05', `updated_at` = '2008-12-16 19:06:05' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 19:06:05' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'b00bcf67e5736283d9f3b48f67046198d833554f', `updated_at` = '2008-12-16 19:06:05' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:06:05' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:06:05', `remember_token` = 'c29d5210029de420769398c264aa915261c9eb6e', `updated_at` = '2008-12-16 19:06:05' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 19:06:06', `remember_token` = 'a583b767e022875bb760c1a60a1e22d842001a11', `updated_at` = '2008-12-16 19:06:06' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (50.5ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 19:06:06', `remember_token` = 'a583b767e022875bb760c1a60a1e22d842001a11', `updated_at` = '2008-12-16 19:06:06' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (49.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 19:06:06' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:06:06', `updated_at` = '2008-12-16 19:06:06' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:06:06', `remember_token` = '6fd4fa76afe5f0793a014e1d147aa80cc5d6ef15', `updated_at` = '2008-12-16 19:06:06' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:06:06' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (50.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:06:06', `remember_token` = '6fd4fa76afe5f0793a014e1d147aa80cc5d6ef15', `updated_at` = '2008-12-16 19:06:06' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 19:06:06' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:06:06' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-16 19:06:06', `state` = 'active', `updated_at` = '2008-12-16 19:06:06' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:06:06' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'foo-bar', `activated_at` = NULL [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'be42bd4faaf6ac6328263157b90392937d592025', `updated_at` = '2008-12-16 19:06:06' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:06:06' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:06:06' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = NULL, `activated_at` = NULL [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-16 19:06:06' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (51.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:06:06' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (38.4ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: 
City: City Name
State: 
Zip: 
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>City Name, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Holy Name (Es), King, ON, Canada</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>CA</CountryNameCode><CountryName>Canada</CountryName><AdministrativeArea><AdministrativeAreaName>ON</AdministrativeAreaName><Locality><LocalityName>King</LocalityName><PostalCode><PostalCodeNumber>L7B</PostalCodeNumber><AddressLine>Holy Name (Es)</AddressLine></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-79.5391900,43.9247060,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mLocation Create (0.3ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES(NULL, NULL, '2008-12-16 19:06:53', NULL, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2, '2008-12-16 19:06:53')[0m
  [4;36;1mLocation::Version Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES(NULL, NULL, NULL, '2008-12-16 19:06:53', NULL, 15000, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 1) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
Google geocoding. Address: 100 Spear St, San Francisco, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Spear St, San Francisco, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Spear St, San Francisco, CA 94105, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Spear St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94105</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-122.3940000,37.7921500,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-16 19:06:54', `state` = 'active', `updated_at` = '2008-12-16 19:06:54' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:06:54', `updated_at` = '2008-12-16 19:06:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'd4e08e53d9c0f047ac562bf5427f8cd2bee07ea2', `updated_at` = '2008-12-16 19:06:54' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:06:54' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('b5135d0e490200b289fd219e0f017cf8133e6e6b', NULL, NULL, '2008-12-16 19:06:55', '74c5d142d5cec6345efec966bdbf0bf2e2d7a05c', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 19:06:55')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('d464eb1928e9f63011011ab3fa19a59936824ca5', NULL, NULL, '2008-12-16 19:06:55', '84f879fecaa74744021dab050dbd52af82eef695', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 19:06:55')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 19:06:55', `state` = 'deleted', `updated_at` = '2008-12-16 19:06:55' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('a86c9c1fdf4fedcfda2acc2d4da77d46bbfc7ebf', NULL, NULL, '2008-12-16 19:06:55', '524f95e9c8d346fb6c19f0a995eccad245956322', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 19:06:55')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15002) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 19:06:55' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:06:55', `updated_at` = '2008-12-16 19:06:55' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (49.9ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 19:06:55' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '291f1ff5e4e78d507f2a0c2ba50cbb351bc543ab', `updated_at` = '2008-12-16 19:06:55' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:06:55' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:06:55', `remember_token` = '24ff9a42a5dc82255afea00dea1e15058df5fe5c', `updated_at` = '2008-12-16 19:06:55' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 19:06:55', `remember_token` = 'a5ff3f336ae4d8a4c29f10f7ff65eb159400c4ec', `updated_at` = '2008-12-16 19:06:55' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 19:06:55', `remember_token` = 'a5ff3f336ae4d8a4c29f10f7ff65eb159400c4ec', `updated_at` = '2008-12-16 19:06:55' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (50.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (50.8ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 19:06:55' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:06:55', `updated_at` = '2008-12-16 19:06:55' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:06:55', `remember_token` = '24ff9a42a5dc82255afea00dea1e15058df5fe5c', `updated_at` = '2008-12-16 19:06:55' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:06:56' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:06:56', `remember_token` = '02a30b386c8379bc94d917b32343005e9a5b367f', `updated_at` = '2008-12-16 19:06:56' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 19:06:56' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (50.7ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:06:56' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 19:06:56', `state` = 'active', `updated_at` = '2008-12-16 19:06:56' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:06:56' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'foo-bar', `activated_at` = NULL [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '27801a1e2a3d1f91c270b72fab965504cb5c9615', `updated_at` = '2008-12-16 19:06:56' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:06:56' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:06:56' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = NULL, `activated_at` = NULL [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-16 19:06:56' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:06:56' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 14:07:30) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 33) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:07:30', `remember_token` = '565ff1c95f8a9ccd6b02df1bd2cfab8a51341ed6', `updated_at` = '2008-12-16 19:07:30' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 14:07:30) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (1.4ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 3, DB: 19) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (39.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:07:30', `remember_token` = '565ff1c95f8a9ccd6b02df1bd2cfab8a51341ed6', `updated_at` = '2008-12-16 19:07:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 19:02:30', `updated_at` = '2008-12-16 19:07:30' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 14:07:30) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '565ff1c95f8a9ccd6b02df1bd2cfab8a51341ed6') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 61) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:07:30) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:07:30', `updated_at` = '2008-12-16 19:07:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 20) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:07:30) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:07:30', `updated_at` = '2008-12-16 19:07:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 23) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:07:30', `remember_token` = '565ff1c95f8a9ccd6b02df1bd2cfab8a51341ed6', `updated_at` = '2008-12-16 19:07:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 14:07:30) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '565ff1c95f8a9ccd6b02df1bd2cfab8a51341ed6') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:07:30', `updated_at` = '2008-12-16 19:07:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=565ff1c95f8a9ccd6b02df1bd2cfab8a51341ed6; path=/; expires=Tue, 30 Dec 2008 19:07:30 GMT
Redirected to /
Completed in 4ms (DB: 20) | 302 Found [http://test.host/session/new]
  [4;35;1mUser Load (42.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 14:07:31) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 63) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:07:31) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 3ms (DB: 19) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:07:31) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '518a375cba7a81f2631361e9c7c52252135b5138', `updated_at` = '2008-12-16 19:07:31' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 14:07:31 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactQuarterly.com account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/518a375cba7a81f2631361e9c7c52252135b5138

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionnew
Completed in 75ms (DB: 15) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:07:31) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 14) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:07:31) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 14) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:07:31) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 13) | 302 Found [http://test.host/session?email=&password=]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:07:31) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 14) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:07:31) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"0", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:07:31', `updated_at` = '2008-12-16 19:07:31' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 66) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:07:31) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:07:31', `updated_at` = '2008-12-16 19:07:31' WHERE `user_id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 17) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:07:31) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"1", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:07:31', `updated_at` = '2008-12-16 19:07:31' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:07:31', `remember_token` = '0b6dd5dc195727b4c3e1d276a307677aedaa82c2', `updated_at` = '2008-12-16 19:07:31' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=0b6dd5dc195727b4c3e1d276a307677aedaa82c2; path=/; expires=Tue, 30 Dec 2008 19:07:31 GMT
Redirected to /
Completed in 7ms (DB: 16) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:07:31) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '38bc41e744b31dea48f4b627338e84de0d1db426', `updated_at` = '2008-12-16 19:07:31' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 14:07:31 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactQuarterly.com account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/38bc41e744b31dea48f4b627338e84de0d1db426

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionnew
Completed in 8ms (DB: 18) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (39.8ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (0.8ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: 
City: City Name
State: 
Zip: 
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>City Name, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Holy Name (Es), King, ON, Canada</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>CA</CountryNameCode><CountryName>Canada</CountryName><AdministrativeArea><AdministrativeAreaName>ON</AdministrativeAreaName><Locality><LocalityName>King</LocalityName><PostalCode><PostalCodeNumber>L7B</PostalCodeNumber><AddressLine>Holy Name (Es)</AddressLine></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-79.5391900,43.9247060,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mLocation Create (0.4ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES(NULL, NULL, '2008-12-16 19:14:17', NULL, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2, '2008-12-16 19:14:17')[0m
  [4;36;1mLocation::Version Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES(NULL, NULL, NULL, '2008-12-16 19:14:17', NULL, 15000, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 1) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
Google geocoding. Address: 100 Spear St, San Francisco, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Spear St, San Francisco, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Spear St, San Francisco, CA 94105, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Spear St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94105</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-122.3940000,37.7921500,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.5ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-16 19:14:17', `state` = 'active', `updated_at` = '2008-12-16 19:14:17' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:14:17', `updated_at` = '2008-12-16 19:14:17' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'f20fdf93f75b40a29b6878254f3184d6cafa9216', `updated_at` = '2008-12-16 19:14:18' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:14:18' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('9f2ae01bcf36f532ec817fe4e8abb80bbdd63ede', NULL, NULL, '2008-12-16 19:14:18', '42499fae705c1231031c3f385d0cd46fb2a44096', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 19:14:18')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('73b31fcd5047a9aebc7242854c367f2376fa18ba', NULL, NULL, '2008-12-16 19:14:18', 'f61233b291946e619d2f931bab93c59f0a7730d4', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 19:14:18')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 19:14:18', `state` = 'deleted', `updated_at` = '2008-12-16 19:14:18' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('091924dc1a66d8c2497f08f35aff5ebcba5216f0', NULL, NULL, '2008-12-16 19:14:18', 'e2631c016d1dd7395cbd05fefa2ea534fbe14c3b', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 19:14:18')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15002) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 19:14:18' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:14:18', `updated_at` = '2008-12-16 19:14:18' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (49.6ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 19:14:18' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '029facdf0b49e323b298584010ff4449d70de7f5', `updated_at` = '2008-12-16 19:14:18' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:14:18' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:14:18', `remember_token` = '1b917cc0b634da869e5f3cc9f1c8c8c5bf95352b', `updated_at` = '2008-12-16 19:14:18' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 19:14:18', `remember_token` = 'd885814c3257ba61abbc3fe2a6f41dbc5285f039', `updated_at` = '2008-12-16 19:14:18' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 19:14:18', `remember_token` = 'd885814c3257ba61abbc3fe2a6f41dbc5285f039', `updated_at` = '2008-12-16 19:14:18' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (52.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (53.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 19:14:19' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:14:19', `updated_at` = '2008-12-16 19:14:19' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:14:19', `remember_token` = '44cb807edd27bc1bce0b0d7317784be9f0e5242f', `updated_at` = '2008-12-16 19:14:19' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:14:19' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:14:19', `remember_token` = '44cb807edd27bc1bce0b0d7317784be9f0e5242f', `updated_at` = '2008-12-16 19:14:19' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 19:14:19' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (63.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:14:19' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 19:14:19', `state` = 'active', `updated_at` = '2008-12-16 19:14:19' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:14:19' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Update (0.7ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'foo-bar', `activated_at` = NULL [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '508725484acc05208d0d76e8c1ead680a3809605', `updated_at` = '2008-12-16 19:14:19' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:14:19' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:14:19' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = NULL, `activated_at` = NULL [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-16 19:14:19' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:14:19' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 14:14:21) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 33) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:14:21', `remember_token` = '725bd59eae83d0552037d12a87ff7b38e384870a', `updated_at` = '2008-12-16 19:14:21' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 14:14:21) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (1.4ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 3, DB: 17) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (40.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:14:21', `remember_token` = '725bd59eae83d0552037d12a87ff7b38e384870a', `updated_at` = '2008-12-16 19:14:21' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 19:09:21', `updated_at` = '2008-12-16 19:14:21' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 14:14:21) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '725bd59eae83d0552037d12a87ff7b38e384870a') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 57) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:14:21) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:14:21', `updated_at` = '2008-12-16 19:14:21' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 20) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:14:21) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:14:21', `updated_at` = '2008-12-16 19:14:21' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 18) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:14:21', `remember_token` = '725bd59eae83d0552037d12a87ff7b38e384870a', `updated_at` = '2008-12-16 19:14:21' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 14:14:21) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '725bd59eae83d0552037d12a87ff7b38e384870a') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:14:21', `updated_at` = '2008-12-16 19:14:21' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=725bd59eae83d0552037d12a87ff7b38e384870a; path=/; expires=Tue, 30 Dec 2008 19:14:21 GMT
Redirected to /
Completed in 3ms (DB: 19) | 302 Found [http://test.host/session/new]
  [4;35;1mUser Load (42.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 14:14:21) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 57) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:14:21) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 3ms (DB: 22) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:14:21) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '29456ca9eda0a11647d68bf809e927ef561a8764', `updated_at` = '2008-12-16 19:14:22' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 14:14:22 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactQuarterly.com account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/29456ca9eda0a11647d68bf809e927ef561a8764

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionnew
Completed in 77ms (DB: 18) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:14:22) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 16) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:14:22) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 20) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:14:22) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 19) | 302 Found [http://test.host/session?email=&password=]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:14:22) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 14) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:14:22) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"0", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:14:22', `updated_at` = '2008-12-16 19:14:22' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 63) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:14:22) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:14:22', `updated_at` = '2008-12-16 19:14:22' WHERE `user_id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 17) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:14:22) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"1", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:14:22', `updated_at` = '2008-12-16 19:14:22' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:14:22', `remember_token` = '98b2d6d87892ff21c1570d7ec2199579642e0f02', `updated_at` = '2008-12-16 19:14:22' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=98b2d6d87892ff21c1570d7ec2199579642e0f02; path=/; expires=Tue, 30 Dec 2008 19:14:22 GMT
Redirected to /
Completed in 7ms (DB: 16) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:14:22) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '77c5b8a287f2c475a7c1fa7e41af7284a8f60a5a', `updated_at` = '2008-12-16 19:14:22' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 14:14:22 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactQuarterly.com account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/77c5b8a287f2c475a7c1fa7e41af7284a8f60a5a

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionnew
Completed in 8ms (DB: 17) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '670f357dbf05d7d87323e6f4a8922519327bcb2e', `updated_at` = '2008-12-16 19:14:22' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:14:22' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 14:14:22) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"670f357dbf05d7d87323e6f4a8922519327bcb2e"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '670f357dbf05d7d87323e6f4a8922519327bcb2e') LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-16 19:14:22', `state` = 'active', `updated_at` = '2008-12-16 19:14:22' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 6ms (DB: 66) | 302 Found [http://test.host/activate/670f357dbf05d7d87323e6f4a8922519327bcb2e?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 14:14:22) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 14:14:22) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '097d9dde80cff6b6b7952dc5508ed2798c67f298', `updated_at` = '2008-12-16 19:14:22' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 14:14:22) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-16 19:14:22' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 14:14:22) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 19:14:22' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 128) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:14:22', `updated_at` = '2008-12-16 19:14:22' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = 'f3f0edd703d16122eaf512714562646b9a3b42e7', `updated_at` = '2008-12-16 19:14:23' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 14:14:23) [GET]
  Parameters: {"password_reset_code"=>"f3f0edd703d16122eaf512714562646b9a3b42e7"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'f3f0edd703d16122eaf512714562646b9a3b42e7') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 15) | 200 OK [http://test.host/reset_password/f3f0edd703d16122eaf512714562646b9a3b42e7]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '73e6ea4afabe3aa4b140a874f24f96ab432b0b37', `updated_at` = '2008-12-16 19:14:23' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:14:23' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 14:14:23) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"73e6ea4afabe3aa4b140a874f24f96ab432b0b37"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '73e6ea4afabe3aa4b140a874f24f96ab432b0b37') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 17) | 200 OK [http://test.host/activate/73e6ea4afabe3aa4b140a874f24f96ab432b0b37?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 14:14:23) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 68) | 302 Found [http://test.host/]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 14:14:23) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 14:14:23) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '6f74d76845e11f0bc0f258f74e016754cb1f6d77', `updated_at` = '2008-12-16 19:14:23' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 14:14:23 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactQuarterly.com account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/6f74d76845e11f0bc0f258f74e016754cb1f6d77

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 10ms (View: 2, DB: 119) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 14:14:23) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 19) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 14:14:23) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 16) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 14:14:23) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 15) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 14:14:23) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 3, DB: 67) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 14:14:23) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 16) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 14:14:23) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 16) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 14:14:23) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 16) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 14:14:24) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 75) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 14:14:24) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 16) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 14:14:24) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 15) | 200 OK [http://test.host/reset_password/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '2f3ec32a8079446fbd6fe93541bddddcf6578517', `updated_at` = '2008-12-16 19:14:24' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 14:14:24) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"2f3ec32a8079446fbd6fe93541bddddcf6578517"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '2f3ec32a8079446fbd6fe93541bddddcf6578517') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 19) | 200 OK [http://test.host/reset_password/2f3ec32a8079446fbd6fe93541bddddcf6578517?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 14:14:24) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 1, DB: 71) | 200 OK [http://test.host/activate/randomgarbage]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '0f6650efb718cf30b073183ec57bf8ce99a71522', `updated_at` = '2008-12-16 19:14:24' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 14:14:24) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"0f6650efb718cf30b073183ec57bf8ce99a71522"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '0f6650efb718cf30b073183ec57bf8ce99a71522') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-16 19:14:24' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 21) | 200 OK [http://test.host/reset_password/0f6650efb718cf30b073183ec57bf8ce99a71522?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:14:24', `updated_at` = '2008-12-16 19:14:24' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '648936427081abf069f4b4d06f703b4ef8ccedac', `updated_at` = '2008-12-16 19:14:24' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:14:24' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 14:14:24) [GET]
  Parameters: {"activation_code"=>"648936427081abf069f4b4d06f703b4ef8ccedac"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '648936427081abf069f4b4d06f703b4ef8ccedac') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 113) | 200 OK [http://test.host/activate/648936427081abf069f4b4d06f703b4ef8ccedac]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (38.8ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: 
City: City Name
State: 
Zip: 
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>City Name, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Holy Name (Es), King, ON, Canada</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>CA</CountryNameCode><CountryName>Canada</CountryName><AdministrativeArea><AdministrativeAreaName>ON</AdministrativeAreaName><Locality><LocalityName>King</LocalityName><PostalCode><PostalCodeNumber>L7B</PostalCodeNumber><AddressLine>Holy Name (Es)</AddressLine></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-79.5391900,43.9247060,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mLocation Create (0.3ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES(NULL, NULL, '2008-12-16 19:15:16', NULL, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2, '2008-12-16 19:15:16')[0m
  [4;36;1mLocation::Version Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES(NULL, NULL, NULL, '2008-12-16 19:15:16', NULL, 15000, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 1) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
Google geocoding. Address: 100 Spear St, San Francisco, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Spear St, San Francisco, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Spear St, San Francisco, CA 94105, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Spear St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94105</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-122.3940000,37.7921500,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-16 19:15:17', `state` = 'active', `updated_at` = '2008-12-16 19:15:17' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:15:17', `updated_at` = '2008-12-16 19:15:17' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'dc212119eb0f19418cd7128e51a4a12ef02f1f12', `updated_at` = '2008-12-16 19:15:17' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:15:17' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('7466dd951d2eff7d14b91045ec8b2e94edf5abf9', NULL, NULL, '2008-12-16 19:15:17', 'a572734f92031fb460d9f7945a6549d9b79e7d92', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 19:15:17')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('e1bb83edfc3503137f8ebd80d6cfa939617ee63f', NULL, NULL, '2008-12-16 19:15:17', '8a4df5fb5d901ccaf5a9ed2601a33808e1de3a9f', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 19:15:17')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 19:15:17', `state` = 'deleted', `updated_at` = '2008-12-16 19:15:17' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('a5ce500e1b9d0a4ea0a25bdf142ab12ace59d64f', NULL, NULL, '2008-12-16 19:15:17', '4029c6499bcfa3991a561a85b4e1883c43de56e9', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 19:15:17')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15002) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 19:15:18' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:15:18', `updated_at` = '2008-12-16 19:15:18' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (50.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 19:15:18' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'e8756ca097ab8b24590629717e9455581c6d4a24', `updated_at` = '2008-12-16 19:15:18' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:15:18' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:15:18', `remember_token` = '323dc2eb222e18d083af110cb62a95cc18ae5d5a', `updated_at` = '2008-12-16 19:15:18' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 19:15:18', `remember_token` = 'b1af9e25928e82fdf5e4da55a2344c166fdbb196', `updated_at` = '2008-12-16 19:15:18' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 19:15:18', `remember_token` = 'b1af9e25928e82fdf5e4da55a2344c166fdbb196', `updated_at` = '2008-12-16 19:15:18' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (50.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (50.8ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 19:15:18' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:15:18', `updated_at` = '2008-12-16 19:15:18' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:15:18', `remember_token` = '323dc2eb222e18d083af110cb62a95cc18ae5d5a', `updated_at` = '2008-12-16 19:15:18' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:15:18' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:15:18', `remember_token` = '323dc2eb222e18d083af110cb62a95cc18ae5d5a', `updated_at` = '2008-12-16 19:15:18' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 19:15:18' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (51.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:15:18' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 19:15:18', `state` = 'active', `updated_at` = '2008-12-16 19:15:18' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:15:18' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'foo-bar', `activated_at` = NULL [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '6b139858562eb4197931d3cae32b294fc8ffafa4', `updated_at` = '2008-12-16 19:15:18' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:15:18' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:15:18' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = NULL, `activated_at` = NULL [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-16 19:15:18' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:15:19' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 14:15:20) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 31) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:15:20', `remember_token` = '61414943363643eedb636a3612d1d3932c1e4e39', `updated_at` = '2008-12-16 19:15:20' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 14:15:20) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (1.5ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 17) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (39.8ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:15:20', `remember_token` = '61414943363643eedb636a3612d1d3932c1e4e39', `updated_at` = '2008-12-16 19:15:20' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 19:10:20', `updated_at` = '2008-12-16 19:15:20' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 14:15:20) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '61414943363643eedb636a3612d1d3932c1e4e39') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 56) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:15:20) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:15:20', `updated_at` = '2008-12-16 19:15:20' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 14) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:15:20) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:15:20', `updated_at` = '2008-12-16 19:15:20' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 14) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:15:21', `remember_token` = 'b057e332afc1177a6b993da603efe4c0e3d0cb01', `updated_at` = '2008-12-16 19:15:21' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 14:15:21) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'b057e332afc1177a6b993da603efe4c0e3d0cb01') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:15:21', `updated_at` = '2008-12-16 19:15:21' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=b057e332afc1177a6b993da603efe4c0e3d0cb01; path=/; expires=Tue, 30 Dec 2008 19:15:21 GMT
Redirected to /
Completed in 3ms (DB: 18) | 302 Found [http://test.host/session/new]
  [4;35;1mUser Load (41.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 14:15:21) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 56) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:15:21) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 17) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:15:21) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'af536ef26db76efa84e449bc6dec6792cb8a15d4', `updated_at` = '2008-12-16 19:15:21' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 14:15:21 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactQuarterly.com account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/af536ef26db76efa84e449bc6dec6792cb8a15d4

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionnew
Completed in 76ms (DB: 20) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:15:21) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 14) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:15:21) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 14) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:15:21) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 16) | 302 Found [http://test.host/session?email=&password=]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:15:21) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 16) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:15:21) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"0", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:15:21', `updated_at` = '2008-12-16 19:15:21' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 63) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:15:21) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:15:21', `updated_at` = '2008-12-16 19:15:21' WHERE `user_id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 17) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:15:21) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"1", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:15:21', `updated_at` = '2008-12-16 19:15:21' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:15:21', `remember_token` = 'b057e332afc1177a6b993da603efe4c0e3d0cb01', `updated_at` = '2008-12-16 19:15:21' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=b057e332afc1177a6b993da603efe4c0e3d0cb01; path=/; expires=Tue, 30 Dec 2008 19:15:21 GMT
Redirected to /
Completed in 6ms (DB: 16) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:15:21) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'f89e9939f4e1f467247e700ea5f0f27872ab3b41', `updated_at` = '2008-12-16 19:15:21' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 14:15:21 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactQuarterly.com account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/f89e9939f4e1f467247e700ea5f0f27872ab3b41

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionnew
Completed in 8ms (DB: 18) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '6a92831a8771eca07aadf29094665dd0713064ad', `updated_at` = '2008-12-16 19:15:21' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:15:21' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 14:15:21) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"6a92831a8771eca07aadf29094665dd0713064ad"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '6a92831a8771eca07aadf29094665dd0713064ad') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-16 19:15:21', `state` = 'active', `updated_at` = '2008-12-16 19:15:21' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 6ms (DB: 67) | 302 Found [http://test.host/activate/6a92831a8771eca07aadf29094665dd0713064ad?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 14:15:22) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 14:15:22) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"new_email@foo.com"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "user_account_request"=>{"subscriber_status"=>"new_subscriber"}}


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 14:15:22) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '491555b2a3e293b6b9772c23d48c41b3f770fecd', `updated_at` = '2008-12-16 19:15:22' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 14:15:22) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-16 19:15:22' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 14:15:22) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 19:15:22' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 139) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:15:22', `updated_at` = '2008-12-16 19:15:22' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = 'a4c31067fe6792857f0a88d460c3412df4e16f02', `updated_at` = '2008-12-16 19:15:22' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 14:15:22) [GET]
  Parameters: {"password_reset_code"=>"a4c31067fe6792857f0a88d460c3412df4e16f02"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'a4c31067fe6792857f0a88d460c3412df4e16f02') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 18) | 200 OK [http://test.host/reset_password/a4c31067fe6792857f0a88d460c3412df4e16f02]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'd9e664848a8220d50386d6544199288e576b06d8', `updated_at` = '2008-12-16 19:15:22' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:15:22' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 14:15:22) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"d9e664848a8220d50386d6544199288e576b06d8"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'd9e664848a8220d50386d6544199288e576b06d8') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 18) | 200 OK [http://test.host/activate/d9e664848a8220d50386d6544199288e576b06d8?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 14:15:22) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 70) | 302 Found [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 14:15:22) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>""}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "user_account_request"=>{"subscriber_status"=>"new_subscriber"}}


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 14:15:22) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"new_email@foo.com"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>""}, "user_account_request"=>{"subscriber_status"=>"new_subscriber"}}


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 14:15:22) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 14:15:22) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '47b96d533f11a2faca3aeaabe0584c8accb39bfc', `updated_at` = '2008-12-16 19:15:22' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 14:15:22 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactQuarterly.com account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/47b96d533f11a2faca3aeaabe0584c8accb39bfc

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 10ms (View: 2, DB: 116) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 14:15:22) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 17) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 14:15:22) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 17) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 14:15:22) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 20) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 14:15:23) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 3, DB: 77) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 14:15:23) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 19) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 14:15:23) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 19) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 14:15:23) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.1ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 15) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 14:15:23) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 3, DB: 72) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 14:15:23) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 16) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 14:15:23) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 13) | 200 OK [http://test.host/reset_password/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'bd059ace3e61624570447a994645fa1b38e874d9', `updated_at` = '2008-12-16 19:15:23' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 14:15:23) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"bd059ace3e61624570447a994645fa1b38e874d9"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'bd059ace3e61624570447a994645fa1b38e874d9') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 17) | 200 OK [http://test.host/reset_password/bd059ace3e61624570447a994645fa1b38e874d9?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 14:15:23) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 70) | 200 OK [http://test.host/activate/randomgarbage]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '96212a33a9432c6c499a5727f1992d2f83d2e058', `updated_at` = '2008-12-16 19:15:23' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 14:15:23) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"96212a33a9432c6c499a5727f1992d2f83d2e058"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '96212a33a9432c6c499a5727f1992d2f83d2e058') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-16 19:15:23' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 17) | 200 OK [http://test.host/reset_password/96212a33a9432c6c499a5727f1992d2f83d2e058?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:15:23', `updated_at` = '2008-12-16 19:15:23' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 14:15:23) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"quentin@contactimprov.org"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "user_account_request"=>{"subscriber_status"=>"new_subscriber"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 14:15:23) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"pending_user@contactimprov.org"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "user_account_request"=>{"subscriber_status"=>"new_subscriber"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '39f0ebeb9af341bc0dcd14a44e5b5f0897df6805', `updated_at` = '2008-12-16 19:15:23' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:15:23' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 14:15:23) [GET]
  Parameters: {"activation_code"=>"39f0ebeb9af341bc0dcd14a44e5b5f0897df6805"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '39f0ebeb9af341bc0dcd14a44e5b5f0897df6805') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 105) | 200 OK [http://test.host/activate/39f0ebeb9af341bc0dcd14a44e5b5f0897df6805]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (38.6ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: 
City: City Name
State: 
Zip: 
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>City Name, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Holy Name (Es), King, ON, Canada</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>CA</CountryNameCode><CountryName>Canada</CountryName><AdministrativeArea><AdministrativeAreaName>ON</AdministrativeAreaName><Locality><LocalityName>King</LocalityName><PostalCode><PostalCodeNumber>L7B</PostalCodeNumber><AddressLine>Holy Name (Es)</AddressLine></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-79.5391900,43.9247060,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mLocation Create (0.3ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES(NULL, NULL, '2008-12-16 19:16:58', NULL, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2, '2008-12-16 19:16:58')[0m
  [4;36;1mLocation::Version Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES(NULL, NULL, NULL, '2008-12-16 19:16:58', NULL, 15000, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 1) [0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
Google geocoding. Address: 100 Spear St, San Francisco, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Spear St, San Francisco, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Spear St, San Francisco, CA 94105, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Spear St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94105</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-122.3940000,37.7921500,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;36;1mUsState Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-16 19:16:59', `state` = 'active', `updated_at` = '2008-12-16 19:16:59' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:16:59', `updated_at` = '2008-12-16 19:16:59' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '6de5ded33f88cb7903e9634ae6dbfa79c65ff9b1', `updated_at` = '2008-12-16 19:16:59' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:16:59' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('d3680c17f1e0316801eab90b4b72df99b2cd64ed', NULL, NULL, '2008-12-16 19:16:59', '6864a150f07a9912384ff7154a02ef6efcb5bd03', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 19:16:59')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('d067fb4138acedfc8add693f80112f30f464df46', NULL, NULL, '2008-12-16 19:17:00', 'e2f7a46524bf31adfb70372973be08cb574447ef', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 19:17:00')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 19:17:00', `state` = 'deleted', `updated_at` = '2008-12-16 19:17:00' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('53316f256e83fd396766de751010146b2e8a3e9b', NULL, NULL, '2008-12-16 19:17:00', 'b4e950cbb3756a967a2f5a795ffd7ecf7ae74787', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 19:17:00')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15002) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 19:17:00' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:17:00', `updated_at` = '2008-12-16 19:17:00' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (49.8ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.5ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 19:17:00' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '20c53c9ea066041e8de36482ab697989e35cd7c8', `updated_at` = '2008-12-16 19:17:00' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:17:00' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:17:00', `remember_token` = '3516079f0ef7b9571f04f2d12d5ab5902dc65abe', `updated_at` = '2008-12-16 19:17:00' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 19:17:00', `remember_token` = '08a0f66fa05006053d7ecc3f5eab7949d4ac5cc0', `updated_at` = '2008-12-16 19:17:00' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 19:17:00', `remember_token` = '08a0f66fa05006053d7ecc3f5eab7949d4ac5cc0', `updated_at` = '2008-12-16 19:17:00' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (50.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (51.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 19:17:00' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:17:00', `updated_at` = '2008-12-16 19:17:00' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:17:00', `remember_token` = '3516079f0ef7b9571f04f2d12d5ab5902dc65abe', `updated_at` = '2008-12-16 19:17:00' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:17:00' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:17:01', `remember_token` = '758d4d42b464cf9626f8b2ba866842d57d0ddd25', `updated_at` = '2008-12-16 19:17:01' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 19:17:01' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (50.9ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:17:01' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 19:17:01', `state` = 'active', `updated_at` = '2008-12-16 19:17:01' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:17:01' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'foo-bar', `activated_at` = NULL [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '5d41f24a3ee5d7ffee4dbfc115e5179e0c79abe5', `updated_at` = '2008-12-16 19:17:01' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:17:01' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:17:01' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = NULL, `activated_at` = NULL [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-16 19:17:01' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:17:01' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 14:17:03) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 27) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:17:03', `remember_token` = 'f560ad7777aa69bfc431fae087d1c05ab5172e6e', `updated_at` = '2008-12-16 19:17:03' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 14:17:03) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (1.5ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 19) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (39.7ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:17:03', `remember_token` = 'f560ad7777aa69bfc431fae087d1c05ab5172e6e', `updated_at` = '2008-12-16 19:17:03' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 19:12:03', `updated_at` = '2008-12-16 19:17:03' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 14:17:03) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'f560ad7777aa69bfc431fae087d1c05ab5172e6e') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 56) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:17:03) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:17:03', `updated_at` = '2008-12-16 19:17:03' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 19) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:17:03) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:17:03', `updated_at` = '2008-12-16 19:17:03' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 18) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:17:03', `remember_token` = 'f560ad7777aa69bfc431fae087d1c05ab5172e6e', `updated_at` = '2008-12-16 19:17:03' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 14:17:03) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'f560ad7777aa69bfc431fae087d1c05ab5172e6e') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:17:03', `updated_at` = '2008-12-16 19:17:03' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=f560ad7777aa69bfc431fae087d1c05ab5172e6e; path=/; expires=Tue, 30 Dec 2008 19:17:03 GMT
Redirected to /
Completed in 3ms (DB: 16) | 302 Found [http://test.host/session/new]
  [4;35;1mUser Load (41.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 14:17:03) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 57) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:17:03) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 19) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:17:03) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '1106f3ef13c2bf5d50bc323d7c8447832b0f6972', `updated_at` = '2008-12-16 19:17:03' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 14:17:03 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactQuarterly.com account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/1106f3ef13c2bf5d50bc323d7c8447832b0f6972

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionnew
Completed in 76ms (DB: 16) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:17:03) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 19) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:17:03) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 16) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:17:03) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 19) | 302 Found [http://test.host/session?email=&password=]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:17:03) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 16) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:17:03) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"0", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:17:03', `updated_at` = '2008-12-16 19:17:03' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 65) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:17:04) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:17:04', `updated_at` = '2008-12-16 19:17:04' WHERE `user_id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 16) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:17:04) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"1", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:17:04', `updated_at` = '2008-12-16 19:17:04' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:17:04', `remember_token` = '921f2b591e108a7b913343961528fd8d522ba5fa', `updated_at` = '2008-12-16 19:17:04' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=921f2b591e108a7b913343961528fd8d522ba5fa; path=/; expires=Tue, 30 Dec 2008 19:17:04 GMT
Redirected to /
Completed in 7ms (DB: 16) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:17:04) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'd8b8e9acc78f21eb870053eeea26d1a5237c0b1a', `updated_at` = '2008-12-16 19:17:04' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 14:17:04 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactQuarterly.com account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/d8b8e9acc78f21eb870053eeea26d1a5237c0b1a

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionnew
Completed in 8ms (DB: 16) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '25f6ec21db7cb3338312d062f07ea7a710697c95', `updated_at` = '2008-12-16 19:17:04' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:17:04' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 14:17:04) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"25f6ec21db7cb3338312d062f07ea7a710697c95"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '25f6ec21db7cb3338312d062f07ea7a710697c95') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-16 19:17:04', `state` = 'active', `updated_at` = '2008-12-16 19:17:04' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 6ms (DB: 71) | 302 Found [http://test.host/activate/25f6ec21db7cb3338312d062f07ea7a710697c95?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 14:17:04) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 14:17:04) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = 'd92ba902c123a573d3475f7107b5a0271eaf1334', `updated_at` = '2008-12-16 19:17:04' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 14:17:04) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-16 19:17:04' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 14:17:04) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 19:17:04' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 9ms (View: 2, DB: 124) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:17:04', `updated_at` = '2008-12-16 19:17:04' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '790886899d6ccbbd77ac62e9958492d23654f186', `updated_at` = '2008-12-16 19:17:04' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 14:17:04) [GET]
  Parameters: {"password_reset_code"=>"790886899d6ccbbd77ac62e9958492d23654f186"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '790886899d6ccbbd77ac62e9958492d23654f186') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 17) | 200 OK [http://test.host/reset_password/790886899d6ccbbd77ac62e9958492d23654f186]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '5a4668c22494b4a8212d6ec4bc57a75228b4b860', `updated_at` = '2008-12-16 19:17:04' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:17:04' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 14:17:04) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"5a4668c22494b4a8212d6ec4bc57a75228b4b860"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '5a4668c22494b4a8212d6ec4bc57a75228b4b860') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 17) | 200 OK [http://test.host/activate/5a4668c22494b4a8212d6ec4bc57a75228b4b860?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 14:17:04) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 18) | 302 Found [http://test.host/]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 14:17:04) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 14:17:04) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '71c797fbeedc4106bce7db5f24ee477f187655eb', `updated_at` = '2008-12-16 19:17:04' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 14:17:04 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactQuarterly.com account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/71c797fbeedc4106bce7db5f24ee477f187655eb

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 10ms (View: 2, DB: 82) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 14:17:04) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 16) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 14:17:04) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 14) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 14:17:05) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 65) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 14:17:05) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 3, DB: 16) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 14:17:05) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.4ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 14) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 14:17:05) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;35;1mPerson Load (0.3ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (2.2ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 4, DB: 17) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 14:17:05) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 68) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 14:17:05) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 14) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 14:17:05) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 1, DB: 14) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 14:17:05) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 16) | 200 OK [http://test.host/reset_password/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '9f34a466371448e39f7fc581c5e5b29b3c890773', `updated_at` = '2008-12-16 19:17:05' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 14:17:05) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"9f34a466371448e39f7fc581c5e5b29b3c890773"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '9f34a466371448e39f7fc581c5e5b29b3c890773') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 70) | 200 OK [http://test.host/reset_password/9f34a466371448e39f7fc581c5e5b29b3c890773?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 14:17:05) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 14) | 200 OK [http://test.host/activate/randomgarbage]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'c0e270d64680dbced09bd45af9233ac7773ea311', `updated_at` = '2008-12-16 19:17:05' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 14:17:05) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"c0e270d64680dbced09bd45af9233ac7773ea311"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'c0e270d64680dbced09bd45af9233ac7773ea311') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-16 19:17:05' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 17) | 200 OK [http://test.host/reset_password/c0e270d64680dbced09bd45af9233ac7773ea311?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:17:05', `updated_at` = '2008-12-16 19:17:05' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '6739dab771c76b2283a6a30c2ba5aea2af11cb65', `updated_at` = '2008-12-16 19:17:05' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:17:05' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 14:17:05) [GET]
  Parameters: {"activation_code"=>"6739dab771c76b2283a6a30c2ba5aea2af11cb65"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '6739dab771c76b2283a6a30c2ba5aea2af11cb65') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 21) | 200 OK [http://test.host/activate/6739dab771c76b2283a6a30c2ba5aea2af11cb65]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (39.6ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.6ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.5ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.5ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: 
City: City Name
State: 
Zip: 
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>City Name, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Holy Name (Es), King, ON, Canada</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>CA</CountryNameCode><CountryName>Canada</CountryName><AdministrativeArea><AdministrativeAreaName>ON</AdministrativeAreaName><Locality><LocalityName>King</LocalityName><PostalCode><PostalCodeNumber>L7B</PostalCodeNumber><AddressLine>Holy Name (Es)</AddressLine></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-79.5391900,43.9247060,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mLocation Create (0.3ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES(NULL, NULL, '2008-12-16 19:19:49', NULL, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2, '2008-12-16 19:19:49')[0m
  [4;36;1mLocation::Version Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES(NULL, NULL, NULL, '2008-12-16 19:19:49', NULL, 15000, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 1) [0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
Google geocoding. Address: 100 Spear St, San Francisco, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Spear St, San Francisco, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Spear St, San Francisco, CA 94105, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Spear St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94105</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-122.3940000,37.7921500,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-16 19:19:50', `state` = 'active', `updated_at` = '2008-12-16 19:19:50' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:19:50', `updated_at` = '2008-12-16 19:19:50' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.5ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'c226b35518d11699dc7ab386e13e064e11b6a6ef', `updated_at` = '2008-12-16 19:19:50' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:19:50' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('a988c36190ccbd830d76905d292be14a7eaed68b', NULL, NULL, '2008-12-16 19:19:50', '552508130bd0b70fdd54156407390743f01dcccb', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 19:19:50')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('38183a26bca8a4aabbe7064200dcf4716a48bbc0', NULL, NULL, '2008-12-16 19:19:50', 'e970358c3d0ee58cbffb00c23e16741adf4b2de2', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 19:19:50')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 19:19:51', `state` = 'deleted', `updated_at` = '2008-12-16 19:19:51' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('c42d713b913db21fc8d37dc77997dca7208e064e', NULL, NULL, '2008-12-16 19:19:51', 'be9bdd31789c43d0822ecc70563fec98c19f8aee', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 19:19:51')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15002) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 19:19:51' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:19:51', `updated_at` = '2008-12-16 19:19:51' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (50.5ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 19:19:51' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '6947adbd93bc7574bf3a12a605e87d9eaf2a2ccd', `updated_at` = '2008-12-16 19:19:51' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:19:51' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:19:51', `remember_token` = '7d3766ce7c7dad5f2f66b8d367730005eebbc8b0', `updated_at` = '2008-12-16 19:19:51' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 19:19:51', `remember_token` = 'f79ea64e6ccbe1234001a28923e51062a8a6a412', `updated_at` = '2008-12-16 19:19:51' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 19:19:51', `remember_token` = 'f79ea64e6ccbe1234001a28923e51062a8a6a412', `updated_at` = '2008-12-16 19:19:51' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (50.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.5ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (51.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 19:19:51' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:19:51', `updated_at` = '2008-12-16 19:19:51' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:19:51', `remember_token` = '7d3766ce7c7dad5f2f66b8d367730005eebbc8b0', `updated_at` = '2008-12-16 19:19:51' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:19:51' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:19:51', `remember_token` = '7d3766ce7c7dad5f2f66b8d367730005eebbc8b0', `updated_at` = '2008-12-16 19:19:51' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 19:19:51' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (51.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:19:52' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 19:19:52', `state` = 'active', `updated_at` = '2008-12-16 19:19:52' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:19:52' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'foo-bar', `activated_at` = NULL [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '840a352c3a13926978103d92a10f4a77700cf24e', `updated_at` = '2008-12-16 19:19:52' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:19:52' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:19:52' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = NULL, `activated_at` = NULL [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-16 19:19:52' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:19:52' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 14:19:53) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 31) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:19:53', `remember_token` = '7e10cff5058e128e32cf1f4880c082694f3c8f9c', `updated_at` = '2008-12-16 19:19:53' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 14:19:53) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (1.4ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 16) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (39.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:19:54', `remember_token` = 'b0a7507193c059e5675e4cb8d569baff31322317', `updated_at` = '2008-12-16 19:19:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 19:14:54', `updated_at` = '2008-12-16 19:19:54' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 14:19:54) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'b0a7507193c059e5675e4cb8d569baff31322317') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 56) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:19:54) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:19:54', `updated_at` = '2008-12-16 19:19:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 17) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:19:54) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:19:54', `updated_at` = '2008-12-16 19:19:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 20) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:19:54', `remember_token` = 'b0a7507193c059e5675e4cb8d569baff31322317', `updated_at` = '2008-12-16 19:19:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 14:19:54) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'b0a7507193c059e5675e4cb8d569baff31322317') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:19:54', `updated_at` = '2008-12-16 19:19:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=b0a7507193c059e5675e4cb8d569baff31322317; path=/; expires=Tue, 30 Dec 2008 19:19:54 GMT
Redirected to /
Completed in 3ms (DB: 17) | 302 Found [http://test.host/session/new]
  [4;35;1mUser Load (41.5ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 14:19:54) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 57) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:19:54) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 17) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:19:54) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'e049c4083a77b5c1f0264ccab12ae484a0d9db4e', `updated_at` = '2008-12-16 19:19:54' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 14:19:54 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactQuarterly.com account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/e049c4083a77b5c1f0264ccab12ae484a0d9db4e

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionnew
Completed in 78ms (DB: 15) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:19:54) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 14) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:19:54) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 14) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:19:54) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 14) | 302 Found [http://test.host/session?email=&password=]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:19:54) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 14) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:19:54) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"0", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:19:54', `updated_at` = '2008-12-16 19:19:54' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 62) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:19:54) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:19:54', `updated_at` = '2008-12-16 19:19:54' WHERE `user_id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 16) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:19:54) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"1", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:19:54', `updated_at` = '2008-12-16 19:19:54' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:19:54', `remember_token` = 'b0a7507193c059e5675e4cb8d569baff31322317', `updated_at` = '2008-12-16 19:19:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=b0a7507193c059e5675e4cb8d569baff31322317; path=/; expires=Tue, 30 Dec 2008 19:19:54 GMT
Redirected to /
Completed in 7ms (DB: 15) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:19:54) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '7080301d971aba1eda4d7d357da12863355f1708', `updated_at` = '2008-12-16 19:19:54' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 14:19:54 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactQuarterly.com account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/7080301d971aba1eda4d7d357da12863355f1708

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionnew
Completed in 8ms (DB: 15) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '0057beed8b7399fc14bbca6a353be39b3aa68f0a', `updated_at` = '2008-12-16 19:19:55' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:19:55' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 14:19:55) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"0057beed8b7399fc14bbca6a353be39b3aa68f0a"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '0057beed8b7399fc14bbca6a353be39b3aa68f0a') LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-16 19:19:55', `state` = 'active', `updated_at` = '2008-12-16 19:19:55' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 6ms (DB: 65) | 302 Found [http://test.host/activate/0057beed8b7399fc14bbca6a353be39b3aa68f0a?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 14:19:55) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 18) | 200 OK [http://test.host/]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 14:19:55) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '712501f294b8d88d505d8abe21da645284bc4f09', `updated_at` = '2008-12-16 19:19:55' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 14:19:55 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your Contact Quarterly online account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
Contact Quarterly online account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/712501f294b8d88d505d8abe21da645284bc4f09

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionpassword_reset_requested
Completed in 8ms (DB: 15) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 14:19:55) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-16 19:19:55' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 14:19:55 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 2, DB: 15) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 14:19:55) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 19:19:55' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 70) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:19:55', `updated_at` = '2008-12-16 19:19:55' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '2e0bcfc3852af4a049e6a703aad71c8079318a9d', `updated_at` = '2008-12-16 19:19:55' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 14:19:55) [GET]
  Parameters: {"password_reset_code"=>"2e0bcfc3852af4a049e6a703aad71c8079318a9d"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '2e0bcfc3852af4a049e6a703aad71c8079318a9d') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 17) | 200 OK [http://test.host/reset_password/2e0bcfc3852af4a049e6a703aad71c8079318a9d]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '101dbc7e5745bfe5583ec058b91bcf1eb485217f', `updated_at` = '2008-12-16 19:19:55' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:19:55' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 14:19:55) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"101dbc7e5745bfe5583ec058b91bcf1eb485217f"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '101dbc7e5745bfe5583ec058b91bcf1eb485217f') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 20) | 200 OK [http://test.host/activate/101dbc7e5745bfe5583ec058b91bcf1eb485217f?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 14:19:55) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 18) | 302 Found [http://test.host/]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 14:19:55) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 14:19:55 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 70) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 14:19:55) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '5bd69d983a64da68d419929cd194bafbdb0a0588', `updated_at` = '2008-12-16 19:19:55' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 14:19:55 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactQuarterly.com account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/5bd69d983a64da68d419929cd194bafbdb0a0588

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 10ms (View: 2, DB: 16) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 14:19:55) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 16) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 14:19:55) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 17) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 14:19:55) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 68) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 14:19:56) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 2, DB: 16) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 14:19:56) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 19) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 14:19:56) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.1ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 16) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 14:19:56) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.4ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 74) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 14:19:56) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 17) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 14:19:56) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 16) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 14:19:56) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 15) | 200 OK [http://test.host/reset_password/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'caac6b55add97150691dff7689623232b94cb398', `updated_at` = '2008-12-16 19:19:56' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 14:19:56) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"caac6b55add97150691dff7689623232b94cb398"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'caac6b55add97150691dff7689623232b94cb398') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 72) | 200 OK [http://test.host/reset_password/caac6b55add97150691dff7689623232b94cb398?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 14:19:56) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 18) | 200 OK [http://test.host/activate/randomgarbage]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '12fb80d2374db8fb6428051fe3162eaf0f6a7feb', `updated_at` = '2008-12-16 19:19:56' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 14:19:56) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"12fb80d2374db8fb6428051fe3162eaf0f6a7feb"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '12fb80d2374db8fb6428051fe3162eaf0f6a7feb') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-16 19:19:56' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 17) | 200 OK [http://test.host/reset_password/12fb80d2374db8fb6428051fe3162eaf0f6a7feb?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:19:56', `updated_at` = '2008-12-16 19:19:56' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '081525375a613cad791afdcdddea9fe108a7f820', `updated_at` = '2008-12-16 19:19:56' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:19:56' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 14:19:56) [GET]
  Parameters: {"activation_code"=>"081525375a613cad791afdcdddea9fe108a7f820"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '081525375a613cad791afdcdddea9fe108a7f820') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 18) | 200 OK [http://test.host/activate/081525375a613cad791afdcdddea9fe108a7f820]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (39.4ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: 
City: City Name
State: 
Zip: 
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>City Name, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Holy Name (Es), King, ON, Canada</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>CA</CountryNameCode><CountryName>Canada</CountryName><AdministrativeArea><AdministrativeAreaName>ON</AdministrativeAreaName><Locality><LocalityName>King</LocalityName><PostalCode><PostalCodeNumber>L7B</PostalCodeNumber><AddressLine>Holy Name (Es)</AddressLine></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-79.5391900,43.9247060,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mLocation Create (0.3ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES(NULL, NULL, '2008-12-16 19:59:16', NULL, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2, '2008-12-16 19:59:16')[0m
  [4;36;1mLocation::Version Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES(NULL, NULL, NULL, '2008-12-16 19:59:16', NULL, 15000, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 1) [0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
Google geocoding. Address: 100 Spear St, San Francisco, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Spear St, San Francisco, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Spear St, San Francisco, CA 94105, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Spear St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94105</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-122.3940000,37.7921500,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mUrl Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `ci_urls`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUrl Create (0.2ms)[0m   [0mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-16 19:59:16', 1, 'http://craigharman.net/', '2008-12-16 19:59:16')[0m
  [4;36;1mUrl::Version Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `ci_url_versions`[0m
  [4;35;1mUrl::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15000, NULL, '2008-12-16 19:59:16', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUrl Create (0.2ms)[0m   [0;1mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-16 19:59:17', 1, 'http://craigharman.net/', '2008-12-16 19:59:17')[0m
  [4;35;1mUrl::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15001, NULL, '2008-12-16 19:59:17', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUrl Load (0.2ms)[0m   [0mSELECT * FROM `ci_urls` WHERE (`ci_urls`.`url_id` = 15001) [0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 19:59:17', `state` = 'active', `updated_at` = '2008-12-16 19:59:17' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:59:17', `updated_at` = '2008-12-16 19:59:17' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '99e91c8b9feb69ad313f01631e9b80737ca2af91', `updated_at` = '2008-12-16 19:59:17' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:59:17' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('448ef2ffac228402301010d3170e4939ef9c41ba', NULL, NULL, '2008-12-16 19:59:17', '5a4d91f475b814da79c4ded7e15d4eca1978a212', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 19:59:17')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('63dc6d6c5d661a3bed39e8a73802a8ab76c93b9c', NULL, NULL, '2008-12-16 19:59:17', '3e3bc447f36faf17473e127d5b27c4ec5f234da8', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 19:59:17')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 19:59:17', `state` = 'deleted', `updated_at` = '2008-12-16 19:59:17' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('b6dfb4b18cc4356eeb78d144cae3b439086a7e83', NULL, NULL, '2008-12-16 19:59:18', '9cda73a7cdc463cfb94807629e03bc5d8fd5fc0e', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 19:59:18')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15003) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 19:59:18' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:59:18', `updated_at` = '2008-12-16 19:59:18' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (51.5ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 19:59:18' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'd5522f6e9df90fab99dfe0c0649f774be38b3004', `updated_at` = '2008-12-16 19:59:18' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:59:18' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:59:18', `remember_token` = '523ef2eddf31c32e523e943cf86c59d3b4e0f8fa', `updated_at` = '2008-12-16 19:59:18' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 19:59:18', `remember_token` = 'acd676ba78fd1d664546dfd608e67189f556084e', `updated_at` = '2008-12-16 19:59:18' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 19:59:18', `remember_token` = 'acd676ba78fd1d664546dfd608e67189f556084e', `updated_at` = '2008-12-16 19:59:18' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (51.8ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (51.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 19:59:18' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:59:18', `updated_at` = '2008-12-16 19:59:18' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:59:18', `remember_token` = '523ef2eddf31c32e523e943cf86c59d3b4e0f8fa', `updated_at` = '2008-12-16 19:59:18' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:59:18' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:59:18', `remember_token` = '523ef2eddf31c32e523e943cf86c59d3b4e0f8fa', `updated_at` = '2008-12-16 19:59:18' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 19:59:18' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (55.9ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:59:18' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-16 19:59:18', `state` = 'active', `updated_at` = '2008-12-16 19:59:18' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:59:19' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'foo-bar', `activated_at` = NULL [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '2dcb5fff756b4e9bcf071d3142c671c5f89c13f0', `updated_at` = '2008-12-16 19:59:19' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:59:19' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:59:19' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = NULL, `activated_at` = NULL [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-16 19:59:19' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 19:59:19' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 14:59:20) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 5ms (DB: 34) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:59:21', `remember_token` = '9f68ae140251cfffeb374a54cad2702194951ae5', `updated_at` = '2008-12-16 19:59:21' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 14:59:21) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (1.4ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 24) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (39.9ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:59:21', `remember_token` = '9f68ae140251cfffeb374a54cad2702194951ae5', `updated_at` = '2008-12-16 19:59:21' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 19:54:21', `updated_at` = '2008-12-16 19:59:21' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 14:59:21) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '9f68ae140251cfffeb374a54cad2702194951ae5') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 61) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:59:21) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:59:21', `updated_at` = '2008-12-16 19:59:21' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 21) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:59:21) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:59:21', `updated_at` = '2008-12-16 19:59:21' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 20) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:59:21', `remember_token` = '9f68ae140251cfffeb374a54cad2702194951ae5', `updated_at` = '2008-12-16 19:59:21' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 14:59:21) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '9f68ae140251cfffeb374a54cad2702194951ae5') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:59:21', `updated_at` = '2008-12-16 19:59:21' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=9f68ae140251cfffeb374a54cad2702194951ae5; path=/; expires=Tue, 30 Dec 2008 19:59:21 GMT
Redirected to /
Completed in 3ms (DB: 22) | 302 Found [http://test.host/session/new]
  [4;35;1mUser Load (46.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 14:59:21) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 70) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:59:21) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 3ms (DB: 22) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:59:21) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'cc431cf44b540514e9c1bdc4272df7f0b21fbcb4', `updated_at` = '2008-12-16 19:59:21' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 14:59:21 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/cc431cf44b540514e9c1bdc4272df7f0b21fbcb4

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 77ms (DB: 17) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:59:21) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 19) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:59:21) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 3ms (DB: 14) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:59:21) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 13) | 302 Found [http://test.host/session?email=&password=]
  [4;35;1mUser Load (46.8ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:59:21) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 61) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:59:22) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"0", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:59:22', `updated_at` = '2008-12-16 19:59:22' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 16) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:59:22) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:59:22', `updated_at` = '2008-12-16 19:59:22' WHERE `user_id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 15) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:59:22) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"1", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:59:22', `updated_at` = '2008-12-16 19:59:22' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 19:59:22', `remember_token` = '06733adad7adca82c56b3ad3529e50c597217c64', `updated_at` = '2008-12-16 19:59:22' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=06733adad7adca82c56b3ad3529e50c597217c64; path=/; expires=Tue, 30 Dec 2008 19:59:22 GMT
Redirected to /
Completed in 7ms (DB: 17) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;35;1mUser Load (49.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 14:59:22) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'a351210661ebfd008aa03cf9e2f34864fb5177bc', `updated_at` = '2008-12-16 19:59:22' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 14:59:22 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/a351210661ebfd008aa03cf9e2f34864fb5177bc

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 68) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'cfa4ecfdbeb9ed6821b6068e2507db33bb98414f', `updated_at` = '2008-12-16 19:59:22' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:59:22' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 14:59:22) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"cfa4ecfdbeb9ed6821b6068e2507db33bb98414f"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'cfa4ecfdbeb9ed6821b6068e2507db33bb98414f') LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-16 19:59:22', `state` = 'active', `updated_at` = '2008-12-16 19:59:22' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 6ms (DB: 16) | 302 Found [http://test.host/activate/cfa4ecfdbeb9ed6821b6068e2507db33bb98414f?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 14:59:22) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 14) | 200 OK [http://test.host/]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 14:59:22) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '132a95b7f8f33c8f6d0c6636efa4fcdcf8ead1c7', `updated_at` = '2008-12-16 19:59:22' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 14:59:22 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your Contact Quarterly online account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/132a95b7f8f33c8f6d0c6636efa4fcdcf8ead1c7

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 8ms (DB: 16) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;36;1mUser Load (50.8ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 14:59:22) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-16 19:59:22' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 14:59:22 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 12ms (View: 2, DB: 66) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 14:59:22) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 19:59:22' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 15) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:59:22', `updated_at` = '2008-12-16 19:59:22' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = 'd420412c5c646e506e804e11d8b6361467d4b392', `updated_at` = '2008-12-16 19:59:22' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 14:59:22) [GET]
  Parameters: {"password_reset_code"=>"d420412c5c646e506e804e11d8b6361467d4b392"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'd420412c5c646e506e804e11d8b6361467d4b392') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 17) | 200 OK [http://test.host/reset_password/d420412c5c646e506e804e11d8b6361467d4b392]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '85bdd05c6441397402888df65a562d6cdf8f4205', `updated_at` = '2008-12-16 19:59:22' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:59:22' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 14:59:22) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"85bdd05c6441397402888df65a562d6cdf8f4205"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '85bdd05c6441397402888df65a562d6cdf8f4205') LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 21) | 200 OK [http://test.host/activate/85bdd05c6441397402888df65a562d6cdf8f4205?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 14:59:22) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 18) | 302 Found [http://test.host/]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 14:59:22) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 14:59:22 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 72) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 14:59:22) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '04f513b7a3cb6b15f751931ccb5d0a5a39260a7d', `updated_at` = '2008-12-16 19:59:22' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 14:59:22 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/04f513b7a3cb6b15f751931ccb5d0a5a39260a7d

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 10ms (View: 2, DB: 17) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 14:59:23) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 18) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 14:59:23) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 20) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 14:59:23) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 69) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 14:59:23) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 2, DB: 22) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 14:59:23) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 17) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (52.7ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 14:59:23) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 68) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 14:59:23) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 3, DB: 16) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 14:59:23) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 17) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 14:59:23) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 1, DB: 16) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 14:59:23) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (54.9ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 57ms (View: 1, DB: 72) | 200 OK [http://test.host/reset_password/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '05c784f1fe6ed607986e59b5538153ba5b19c31c', `updated_at` = '2008-12-16 19:59:23' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 14:59:23) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"05c784f1fe6ed607986e59b5538153ba5b19c31c"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '05c784f1fe6ed607986e59b5538153ba5b19c31c') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 18) | 200 OK [http://test.host/reset_password/05c784f1fe6ed607986e59b5538153ba5b19c31c?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 14:59:23) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 18) | 200 OK [http://test.host/activate/randomgarbage]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'f8429ca4eddfd4985180fd7add22f0995b0ada77', `updated_at` = '2008-12-16 19:59:23' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 14:59:23) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"f8429ca4eddfd4985180fd7add22f0995b0ada77"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'f8429ca4eddfd4985180fd7add22f0995b0ada77') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-16 19:59:23' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 22) | 200 OK [http://test.host/reset_password/f8429ca4eddfd4985180fd7add22f0995b0ada77?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 19:59:23', `updated_at` = '2008-12-16 19:59:23' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (57.6ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '87da4de60b965efa82eecf509fcc039ef3dbefbb', `updated_at` = '2008-12-16 19:59:24' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 19:59:24' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 14:59:24) [GET]
  Parameters: {"activation_code"=>"87da4de60b965efa82eecf509fcc039ef3dbefbb"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '87da4de60b965efa82eecf509fcc039ef3dbefbb') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 74) | 200 OK [http://test.host/activate/87da4de60b965efa82eecf509fcc039ef3dbefbb]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEmail Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mEmail Create (0.2ms)[0m   [0mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-16 20:10:42', 1, 1, 'charman@acm.org', '2008-12-16 20:10:42')[0m
  [4;36;1mEmail::Version Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;35;1mEmail::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15000, NULL, '2008-12-16 20:10:42', 1, NULL, 1, 'charman@acm.org')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: 
City: City Name
State: 
Zip: 
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>City Name, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Holy Name (Es), King, ON, Canada</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>CA</CountryNameCode><CountryName>Canada</CountryName><AdministrativeArea><AdministrativeAreaName>ON</AdministrativeAreaName><Locality><LocalityName>King</LocalityName><PostalCode><PostalCodeNumber>L7B</PostalCodeNumber><AddressLine>Holy Name (Es)</AddressLine></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-79.5391900,43.9247060,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mLocation Create (0.3ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES(NULL, NULL, '2008-12-16 20:10:43', NULL, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2, '2008-12-16 20:10:43')[0m
  [4;36;1mLocation::Version Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES(NULL, NULL, NULL, '2008-12-16 20:10:43', NULL, 15000, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mLocation Load (0.3ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 1) [0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
Google geocoding. Address: 100 Spear St, San Francisco, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Spear St, San Francisco, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Spear St, San Francisco, CA 94105, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Spear St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94105</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-122.3940000,37.7921500,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUrl Create (0.3ms)[0m   [0;1mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-16 20:10:44', 1, 'http://craigharman.net/', '2008-12-16 20:10:44')[0m
  [4;35;1mUrl::Version Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `ci_url_versions`[0m
  [4;36;1mUrl::Version Create (0.4ms)[0m   [0;1mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15000, NULL, '2008-12-16 20:10:44', 1, 'http://craigharman.net/')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUrl Create (0.2ms)[0m   [0mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-16 20:10:44', 1, 'http://craigharman.net/', '2008-12-16 20:10:44')[0m
  [4;36;1mUrl::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15001, NULL, '2008-12-16 20:10:44', 1, 'http://craigharman.net/')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUrl Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_urls` WHERE (`ci_urls`.`url_id` = 15001) [0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-16 20:10:44', `state` = 'active', `updated_at` = '2008-12-16 20:10:44' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:10:44', `updated_at` = '2008-12-16 20:10:44' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'e675b61726821e6e8bdde066111c3487c128c6ad', `updated_at` = '2008-12-16 20:10:44' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:10:44' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('7fad80800e6a51eb40e649d635a0f0ca801d01e1', NULL, NULL, '2008-12-16 20:10:45', 'efb3ec7a2030bd9e4468461c99fd0c88847e9dd6', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 20:10:45')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('42f30eca0b483f8435273a686f01e190021c52cb', NULL, NULL, '2008-12-16 20:10:45', 'be5de77e97e85824ffe2c2c334d2a70afb514f39', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 20:10:45')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 20:10:45', `state` = 'deleted', `updated_at` = '2008-12-16 20:10:45' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('6e8131deb490d2ef26181a91335b44a9f0f5285e', NULL, NULL, '2008-12-16 20:10:45', '272c0785c8bf0f7aca7a4fe24026fc3bbe886ccb', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 20:10:45')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15003) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 20:10:45' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:10:45', `updated_at` = '2008-12-16 20:10:45' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 20:10:45' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '59cfbdf2aaa2386b34789933eec1a4074162bb0a', `updated_at` = '2008-12-16 20:10:45' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:10:45' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:10:45', `remember_token` = 'ac28b2f019075c7de4cca521457df9481fe9af4d', `updated_at` = '2008-12-16 20:10:45' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 20:10:45', `remember_token` = '669e57cbede3320188251514f9d5bd83154f2f36', `updated_at` = '2008-12-16 20:10:45' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 20:10:45', `remember_token` = '669e57cbede3320188251514f9d5bd83154f2f36', `updated_at` = '2008-12-16 20:10:45' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (49.6ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 20:10:46' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:10:46', `updated_at` = '2008-12-16 20:10:46' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:10:46', `remember_token` = '1b9e25e8b53256e3bc6d832019ce7bc615a96578', `updated_at` = '2008-12-16 20:10:46' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 20:10:46' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:10:46', `remember_token` = '1b9e25e8b53256e3bc6d832019ce7bc615a96578', `updated_at` = '2008-12-16 20:10:46' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 20:10:46' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 20:10:46' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 20:10:46', `state` = 'active', `updated_at` = '2008-12-16 20:10:46' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 20:10:46' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = 'foo-bar' [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '3887fcb82243ce2871cf68ce77f48476b225a4ea', `updated_at` = '2008-12-16 20:10:46' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:10:46' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 20:10:46' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = NULL [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-16 20:10:46' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 20:10:46' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 15:10:48) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 36) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:10:48', `remember_token` = 'a994a0fb14fc4cb64c1d120d29623d4e70950f9e', `updated_at` = '2008-12-16 20:10:48' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:10:48) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (1.4ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 67) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:10:48', `remember_token` = 'a994a0fb14fc4cb64c1d120d29623d4e70950f9e', `updated_at` = '2008-12-16 20:10:48' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 20:05:48', `updated_at` = '2008-12-16 20:10:48' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:10:48) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'a994a0fb14fc4cb64c1d120d29623d4e70950f9e') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 25) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:10:48) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:10:48', `updated_at` = '2008-12-16 20:10:48' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 21) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:10:48) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:10:48', `updated_at` = '2008-12-16 20:10:48' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 61) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:10:48', `remember_token` = 'a994a0fb14fc4cb64c1d120d29623d4e70950f9e', `updated_at` = '2008-12-16 20:10:48' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:10:48) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'a994a0fb14fc4cb64c1d120d29623d4e70950f9e') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:10:48', `updated_at` = '2008-12-16 20:10:48' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=a994a0fb14fc4cb64c1d120d29623d4e70950f9e; path=/; expires=Tue, 30 Dec 2008 20:10:48 GMT
Redirected to /
Completed in 3ms (DB: 22) | 302 Found [http://test.host/session/new]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 15:10:48) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 27) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:10:48) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 3ms (DB: 64) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:10:49) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.5ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '53af044200a57a42670e789917852a4a2e94179c', `updated_at` = '2008-12-16 20:10:49' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:10:49 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/53af044200a57a42670e789917852a4a2e94179c

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 77ms (DB: 24) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:10:49) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 21) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:10:49) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 3ms (DB: 26) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:10:49) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 25) | 302 Found [http://test.host/session?email=&password=]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:10:49) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 71) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:10:49) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"0", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:10:49', `updated_at` = '2008-12-16 20:10:49' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 24) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:10:49) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:10:49', `updated_at` = '2008-12-16 20:10:49' WHERE `user_id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 27) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:10:49) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"1", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:10:49', `updated_at` = '2008-12-16 20:10:49' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:10:49', `remember_token` = 'd566c4c1bbdcdcfbf039817f56d598a932d1888a', `updated_at` = '2008-12-16 20:10:49' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=d566c4c1bbdcdcfbf039817f56d598a932d1888a; path=/; expires=Tue, 30 Dec 2008 20:10:49 GMT
Redirected to /
Completed in 7ms (DB: 70) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:10:49) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.3ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'da2dd1affe1082f3fa22df6871b19101f6ad92bd', `updated_at` = '2008-12-16 20:10:49' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:10:49 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/da2dd1affe1082f3fa22df6871b19101f6ad92bd

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 10ms (DB: 27) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'a4c5933798be3cd3b2a3154ed1c4d5295421f336', `updated_at` = '2008-12-16 20:10:49' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:10:49' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:10:49) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"a4c5933798be3cd3b2a3154ed1c4d5295421f336"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'a4c5933798be3cd3b2a3154ed1c4d5295421f336') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-16 20:10:49', `state` = 'active', `updated_at` = '2008-12-16 20:10:49' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 6ms (DB: 23) | 302 Found [http://test.host/activate/a4c5933798be3cd3b2a3154ed1c4d5295421f336?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 15:10:50) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;35;1mPerson Load (0.3ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.8ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 77) | 200 OK [http://test.host/]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:10:50) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '3621abf59a16629ee3b636ff014003bcc59f1b91', `updated_at` = '2008-12-16 20:10:50' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:10:50 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your Contact Quarterly online account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/3621abf59a16629ee3b636ff014003bcc59f1b91

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 13ms (DB: 25) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;36;1mUser Load (47.5ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:10:50) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-16 20:10:50' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:10:50 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 13ms (View: 3, DB: 75) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:10:50) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 20:10:50' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 19) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:10:50', `updated_at` = '2008-12-16 20:10:50' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '268d367f3599c9542be73f134f6b1cff035b98d9', `updated_at` = '2008-12-16 20:10:50' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:10:50) [GET]
  Parameters: {"password_reset_code"=>"268d367f3599c9542be73f134f6b1cff035b98d9"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '268d367f3599c9542be73f134f6b1cff035b98d9') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 2, DB: 21) | 200 OK [http://test.host/reset_password/268d367f3599c9542be73f134f6b1cff035b98d9]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '5f5905b8b9921a337d77df661dca055618526cf9', `updated_at` = '2008-12-16 20:10:50' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:10:50' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:10:50) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"5f5905b8b9921a337d77df661dca055618526cf9"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '5f5905b8b9921a337d77df661dca055618526cf9') LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 73) | 200 OK [http://test.host/activate/5f5905b8b9921a337d77df661dca055618526cf9?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 15:10:50) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 18) | 302 Found [http://test.host/]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:10:50) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:10:50 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 20) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:10:50) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '0b90c5cb5eee097c8c1055447fa9db18262578e9', `updated_at` = '2008-12-16 20:10:50' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:10:50 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/0b90c5cb5eee097c8c1055447fa9db18262578e9

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 12ms (View: 2, DB: 79) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:10:50) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 23) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:10:50) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 26) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:10:51) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 71) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:10:51) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 2, DB: 19) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:10:51) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.1ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 22) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:10:51) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 76) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:10:51) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 23) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:10:51) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 21) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:10:51) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 1, DB: 96) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:10:51) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 23) | 200 OK [http://test.host/reset_password/]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '4e4fb82aa506fe92ee8c55e5d24101ae496ac886', `updated_at` = '2008-12-16 20:10:51' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:10:51) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"4e4fb82aa506fe92ee8c55e5d24101ae496ac886"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '4e4fb82aa506fe92ee8c55e5d24101ae496ac886') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 30) | 200 OK [http://test.host/reset_password/4e4fb82aa506fe92ee8c55e5d24101ae496ac886?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:10:51) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.9ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 2, DB: 86) | 200 OK [http://test.host/activate/randomgarbage]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '10376b7ac5d16204bb8aa5127017bea370351315', `updated_at` = '2008-12-16 20:10:52' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:10:52) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"10376b7ac5d16204bb8aa5127017bea370351315"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '10376b7ac5d16204bb8aa5127017bea370351315') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-16 20:10:52' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 26) | 200 OK [http://test.host/reset_password/10376b7ac5d16204bb8aa5127017bea370351315?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:10:52', `updated_at` = '2008-12-16 20:10:52' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (53.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'cf7bc001baa4176a736472303da81c712a7fe953', `updated_at` = '2008-12-16 20:10:52' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:10:52' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:10:52) [GET]
  Parameters: {"activation_code"=>"cf7bc001baa4176a736472303da81c712a7fe953"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'cf7bc001baa4176a736472303da81c712a7fe953') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 78) | 200 OK [http://test.host/activate/cf7bc001baa4176a736472303da81c712a7fe953]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (36.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.5ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEmail Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mEmail Create (0.3ms)[0m   [0mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-16 20:17:23', 1, 1, 'charman@acm.org', '2008-12-16 20:17:23')[0m
  [4;36;1mEmail::Version Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;35;1mEmail::Version Create (0.4ms)[0m   [0mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15000, NULL, '2008-12-16 20:17:23', 1, NULL, 1, 'charman@acm.org')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: 
City: City Name
State: 
Zip: 
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>City Name, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Holy Name (Es), King, ON, Canada</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>CA</CountryNameCode><CountryName>Canada</CountryName><AdministrativeArea><AdministrativeAreaName>ON</AdministrativeAreaName><Locality><LocalityName>King</LocalityName><PostalCode><PostalCodeNumber>L7B</PostalCodeNumber><AddressLine>Holy Name (Es)</AddressLine></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-79.5391900,43.9247060,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mLocation Create (0.3ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES(NULL, NULL, '2008-12-16 20:17:24', NULL, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2, '2008-12-16 20:17:24')[0m
  [4;36;1mLocation::Version Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES(NULL, NULL, NULL, '2008-12-16 20:17:24', NULL, 15000, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mLocation Load (0.3ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 1) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
Google geocoding. Address: 100 Spear St, San Francisco, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Spear St, San Francisco, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Spear St, San Francisco, CA 94105, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Spear St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94105</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-122.3940000,37.7921500,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mPhoneNumber Create (0.3ms)[0m   [0;1mINSERT INTO `ci_phone_numbers` (`for_entity_id`, `updated_at`, `number`, `version`, `created_at`) VALUES(NULL, '2008-12-16 20:17:25', '585-275-4822', 1, '2008-12-16 20:17:25')[0m
  [4;35;1mPhoneNumber::Version Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `ci_phone_number_versions`[0m
  [4;36;1mPhoneNumber::Version Create (0.4ms)[0m   [0;1mINSERT INTO `ci_phone_number_versions` (`phone_number_id`, `for_entity_id`, `updated_at`, `number`, `version`, `phone_number_version_id`) VALUES(15000, NULL, '2008-12-16 20:17:25', '585-275-4822', 1, NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUrl Create (0.2ms)[0m   [0mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-16 20:17:25', 1, 'http://craigharman.net/', '2008-12-16 20:17:25')[0m
  [4;36;1mUrl::Version Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_url_versions`[0m
  [4;35;1mUrl::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15000, NULL, '2008-12-16 20:17:25', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUrl Create (0.2ms)[0m   [0;1mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-16 20:17:25', 1, 'http://craigharman.net/', '2008-12-16 20:17:25')[0m
  [4;35;1mUrl::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15001, NULL, '2008-12-16 20:17:25', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUrl Load (39.1ms)[0m   [0mSELECT * FROM `ci_urls` WHERE (`ci_urls`.`url_id` = 15001) [0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 20:17:26', `state` = 'active', `updated_at` = '2008-12-16 20:17:26' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:17:26', `updated_at` = '2008-12-16 20:17:26' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '3e9dd18266032909d039ea20b0f917061f38cba5', `updated_at` = '2008-12-16 20:17:26' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:17:26' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('49d8376a9af5343ff0b625b42e22a25c424e9c13', NULL, NULL, '2008-12-16 20:17:26', '8447f8fbf05247801f77262333905d1673f4b408', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 20:17:26')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('0a0df23637c4e170fc7b6829ffd81736022a0072', NULL, NULL, '2008-12-16 20:17:26', 'e78551bc512b2a841610d3fbd6710f1679175fce', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 20:17:26')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 20:17:26', `state` = 'deleted', `updated_at` = '2008-12-16 20:17:26' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('1b3afddc953aac3ee02f69b909d6534e615394c9', NULL, NULL, '2008-12-16 20:17:26', '8a6c4951a638b59c8ff6088fcf6a42a70e1c36a6', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 20:17:26')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15003) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 20:17:26' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:17:26', `updated_at` = '2008-12-16 20:17:26' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 20:17:26' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'c7923f027545908e867f1696a6161b5e585ce597', `updated_at` = '2008-12-16 20:17:26' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:17:26' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:17:26', `remember_token` = '01f61d33aedb04c4fe962e60eaca2f34a5e97c75', `updated_at` = '2008-12-16 20:17:26' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 20:17:27', `remember_token` = '2ec6a936cde5ba1ecc3ce197ef6856762673869c', `updated_at` = '2008-12-16 20:17:27' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 20:17:27', `remember_token` = '2ec6a936cde5ba1ecc3ce197ef6856762673869c', `updated_at` = '2008-12-16 20:17:27' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 20:17:27' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:17:27', `updated_at` = '2008-12-16 20:17:27' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:17:27', `remember_token` = '5073cfb77f9565c53a7a21d11250664f74072056', `updated_at` = '2008-12-16 20:17:27' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 20:17:27' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:17:27', `remember_token` = '5073cfb77f9565c53a7a21d11250664f74072056', `updated_at` = '2008-12-16 20:17:27' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 20:17:27' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 20:17:28' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-16 20:17:28', `state` = 'active', `updated_at` = '2008-12-16 20:17:28' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 20:17:28' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = 'foo-bar' [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'c6752241b86a8b77f4e32424a0c60059b811043e', `updated_at` = '2008-12-16 20:17:28' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:17:28' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 20:17:28' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = NULL [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-16 20:17:28' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 20:17:28' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 15:17:30) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 134) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:17:30', `remember_token` = 'fb9d66966a791fa27a2b66be87a8aaecd982b7ec', `updated_at` = '2008-12-16 20:17:30' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:17:30) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (1.4ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 61) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:17:30', `remember_token` = 'fb9d66966a791fa27a2b66be87a8aaecd982b7ec', `updated_at` = '2008-12-16 20:17:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 20:12:30', `updated_at` = '2008-12-16 20:17:30' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:17:30) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'fb9d66966a791fa27a2b66be87a8aaecd982b7ec') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 20) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (37.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:17:30) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:17:30', `updated_at` = '2008-12-16 20:17:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 61) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:17:30) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:17:30', `updated_at` = '2008-12-16 20:17:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 22) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:17:30', `remember_token` = 'fb9d66966a791fa27a2b66be87a8aaecd982b7ec', `updated_at` = '2008-12-16 20:17:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:17:30) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'fb9d66966a791fa27a2b66be87a8aaecd982b7ec') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:17:30', `updated_at` = '2008-12-16 20:17:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=fb9d66966a791fa27a2b66be87a8aaecd982b7ec; path=/; expires=Tue, 30 Dec 2008 20:17:30 GMT
Redirected to /
Completed in 3ms (DB: 22) | 302 Found [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 15:17:30) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 61) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:17:30) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 21) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (37.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:17:30) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '97df62a958150cc3ad5061fad4c603949f83071f', `updated_at` = '2008-12-16 20:17:30' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:17:30 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/97df62a958150cc3ad5061fad4c603949f83071f

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 78ms (DB: 58) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:17:30) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 21) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:17:31) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 20) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:17:31) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 21) | 302 Found [http://test.host/session?email=&password=]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:17:31) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 26) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:17:31) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"0", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:17:31', `updated_at` = '2008-12-16 20:17:31' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 70) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:17:31) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:17:31', `updated_at` = '2008-12-16 20:17:31' WHERE `user_id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 28) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:17:31) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"1", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:17:31', `updated_at` = '2008-12-16 20:17:31' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:17:31', `remember_token` = 'fd947abcc5bee2ecfc0ff51fff993f06d1aadd20', `updated_at` = '2008-12-16 20:17:31' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=fd947abcc5bee2ecfc0ff51fff993f06d1aadd20; path=/; expires=Tue, 30 Dec 2008 20:17:31 GMT
Redirected to /
Completed in 7ms (DB: 71) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:17:31) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'f1859c72eae145f63fa689831a4133502bce4a87', `updated_at` = '2008-12-16 20:17:31' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:17:31 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/f1859c72eae145f63fa689831a4133502bce4a87

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 25) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '34f11b392b64b43cf5117e518165104f719045ab', `updated_at` = '2008-12-16 20:17:31' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:17:31' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:17:31) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"34f11b392b64b43cf5117e518165104f719045ab"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '34f11b392b64b43cf5117e518165104f719045ab') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-16 20:17:31', `state` = 'active', `updated_at` = '2008-12-16 20:17:31' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 6ms (DB: 25) | 302 Found [http://test.host/activate/34f11b392b64b43cf5117e518165104f719045ab?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 15:17:31) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.5ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 72) | 200 OK [http://test.host/]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:17:31) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '829ee20f642c0f5fd26037a47963dcc337954517', `updated_at` = '2008-12-16 20:17:31' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:17:31 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your Contact Quarterly online account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/829ee20f642c0f5fd26037a47963dcc337954517

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 8ms (DB: 27) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:17:31) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-16 20:17:31' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:17:31 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 2, DB: 70) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:17:32) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 20:17:32' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 28) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:17:32', `updated_at` = '2008-12-16 20:17:32' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '893c43dd063c366d6b0ee7532ccbd7cff4ebd9db', `updated_at` = '2008-12-16 20:17:32' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:17:32) [GET]
  Parameters: {"password_reset_code"=>"893c43dd063c366d6b0ee7532ccbd7cff4ebd9db"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '893c43dd063c366d6b0ee7532ccbd7cff4ebd9db') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 22) | 200 OK [http://test.host/reset_password/893c43dd063c366d6b0ee7532ccbd7cff4ebd9db]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '59add46e87ba19c42750edcf87e35a8c3c23d49f', `updated_at` = '2008-12-16 20:17:32' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:17:32' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:17:32) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"59add46e87ba19c42750edcf87e35a8c3c23d49f"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '59add46e87ba19c42750edcf87e35a8c3c23d49f') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 75) | 200 OK [http://test.host/activate/59add46e87ba19c42750edcf87e35a8c3c23d49f?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 15:17:32) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 22) | 302 Found [http://test.host/]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:17:32) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:17:32 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 70) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:17:32) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '441753e98929a0471c8e93d45d8b510d8fae68a3', `updated_at` = '2008-12-16 20:17:32' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:17:32 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/441753e98929a0471c8e93d45d8b510d8fae68a3

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 9ms (View: 2, DB: 20) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:17:32) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 20) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:17:32) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 71) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:17:32) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 22) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:17:32) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 68) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:17:32) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 20) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:17:33) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.1ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 21) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:17:33) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 75) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:17:33) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 23) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:17:33) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 75) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:17:33) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 22) | 200 OK [http://test.host/reset_password/]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '4778715eae5a2d4822ee39f11c49946531872759', `updated_at` = '2008-12-16 20:17:33' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:17:33) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"4778715eae5a2d4822ee39f11c49946531872759"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '4778715eae5a2d4822ee39f11c49946531872759') LIMIT 1[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.9ms)
Rendered shared/_footer (0.1ms)
Completed in 10ms (View: 4, DB: 29) | 200 OK [http://test.host/reset_password/4778715eae5a2d4822ee39f11c49946531872759?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:17:33) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 77) | 200 OK [http://test.host/activate/randomgarbage]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '5d9a25ab2e47bf2f89e6c8fd2adb17f4597b68da', `updated_at` = '2008-12-16 20:17:33' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:17:33) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"5d9a25ab2e47bf2f89e6c8fd2adb17f4597b68da"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '5d9a25ab2e47bf2f89e6c8fd2adb17f4597b68da') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-16 20:17:33' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 24) | 200 OK [http://test.host/reset_password/5d9a25ab2e47bf2f89e6c8fd2adb17f4597b68da?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:17:33', `updated_at` = '2008-12-16 20:17:33' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '360f560cfe582afbbf67870e6677035fbda9daa7', `updated_at` = '2008-12-16 20:17:33' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:17:33' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:17:33) [GET]
  Parameters: {"activation_code"=>"360f560cfe582afbbf67870e6677035fbda9daa7"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '360f560cfe582afbbf67870e6677035fbda9daa7') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 87) | 200 OK [http://test.host/activate/360f560cfe582afbbf67870e6677035fbda9daa7]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (36.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.4ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEmail Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mEmail Create (0.2ms)[0m   [0mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-16 20:32:24', 1, 1, 'charman@acm.org', '2008-12-16 20:32:24')[0m
  [4;36;1mEmail::Version Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;35;1mEmail::Version Create (0.4ms)[0m   [0mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15000, NULL, '2008-12-16 20:32:24', 1, NULL, 1, 'charman@acm.org')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: 
City: City Name
State: 
Zip: 
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>City Name, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Holy Name (Es), King, ON, Canada</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>CA</CountryNameCode><CountryName>Canada</CountryName><AdministrativeArea><AdministrativeAreaName>ON</AdministrativeAreaName><Locality><LocalityName>King</LocalityName><PostalCode><PostalCodeNumber>L7B</PostalCodeNumber><AddressLine>Holy Name (Es)</AddressLine></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-79.5391900,43.9247060,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mLocation Create (0.3ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES(NULL, NULL, '2008-12-16 20:32:25', NULL, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2, '2008-12-16 20:32:25')[0m
  [4;36;1mLocation::Version Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES(NULL, NULL, NULL, '2008-12-16 20:32:25', NULL, 15000, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 1) [0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
Google geocoding. Address: 100 Spear St, San Francisco, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Spear St, San Francisco, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Spear St, San Francisco, CA 94105, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Spear St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94105</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-122.3940000,37.7921500,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mPhoneNumber Create (0.2ms)[0m   [0;1mINSERT INTO `ci_phone_numbers` (`for_entity_id`, `updated_at`, `number`, `version`, `created_at`) VALUES(NULL, '2008-12-16 20:32:26', '585-275-4822', 1, '2008-12-16 20:32:26')[0m
  [4;35;1mPhoneNumber::Version Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `ci_phone_number_versions`[0m
  [4;36;1mPhoneNumber::Version Create (0.3ms)[0m   [0;1mINSERT INTO `ci_phone_number_versions` (`phone_number_id`, `for_entity_id`, `updated_at`, `number`, `version`, `phone_number_version_id`) VALUES(15000, NULL, '2008-12-16 20:32:26', '585-275-4822', 1, NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUrl Create (0.2ms)[0m   [0mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-16 20:32:26', 1, 'http://craigharman.net/', '2008-12-16 20:32:26')[0m
  [4;36;1mUrl::Version Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `ci_url_versions`[0m
  [4;35;1mUrl::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15000, NULL, '2008-12-16 20:32:26', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUrl Create (0.2ms)[0m   [0;1mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-16 20:32:26', 1, 'http://craigharman.net/', '2008-12-16 20:32:26')[0m
  [4;35;1mUrl::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15001, NULL, '2008-12-16 20:32:26', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUrl Load (39.5ms)[0m   [0mSELECT * FROM `ci_urls` WHERE (`ci_urls`.`url_id` = 15001) [0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 20:32:27', `state` = 'active', `updated_at` = '2008-12-16 20:32:27' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:32:27', `updated_at` = '2008-12-16 20:32:27' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '5cb13ec7931bab28133f23d984e931d6cce270aa', `updated_at` = '2008-12-16 20:32:27' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:32:27' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('f2ebaf02407594347a7f46bfbd97bad173e52fa4', NULL, NULL, '2008-12-16 20:32:27', '24ca6b9b7b416387857a2c76685c29588d5fb232', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 20:32:27')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('fa54fe0868709495247cdafd9ded50aa1535267c', NULL, NULL, '2008-12-16 20:32:27', '47e5ea8084a85f3f54c16b51b049d07d473fc58d', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 20:32:27')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 20:32:27', `state` = 'deleted', `updated_at` = '2008-12-16 20:32:27' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('ae29f6ac106de361e6c0bbd436e7ec66fe9eac3f', NULL, NULL, '2008-12-16 20:32:27', 'f11a9e22234829085f048de6009d922332fb9ed7', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 20:32:27')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15003) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 20:32:27' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:32:27', `updated_at` = '2008-12-16 20:32:27' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 20:32:28' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'a711f61d533cb83d83424d2bced1f4c761c7d9ef', `updated_at` = '2008-12-16 20:32:28' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:32:28' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:32:28', `remember_token` = '1f6eb86cad21b591f6134bb33d47cd7a9aae38b4', `updated_at` = '2008-12-16 20:32:28' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 20:32:28', `remember_token` = '9334ad746dc94d4c39a329ca63268d9d245d6812', `updated_at` = '2008-12-16 20:32:28' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 20:32:28', `remember_token` = '9334ad746dc94d4c39a329ca63268d9d245d6812', `updated_at` = '2008-12-16 20:32:28' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 20:32:28' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:32:28', `updated_at` = '2008-12-16 20:32:28' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:32:28', `remember_token` = '1f6eb86cad21b591f6134bb33d47cd7a9aae38b4', `updated_at` = '2008-12-16 20:32:28' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 20:32:28' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:32:28', `remember_token` = '1f6eb86cad21b591f6134bb33d47cd7a9aae38b4', `updated_at` = '2008-12-16 20:32:28' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 20:32:28' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 20:32:28' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-16 20:32:28', `state` = 'active', `updated_at` = '2008-12-16 20:32:28' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 20:32:29' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = 'foo-bar' [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '716a15176e5ab3205ed326947a010fb86baa529b', `updated_at` = '2008-12-16 20:32:29' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:32:29' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 20:32:29' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = NULL [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-16 20:32:29' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 20:32:29' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 15:33:58) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 46) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:33:58', `remember_token` = 'ac5adc1e779d3b9ab830a482c60ab9b8079191fc', `updated_at` = '2008-12-16 20:33:58' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:33:58) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (1.4ms)
Rendered shared/_footer (0.2ms)
Completed in 5ms (View: 4, DB: 60) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:33:58', `remember_token` = 'ac5adc1e779d3b9ab830a482c60ab9b8079191fc', `updated_at` = '2008-12-16 20:33:58' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 20:28:58', `updated_at` = '2008-12-16 20:33:58' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:33:58) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'ac5adc1e779d3b9ab830a482c60ab9b8079191fc') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 26) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (37.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:33:58) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:33:58', `updated_at` = '2008-12-16 20:33:58' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 66) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:33:59) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:33:59', `updated_at` = '2008-12-16 20:33:59' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 27) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:33:59', `remember_token` = 'a656e3e2171e35173df748231efe03c9f2122d41', `updated_at` = '2008-12-16 20:33:59' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:33:59) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'a656e3e2171e35173df748231efe03c9f2122d41') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:33:59', `updated_at` = '2008-12-16 20:33:59' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=a656e3e2171e35173df748231efe03c9f2122d41; path=/; expires=Tue, 30 Dec 2008 20:33:59 GMT
Redirected to /
Completed in 3ms (DB: 29) | 302 Found [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 15:33:59) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 66) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:33:59) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 23) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (40.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:33:59) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '208edb2c5f6c6c470b9cfd064096240cf146af0c', `updated_at` = '2008-12-16 20:33:59' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:33:59 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/208edb2c5f6c6c470b9cfd064096240cf146af0c

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 78ms (DB: 69) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:33:59) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 28) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:33:59) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 22) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:33:59) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 21) | 302 Found [http://test.host/session?email=&password=]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:33:59) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 21) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:33:59) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"0", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:33:59', `updated_at` = '2008-12-16 20:33:59' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 67) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:33:59) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:33:59', `updated_at` = '2008-12-16 20:33:59' WHERE `user_id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 21) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:34:00) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"1", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:34:00', `updated_at` = '2008-12-16 20:34:00' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:34:00', `remember_token` = '0f3ed5c5ee4c3aa549a81118128aab94548a7924', `updated_at` = '2008-12-16 20:34:00' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=0f3ed5c5ee4c3aa549a81118128aab94548a7924; path=/; expires=Tue, 30 Dec 2008 20:34:00 GMT
Redirected to /
Completed in 7ms (DB: 67) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:34:00) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'eeb9c960623a937191ba3349c1d33369ce1d437f', `updated_at` = '2008-12-16 20:34:00' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:34:00 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/eeb9c960623a937191ba3349c1d33369ce1d437f

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 21) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '38f68c584909d10afb2ffd03b1d75b490375a73b', `updated_at` = '2008-12-16 20:34:00' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:34:00' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:34:00) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"38f68c584909d10afb2ffd03b1d75b490375a73b"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '38f68c584909d10afb2ffd03b1d75b490375a73b') LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-16 20:34:00', `state` = 'active', `updated_at` = '2008-12-16 20:34:00' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 6ms (DB: 26) | 302 Found [http://test.host/activate/38f68c584909d10afb2ffd03b1d75b490375a73b?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 15:34:00) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 3, DB: 69) | 200 OK [http://test.host/]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:34:00) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'ff957583009a311887e1787f49d03a4c1297111b', `updated_at` = '2008-12-16 20:34:00' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:34:00 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your Contact Quarterly online account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/ff957583009a311887e1787f49d03a4c1297111b

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 8ms (DB: 27) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:34:00) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-16 20:34:00' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:34:00 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 2, DB: 68) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:34:00) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 20:34:00' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 30) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:34:00', `updated_at` = '2008-12-16 20:34:00' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 15:34:00) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"newfirst", "last_name"=>"newlist"}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson::Version Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_person_versions`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max(`ci_person_versions`.version) AS max_version FROM `ci_person_versions` WHERE (`ci_person_versions`.person_id = 1) [0m
  [4;36;1mPerson Update (0.2ms)[0m   [0;1mUPDATE `ci_people` SET `version` = 1, `last_name` = 'newlist', `first_name` = 'newfirst', `updated_at` = '2008-12-16 20:34:00' WHERE `person_id` = 1[0m
  [4;35;1mPerson::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 20:34:00', NULL, 1, 'newfirst', 1, 'newlist')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 15ms (DB: 30) | 302 Found [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=newfirst&user%5Bperson%5D%5Blast_name%5D=newlist]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'a50a0c3495457ff64b0a4f53e7f9d6a57b8ca118', `updated_at` = '2008-12-16 20:34:00' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:34:00) [GET]
  Parameters: {"password_reset_code"=>"a50a0c3495457ff64b0a4f53e7f9d6a57b8ca118"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'a50a0c3495457ff64b0a4f53e7f9d6a57b8ca118') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 2, DB: 83) | 200 OK [http://test.host/reset_password/a50a0c3495457ff64b0a4f53e7f9d6a57b8ca118]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '7541c9cf88def3d37a74911b242ed170f1c777e2', `updated_at` = '2008-12-16 20:34:00' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:34:00' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:34:00) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"7541c9cf88def3d37a74911b242ed170f1c777e2"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '7541c9cf88def3d37a74911b242ed170f1c777e2') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 25) | 200 OK [http://test.host/activate/7541c9cf88def3d37a74911b242ed170f1c777e2?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 15:34:01) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 78) | 302 Found [http://test.host/]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:34:01) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:34:01 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 2, DB: 26) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:34:01) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '55419abd777a0b7038660c088a7cf8662b111d68', `updated_at` = '2008-12-16 20:34:01' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:34:01 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/55419abd777a0b7038660c088a7cf8662b111d68

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 9ms (View: 2, DB: 27) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:34:01) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 78) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:34:01) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 27) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:34:01) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 90) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:34:01) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 2, DB: 23) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:34:01) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 3, DB: 23) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:34:01) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 79) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:34:01) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 3, DB: 29) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:34:02) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 85) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 15:34:02) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"", "last_name"=>""}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering user/edit
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 29) | 200 OK [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:34:02) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 24) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:34:02) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 80) | 200 OK [http://test.host/reset_password/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '6ca5492aaf94695cf3e8e4e9f42409a999993a7c', `updated_at` = '2008-12-16 20:34:02' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:34:02) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"6ca5492aaf94695cf3e8e4e9f42409a999993a7c"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '6ca5492aaf94695cf3e8e4e9f42409a999993a7c') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 26) | 200 OK [http://test.host/reset_password/6ca5492aaf94695cf3e8e4e9f42409a999993a7c?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:34:02) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.9ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 2, DB: 81) | 200 OK [http://test.host/activate/randomgarbage]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '1f55648e7f02a31a8a7d5adddfd4c012fb1d75a8', `updated_at` = '2008-12-16 20:34:02' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:34:02) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"1f55648e7f02a31a8a7d5adddfd4c012fb1d75a8"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '1f55648e7f02a31a8a7d5adddfd4c012fb1d75a8') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-16 20:34:02' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 28) | 200 OK [http://test.host/reset_password/1f55648e7f02a31a8a7d5adddfd4c012fb1d75a8?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:34:02', `updated_at` = '2008-12-16 20:34:02' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'fe4f92a4ca1744f7d3e1b41c209224946e9cb112', `updated_at` = '2008-12-16 20:34:02' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:34:02' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:34:02) [GET]
  Parameters: {"activation_code"=>"fe4f92a4ca1744f7d3e1b41c209224946e9cb112"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'fe4f92a4ca1744f7d3e1b41c209224946e9cb112') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 30) | 200 OK [http://test.host/activate/fe4f92a4ca1744f7d3e1b41c209224946e9cb112]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 15:35:31) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 5ms (DB: 51) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:35:31', `remember_token` = 'd53467f8ad01295c72c31fc76a4f73692ce7ece9', `updated_at` = '2008-12-16 20:35:31' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:35:31) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (1.5ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 74) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:35:31', `remember_token` = 'd53467f8ad01295c72c31fc76a4f73692ce7ece9', `updated_at` = '2008-12-16 20:35:31' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 20:30:31', `updated_at` = '2008-12-16 20:35:31' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:35:31) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'd53467f8ad01295c72c31fc76a4f73692ce7ece9') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 30) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (38.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:35:31) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:35:31', `updated_at` = '2008-12-16 20:35:31' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 64) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:35:31) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:35:31', `updated_at` = '2008-12-16 20:35:31' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 34) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:35:31', `remember_token` = 'd53467f8ad01295c72c31fc76a4f73692ce7ece9', `updated_at` = '2008-12-16 20:35:31' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:35:31) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'd53467f8ad01295c72c31fc76a4f73692ce7ece9') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:35:31', `updated_at` = '2008-12-16 20:35:31' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=d53467f8ad01295c72c31fc76a4f73692ce7ece9; path=/; expires=Tue, 30 Dec 2008 20:35:31 GMT
Redirected to /
Completed in 3ms (DB: 32) | 302 Found [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 15:35:31) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 76) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:35:31) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 30) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (41.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:35:31) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.5ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'a5953752c11624bebbb646655f94ae3fa3e803bb', `updated_at` = '2008-12-16 20:35:31' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:35:31 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/a5953752c11624bebbb646655f94ae3fa3e803bb

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 78ms (DB: 70) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:35:32) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 25) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:35:32) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 23) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:35:32) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 25) | 302 Found [http://test.host/session?email=&password=]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:35:32) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 23) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:35:32) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"0", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:35:32', `updated_at` = '2008-12-16 20:35:32' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 74) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:35:32) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:35:32', `updated_at` = '2008-12-16 20:35:32' WHERE `user_id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 24) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:35:32) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"1", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:35:32', `updated_at` = '2008-12-16 20:35:32' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:35:32', `remember_token` = 'f59d002708429e2f05589f6edc3d3d54918045b8', `updated_at` = '2008-12-16 20:35:32' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=f59d002708429e2f05589f6edc3d3d54918045b8; path=/; expires=Tue, 30 Dec 2008 20:35:32 GMT
Redirected to /
Completed in 7ms (DB: 69) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:35:32) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '4c20fe78fa7865a94ca32b4f2b9b75debfb3ecd8', `updated_at` = '2008-12-16 20:35:32' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:35:32 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/4c20fe78fa7865a94ca32b4f2b9b75debfb3ecd8

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 27) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'b6d219837fdb05b5016cacde383bd671e0d1fa1e', `updated_at` = '2008-12-16 20:35:32' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:35:32' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:35:32) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"b6d219837fdb05b5016cacde383bd671e0d1fa1e"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'b6d219837fdb05b5016cacde383bd671e0d1fa1e') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-16 20:35:32', `state` = 'active', `updated_at` = '2008-12-16 20:35:32' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 6ms (DB: 27) | 302 Found [http://test.host/activate/b6d219837fdb05b5016cacde383bd671e0d1fa1e?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 15:35:32) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.8ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 77) | 200 OK [http://test.host/]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:35:32) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '394b1441dd435d7a99c010a9faa40e74add1dcd0', `updated_at` = '2008-12-16 20:35:32' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:35:32 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your Contact Quarterly online account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/394b1441dd435d7a99c010a9faa40e74add1dcd0

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 13ms (DB: 28) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:35:33) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-16 20:35:33' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:35:33 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 2, DB: 78) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:35:33) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 20:35:33' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 29) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:35:33', `updated_at` = '2008-12-16 20:35:33' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 15:35:33) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"newfirst", "last_name"=>"newlist"}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson::Version Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_person_versions`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max(`ci_person_versions`.version) AS max_version FROM `ci_person_versions` WHERE (`ci_person_versions`.person_id = 1) [0m
  [4;36;1mPerson Update (0.2ms)[0m   [0;1mUPDATE `ci_people` SET `version` = 1, `last_name` = 'newlist', `first_name` = 'newfirst', `updated_at` = '2008-12-16 20:35:33' WHERE `person_id` = 1[0m
  [4;35;1mPerson::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 20:35:33', NULL, 1, 'newfirst', 1, 'newlist')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 15ms (DB: 27) | 302 Found [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=newfirst&user%5Bperson%5D%5Blast_name%5D=newlist]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '97c8179651e205d9897fc82755ca3bd4b28d8829', `updated_at` = '2008-12-16 20:35:33' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:35:33) [GET]
  Parameters: {"password_reset_code"=>"97c8179651e205d9897fc82755ca3bd4b28d8829"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '97c8179651e205d9897fc82755ca3bd4b28d8829') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 76) | 200 OK [http://test.host/reset_password/97c8179651e205d9897fc82755ca3bd4b28d8829]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '0d3c57689a459da2d9f72ad8668a430c4d8d9eaa', `updated_at` = '2008-12-16 20:35:33' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:35:33' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:35:33) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"0d3c57689a459da2d9f72ad8668a430c4d8d9eaa"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '0d3c57689a459da2d9f72ad8668a430c4d8d9eaa') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 23) | 200 OK [http://test.host/activate/0d3c57689a459da2d9f72ad8668a430c4d8d9eaa?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 15:35:33) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 71) | 302 Found [http://test.host/]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:35:33) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:35:33 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 20) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:35:33) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '670d150a614479b86e77df4ea90fd40e59465d96', `updated_at` = '2008-12-16 20:35:33' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:35:33 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/670d150a614479b86e77df4ea90fd40e59465d96

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 9ms (View: 2, DB: 22) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:35:33) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 74) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:35:33) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 23) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:35:34) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 76) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:35:34) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 2, DB: 21) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:35:34) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.1ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 23) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:35:34) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 75) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:35:34) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 23) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:35:34) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 83) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 15:35:34) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"", "last_name"=>""}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering user/edit
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 24) | 200 OK [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:35:34) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 1, DB: 26) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:35:34) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 79) | 200 OK [http://test.host/reset_password/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'ae3828e2e713851b9375a32457404b5909f0fd25', `updated_at` = '2008-12-16 20:35:34' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:35:34) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"ae3828e2e713851b9375a32457404b5909f0fd25"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'ae3828e2e713851b9375a32457404b5909f0fd25') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 24) | 200 OK [http://test.host/reset_password/ae3828e2e713851b9375a32457404b5909f0fd25?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:35:35) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 74) | 200 OK [http://test.host/activate/randomgarbage]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'd0e859f96f4ce9ed8448f5665c34a16838fc4dde', `updated_at` = '2008-12-16 20:35:35' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:35:35) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"d0e859f96f4ce9ed8448f5665c34a16838fc4dde"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'd0e859f96f4ce9ed8448f5665c34a16838fc4dde') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-16 20:35:35' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 26) | 200 OK [http://test.host/reset_password/d0e859f96f4ce9ed8448f5665c34a16838fc4dde?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:35:35', `updated_at` = '2008-12-16 20:35:35' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'f4e2726ad78788e9350af13077a9b95c10db17b5', `updated_at` = '2008-12-16 20:35:35' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:35:35' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:35:35) [GET]
  Parameters: {"activation_code"=>"f4e2726ad78788e9350af13077a9b95c10db17b5"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'f4e2726ad78788e9350af13077a9b95c10db17b5') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 25) | 200 OK [http://test.host/activate/f4e2726ad78788e9350af13077a9b95c10db17b5]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 15:36:13) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 48) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:36:13', `remember_token` = '33b4f6f594ca9b43ed4d7defaf553c433a443845', `updated_at` = '2008-12-16 20:36:13' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:36:13) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (1.5ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 67) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:36:13', `remember_token` = '33b4f6f594ca9b43ed4d7defaf553c433a443845', `updated_at` = '2008-12-16 20:36:13' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 20:31:13', `updated_at` = '2008-12-16 20:36:13' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:36:13) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '33b4f6f594ca9b43ed4d7defaf553c433a443845') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 25) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (37.7ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:36:13) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:36:13', `updated_at` = '2008-12-16 20:36:13' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 61) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:36:13) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:36:13', `updated_at` = '2008-12-16 20:36:13' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 8ms (DB: 30) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:36:14', `remember_token` = 'b42b456a291e2e5dcb879ef690da9ac4d71b4ba9', `updated_at` = '2008-12-16 20:36:14' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:36:14) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'b42b456a291e2e5dcb879ef690da9ac4d71b4ba9') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:36:14', `updated_at` = '2008-12-16 20:36:14' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=b42b456a291e2e5dcb879ef690da9ac4d71b4ba9; path=/; expires=Tue, 30 Dec 2008 20:36:14 GMT
Redirected to /
Completed in 3ms (DB: 24) | 302 Found [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 15:36:14) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 163) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:36:14) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 28) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (37.5ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:36:14) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '05c7052d4adfae7c7e4cafe1c4bf99bc778efc8b', `updated_at` = '2008-12-16 20:36:14' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:36:14 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/05c7052d4adfae7c7e4cafe1c4bf99bc778efc8b

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 78ms (DB: 67) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:36:14) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 4ms (DB: 29) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:36:14) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 27) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:36:14) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 28) | 302 Found [http://test.host/session?email=&password=]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:36:14) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 31) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:36:15) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"0", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:36:15', `updated_at` = '2008-12-16 20:36:15' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 75) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:36:15) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:36:15', `updated_at` = '2008-12-16 20:36:15' WHERE `user_id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 24) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:36:15) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"1", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:36:15', `updated_at` = '2008-12-16 20:36:15' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:36:15', `remember_token` = 'd74d7f6e7da1994c6278b599a814f6c5f75cff9c', `updated_at` = '2008-12-16 20:36:15' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=d74d7f6e7da1994c6278b599a814f6c5f75cff9c; path=/; expires=Tue, 30 Dec 2008 20:36:15 GMT
Redirected to /
Completed in 7ms (DB: 78) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:36:15) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'dfa73c4e29244065f7b46b147f9e0e5a52babb5c', `updated_at` = '2008-12-16 20:36:15' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:36:15 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/dfa73c4e29244065f7b46b147f9e0e5a52babb5c

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 26) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '00de55e6a8d7ebba327f7f447f33aa3bf29a8437', `updated_at` = '2008-12-16 20:36:15' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:36:15' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:36:15) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"00de55e6a8d7ebba327f7f447f33aa3bf29a8437"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '00de55e6a8d7ebba327f7f447f33aa3bf29a8437') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-16 20:36:15', `state` = 'active', `updated_at` = '2008-12-16 20:36:15' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 6ms (DB: 26) | 302 Found [http://test.host/activate/00de55e6a8d7ebba327f7f447f33aa3bf29a8437?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 15:36:15) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 76) | 200 OK [http://test.host/]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:36:15) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '4d78edcb632fdfa15127aa171fb4756373deea73', `updated_at` = '2008-12-16 20:36:15' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:36:15 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your Contact Quarterly online account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/4d78edcb632fdfa15127aa171fb4756373deea73

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 8ms (DB: 24) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:36:15) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-16 20:36:15' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:36:15 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 2, DB: 73) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:36:15) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 20:36:15' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 23) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:36:15', `updated_at` = '2008-12-16 20:36:15' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 15:36:15) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"newfirst", "last_name"=>"newlist"}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson::Version Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `ci_person_versions`[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT max(`ci_person_versions`.version) AS max_version FROM `ci_person_versions` WHERE (`ci_person_versions`.person_id = 1) [0m
  [4;36;1mPerson Update (0.3ms)[0m   [0;1mUPDATE `ci_people` SET `version` = 1, `last_name` = 'newlist', `first_name` = 'newfirst', `updated_at` = '2008-12-16 20:36:15' WHERE `person_id` = 1[0m
  [4;35;1mPerson::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 20:36:15', NULL, 1, 'newfirst', 1, 'newlist')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 18ms (DB: 24) | 302 Found [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=newfirst&user%5Bperson%5D%5Blast_name%5D=newlist]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.4ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'f00eb6e0d5b251244677eb18b0acdace6962bb41', `updated_at` = '2008-12-16 20:36:38' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:36:38) [GET]
  Parameters: {"password_reset_code"=>"f00eb6e0d5b251244677eb18b0acdace6962bb41"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'f00eb6e0d5b251244677eb18b0acdace6962bb41') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 2, DB: 86) | 200 OK [http://test.host/reset_password/f00eb6e0d5b251244677eb18b0acdace6962bb41]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '7017e359315a3f3ee5cdf2ea7a7e72c9284138cd', `updated_at` = '2008-12-16 20:36:39' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:36:39' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:36:39) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"7017e359315a3f3ee5cdf2ea7a7e72c9284138cd"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '7017e359315a3f3ee5cdf2ea7a7e72c9284138cd') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 25) | 200 OK [http://test.host/activate/7017e359315a3f3ee5cdf2ea7a7e72c9284138cd?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 15:36:39) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 72) | 302 Found [http://test.host/]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:36:39) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:36:39 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 20) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:36:39) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '88e1b14d8389e50df15ca5157c7f5f5fb38a75c7', `updated_at` = '2008-12-16 20:36:39' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:36:39 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/88e1b14d8389e50df15ca5157c7f5f5fb38a75c7

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 9ms (View: 2, DB: 22) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:36:39) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 70) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:36:39) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 21) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:36:39) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 79) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:36:39) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 2, DB: 21) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:36:39) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 21) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:36:39) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 73) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:36:39) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.1ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 21) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:36:40) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 80) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 15:36:40) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"", "last_name"=>""}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering user/edit
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 24) | 200 OK [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:36:40) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.9ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 2, DB: 28) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:36:40) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 77) | 200 OK [http://test.host/reset_password/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'c4f0db6c1d50a8626233467b456db76fbb560d3d', `updated_at` = '2008-12-16 20:36:40' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:36:40) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"c4f0db6c1d50a8626233467b456db76fbb560d3d"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'c4f0db6c1d50a8626233467b456db76fbb560d3d') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 24) | 200 OK [http://test.host/reset_password/c4f0db6c1d50a8626233467b456db76fbb560d3d?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:36:40) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 89) | 200 OK [http://test.host/activate/randomgarbage]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '539e4348cb850f6da8ce5827797ed225462fe951', `updated_at` = '2008-12-16 20:36:40' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:36:40) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"539e4348cb850f6da8ce5827797ed225462fe951"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '539e4348cb850f6da8ce5827797ed225462fe951') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-16 20:36:40' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 28) | 200 OK [http://test.host/reset_password/539e4348cb850f6da8ce5827797ed225462fe951?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:36:40', `updated_at` = '2008-12-16 20:36:40' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '592f97e1ed07e1236ff11edf8398d87918f16e5e', `updated_at` = '2008-12-16 20:36:40' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:36:40' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:36:40) [GET]
  Parameters: {"activation_code"=>"592f97e1ed07e1236ff11edf8398d87918f16e5e"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '592f97e1ed07e1236ff11edf8398d87918f16e5e') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 29) | 200 OK [http://test.host/activate/592f97e1ed07e1236ff11edf8398d87918f16e5e]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 15:36:45) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 49) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:36:45', `remember_token` = '8aafed8689c7e75cc2b3be5cba6af408bb1f19c7', `updated_at` = '2008-12-16 20:36:45' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:36:45) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (2.1ms)
Rendered shared/_footer (0.2ms)
Completed in 7ms (View: 5, DB: 65) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:36:45', `remember_token` = '8aafed8689c7e75cc2b3be5cba6af408bb1f19c7', `updated_at` = '2008-12-16 20:36:45' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 20:31:45', `updated_at` = '2008-12-16 20:36:45' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:36:45) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '8aafed8689c7e75cc2b3be5cba6af408bb1f19c7') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 30) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (37.5ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:36:46) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:36:46', `updated_at` = '2008-12-16 20:36:46' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 64) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:36:46) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:36:46', `updated_at` = '2008-12-16 20:36:46' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 29) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:36:46', `remember_token` = '9cbbafe4c9ffd0384ebceb2b9dbdc62cdc51f341', `updated_at` = '2008-12-16 20:36:46' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:36:46) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '9cbbafe4c9ffd0384ebceb2b9dbdc62cdc51f341') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:36:46', `updated_at` = '2008-12-16 20:36:46' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=9cbbafe4c9ffd0384ebceb2b9dbdc62cdc51f341; path=/; expires=Tue, 30 Dec 2008 20:36:46 GMT
Redirected to /
Completed in 3ms (DB: 24) | 302 Found [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 15:36:46) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 63) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:36:46) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 24) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (38.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:36:46) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'ea362c6374bd4947e4584cc24c628a509048f3e8', `updated_at` = '2008-12-16 20:36:46' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:36:46 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/ea362c6374bd4947e4584cc24c628a509048f3e8

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 78ms (DB: 65) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:36:46) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 27) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:36:46) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 3ms (DB: 24) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:36:46) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 26) | 302 Found [http://test.host/session?email=&password=]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:36:46) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 27) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:36:47) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"0", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:36:47', `updated_at` = '2008-12-16 20:36:47' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 73) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:36:47) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:36:47', `updated_at` = '2008-12-16 20:36:47' WHERE `user_id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 28) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:36:47) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"1", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:36:47', `updated_at` = '2008-12-16 20:36:47' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:36:47', `remember_token` = 'ae93aa9a602c209c94c6821e1f190bdf915b6a6f', `updated_at` = '2008-12-16 20:36:47' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=ae93aa9a602c209c94c6821e1f190bdf915b6a6f; path=/; expires=Tue, 30 Dec 2008 20:36:47 GMT
Redirected to /
Completed in 7ms (DB: 74) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:36:47) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'af49b27f82b19c87dc0b854dfcd039d441076929', `updated_at` = '2008-12-16 20:36:47' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:36:47 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/af49b27f82b19c87dc0b854dfcd039d441076929

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 27) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '44cee47e67357d7cb194c1faf186033dd99307cd', `updated_at` = '2008-12-16 20:36:47' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:36:47' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:36:47) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"44cee47e67357d7cb194c1faf186033dd99307cd"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '44cee47e67357d7cb194c1faf186033dd99307cd') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-16 20:36:47', `state` = 'active', `updated_at` = '2008-12-16 20:36:47' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 6ms (DB: 29) | 302 Found [http://test.host/activate/44cee47e67357d7cb194c1faf186033dd99307cd?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 15:36:47) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 72) | 200 OK [http://test.host/]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:36:47) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'a0a772b26e09b5e506108c2fba79bc567ea0da50', `updated_at` = '2008-12-16 20:36:47' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:36:47 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your Contact Quarterly online account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/a0a772b26e09b5e506108c2fba79bc567ea0da50

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 8ms (DB: 23) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:36:47) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-16 20:36:47' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:36:47 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 12ms (View: 2, DB: 79) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:36:47) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 20:36:47' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 26) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:36:47', `updated_at` = '2008-12-16 20:36:47' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 15:36:47) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"newfirst", "last_name"=>"newlist"}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson::Version Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_person_versions`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max(`ci_person_versions`.version) AS max_version FROM `ci_person_versions` WHERE (`ci_person_versions`.person_id = 1) [0m
  [4;36;1mPerson Update (0.2ms)[0m   [0;1mUPDATE `ci_people` SET `version` = 1, `last_name` = 'newlist', `first_name` = 'newfirst', `updated_at` = '2008-12-16 20:36:47' WHERE `person_id` = 1[0m
  [4;35;1mPerson::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 20:36:47', NULL, 1, 'newfirst', 1, 'newlist')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 15ms (DB: 29) | 302 Found [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=newfirst&user%5Bperson%5D%5Blast_name%5D=newlist]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'd1e32059b83d86d0fc0e96459e507f418b0c654a', `updated_at` = '2008-12-16 20:36:48' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:36:48) [GET]
  Parameters: {"password_reset_code"=>"d1e32059b83d86d0fc0e96459e507f418b0c654a"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'd1e32059b83d86d0fc0e96459e507f418b0c654a') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 84) | 200 OK [http://test.host/reset_password/d1e32059b83d86d0fc0e96459e507f418b0c654a]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '09123615ef2c1b7f4853d25efa2880e22588477a', `updated_at` = '2008-12-16 20:36:48' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:36:48' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:36:48) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"09123615ef2c1b7f4853d25efa2880e22588477a"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '09123615ef2c1b7f4853d25efa2880e22588477a') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 27) | 200 OK [http://test.host/activate/09123615ef2c1b7f4853d25efa2880e22588477a?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 15:36:48) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 83) | 302 Found [http://test.host/]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:36:48) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:36:48 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 30) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:36:48) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'e0cfeee99e1417e010d91c0564e332bd79eb9b27', `updated_at` = '2008-12-16 20:36:48' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:36:48 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/e0cfeee99e1417e010d91c0564e332bd79eb9b27

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 9ms (View: 2, DB: 26) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:36:48) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 70) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:36:48) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 20) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:36:48) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 69) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:36:48) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 2, DB: 20) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:36:48) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.1ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 26) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:36:49) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 72) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:36:49) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 23) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:36:49) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 73) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 15:36:49) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"", "last_name"=>""}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering user/edit
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 20) | 200 OK [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:36:49) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 28) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:36:49) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 76) | 200 OK [http://test.host/reset_password/]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'a62ac8de701bffbf9e32f379232a45a98e35da86', `updated_at` = '2008-12-16 20:36:49' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:36:49) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"a62ac8de701bffbf9e32f379232a45a98e35da86"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'a62ac8de701bffbf9e32f379232a45a98e35da86') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 27) | 200 OK [http://test.host/reset_password/a62ac8de701bffbf9e32f379232a45a98e35da86?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:36:49) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 77) | 200 OK [http://test.host/activate/randomgarbage]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '94ac2f1c8df2f422405f6e79001c0f3d3a2078b9', `updated_at` = '2008-12-16 20:36:49' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:36:49) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"94ac2f1c8df2f422405f6e79001c0f3d3a2078b9"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '94ac2f1c8df2f422405f6e79001c0f3d3a2078b9') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-16 20:36:49' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 28) | 200 OK [http://test.host/reset_password/94ac2f1c8df2f422405f6e79001c0f3d3a2078b9?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:36:49', `updated_at` = '2008-12-16 20:36:49' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '80c2eb38d1206accd6db81ddc7b1cfc0a20fc8fe', `updated_at` = '2008-12-16 20:36:49' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:36:49' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:36:49) [GET]
  Parameters: {"activation_code"=>"80c2eb38d1206accd6db81ddc7b1cfc0a20fc8fe"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '80c2eb38d1206accd6db81ddc7b1cfc0a20fc8fe') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 28) | 200 OK [http://test.host/activate/80c2eb38d1206accd6db81ddc7b1cfc0a20fc8fe]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 15:37:01) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 48) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:37:01', `remember_token` = '0eb69b4c802bf801b2dd6cbf91a52b082a2a8783', `updated_at` = '2008-12-16 20:37:01' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:37:01) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (1.5ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 65) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:37:01', `remember_token` = '0eb69b4c802bf801b2dd6cbf91a52b082a2a8783', `updated_at` = '2008-12-16 20:37:01' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 20:32:01', `updated_at` = '2008-12-16 20:37:01' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:37:01) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '0eb69b4c802bf801b2dd6cbf91a52b082a2a8783') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 27) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (37.5ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:37:01) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:37:01', `updated_at` = '2008-12-16 20:37:01' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 61) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:37:01) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:37:01', `updated_at` = '2008-12-16 20:37:01' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 24) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:37:01', `remember_token` = '0eb69b4c802bf801b2dd6cbf91a52b082a2a8783', `updated_at` = '2008-12-16 20:37:01' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:37:01) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '0eb69b4c802bf801b2dd6cbf91a52b082a2a8783') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:37:01', `updated_at` = '2008-12-16 20:37:01' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=0eb69b4c802bf801b2dd6cbf91a52b082a2a8783; path=/; expires=Tue, 30 Dec 2008 20:37:01 GMT
Redirected to /
Completed in 3ms (DB: 29) | 302 Found [http://test.host/session/new]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 15:37:01) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 66) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:37:01) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 24) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (42.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:37:01) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'dc40818976632dedd5d5554c6681d387436d1771', `updated_at` = '2008-12-16 20:37:01' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:37:01 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/dc40818976632dedd5d5554c6681d387436d1771

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 78ms (DB: 69) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:37:01) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 22) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:37:02) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 31) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:37:02) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 29) | 302 Found [http://test.host/session?email=&password=]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:37:02) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 30) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:37:02) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"0", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:37:02', `updated_at` = '2008-12-16 20:37:02' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 8ms (DB: 78) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:37:02) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:37:02', `updated_at` = '2008-12-16 20:37:02' WHERE `user_id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 28) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:37:02) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"1", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:37:02', `updated_at` = '2008-12-16 20:37:02' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:37:02', `remember_token` = 'e35006dadefd5be033a963353fbd34eba4f22ac2', `updated_at` = '2008-12-16 20:37:02' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=e35006dadefd5be033a963353fbd34eba4f22ac2; path=/; expires=Tue, 30 Dec 2008 20:37:02 GMT
Redirected to /
Completed in 6ms (DB: 85) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:37:02) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'c29f289e95ae81a53ce1d7569763dddd16223460', `updated_at` = '2008-12-16 20:37:02' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:37:02 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/c29f289e95ae81a53ce1d7569763dddd16223460

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 21) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '2499646afcc7cd8e7cbafdb06e7b1d8a5e7beb8e', `updated_at` = '2008-12-16 20:37:02' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:37:02' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:37:02) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"2499646afcc7cd8e7cbafdb06e7b1d8a5e7beb8e"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '2499646afcc7cd8e7cbafdb06e7b1d8a5e7beb8e') LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-16 20:37:02', `state` = 'active', `updated_at` = '2008-12-16 20:37:02' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 6ms (DB: 23) | 302 Found [http://test.host/activate/2499646afcc7cd8e7cbafdb06e7b1d8a5e7beb8e?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 15:37:02) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 72) | 200 OK [http://test.host/]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:37:02) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '0e9c5cf6ee60850772a4f4007e7774f80de330a4', `updated_at` = '2008-12-16 20:37:02' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:37:02 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your Contact Quarterly online account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/0e9c5cf6ee60850772a4f4007e7774f80de330a4

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 8ms (DB: 24) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:37:03) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-16 20:37:03' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:37:03 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 2, DB: 76) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:37:03) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 20:37:03' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 21) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:37:03', `updated_at` = '2008-12-16 20:37:03' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 15:37:03) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"newfirst", "last_name"=>"newlast"}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson::Version Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `ci_person_versions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT max(`ci_person_versions`.version) AS max_version FROM `ci_person_versions` WHERE (`ci_person_versions`.person_id = 1) [0m
  [4;36;1mPerson Update (0.2ms)[0m   [0;1mUPDATE `ci_people` SET `version` = 1, `last_name` = 'newlast', `first_name` = 'newfirst', `updated_at` = '2008-12-16 20:37:03' WHERE `person_id` = 1[0m
  [4;35;1mPerson::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 20:37:03', NULL, 1, 'newfirst', 1, 'newlast')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 14ms (DB: 26) | 302 Found [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=newfirst&user%5Bperson%5D%5Blast_name%5D=newlast]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '46aa662677512e0f63616222df38c84778a2ff6b', `updated_at` = '2008-12-16 20:37:03' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:37:03) [GET]
  Parameters: {"password_reset_code"=>"46aa662677512e0f63616222df38c84778a2ff6b"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '46aa662677512e0f63616222df38c84778a2ff6b') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 75) | 200 OK [http://test.host/reset_password/46aa662677512e0f63616222df38c84778a2ff6b]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '3b93c4c47321827667809907c415ec0b58273500', `updated_at` = '2008-12-16 20:37:03' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:37:03' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:37:03) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"3b93c4c47321827667809907c415ec0b58273500"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '3b93c4c47321827667809907c415ec0b58273500') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 21) | 200 OK [http://test.host/activate/3b93c4c47321827667809907c415ec0b58273500?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 15:37:03) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 82) | 302 Found [http://test.host/]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:37:03) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:37:03 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 23) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:37:03) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '156a5fccc3960be89d82d23c341e9e0aefa1c33e', `updated_at` = '2008-12-16 20:37:03' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:37:03 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/156a5fccc3960be89d82d23c341e9e0aefa1c33e

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 10ms (View: 2, DB: 26) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:37:03) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 82) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:37:03) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 27) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:37:04) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 71) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:37:04) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 2, DB: 24) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:37:04) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.8ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 3, DB: 26) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:37:04) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (2.0ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 4, DB: 82) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:37:04) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 23) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:37:04) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 80) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 15:37:04) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"", "last_name"=>""}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering user/edit
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 26) | 200 OK [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:37:04) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 28) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:37:04) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 77) | 200 OK [http://test.host/reset_password/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '2032d539a25c34261711e0d72931c2c5631e1815', `updated_at` = '2008-12-16 20:37:04' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:37:04) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"2032d539a25c34261711e0d72931c2c5631e1815"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '2032d539a25c34261711e0d72931c2c5631e1815') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 28) | 200 OK [http://test.host/reset_password/2032d539a25c34261711e0d72931c2c5631e1815?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:37:05) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 78) | 200 OK [http://test.host/activate/randomgarbage]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '929aeb16de461b1eaa1660b5514f50ccc6086d54', `updated_at` = '2008-12-16 20:37:05' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:37:05) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"929aeb16de461b1eaa1660b5514f50ccc6086d54"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '929aeb16de461b1eaa1660b5514f50ccc6086d54') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-16 20:37:05' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 26) | 200 OK [http://test.host/reset_password/929aeb16de461b1eaa1660b5514f50ccc6086d54?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:37:05', `updated_at` = '2008-12-16 20:37:05' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '7ee2620673d7aa1ca17039629b074030f62a9874', `updated_at` = '2008-12-16 20:37:05' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:37:05' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:37:05) [GET]
  Parameters: {"activation_code"=>"7ee2620673d7aa1ca17039629b074030f62a9874"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '7ee2620673d7aa1ca17039629b074030f62a9874') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 28) | 200 OK [http://test.host/activate/7ee2620673d7aa1ca17039629b074030f62a9874]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEmail Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mEmail Create (0.2ms)[0m   [0mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-16 20:51:46', 1, 1, 'charman@acm.org', '2008-12-16 20:51:46')[0m
  [4;36;1mEmail::Version Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;35;1mEmail::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15000, NULL, '2008-12-16 20:51:46', 1, NULL, 1, 'charman@acm.org')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: 
City: City Name
State: 
Zip: 
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>City Name, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Holy Name (Es), King, ON, Canada</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>CA</CountryNameCode><CountryName>Canada</CountryName><AdministrativeArea><AdministrativeAreaName>ON</AdministrativeAreaName><Locality><LocalityName>King</LocalityName><PostalCode><PostalCodeNumber>L7B</PostalCodeNumber><AddressLine>Holy Name (Es)</AddressLine></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-79.5391900,43.9247060,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mLocation Create (0.3ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES(NULL, NULL, '2008-12-16 20:51:47', NULL, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2, '2008-12-16 20:51:47')[0m
  [4;36;1mLocation::Version Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES(NULL, NULL, NULL, '2008-12-16 20:51:47', NULL, 15000, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 1) [0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
Google geocoding. Address: 100 Spear St, San Francisco, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Spear St, San Francisco, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Spear St, San Francisco, CA 94105, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Spear St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94105</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-122.3940000,37.7921500,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPhoneNumber Create (0.2ms)[0m   [0;1mINSERT INTO `ci_phone_numbers` (`for_entity_id`, `updated_at`, `number`, `version`, `created_at`) VALUES(NULL, '2008-12-16 20:51:48', '585-275-4822', 1, '2008-12-16 20:51:48')[0m
  [4;35;1mPhoneNumber::Version Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `ci_phone_number_versions`[0m
  [4;36;1mPhoneNumber::Version Create (0.3ms)[0m   [0;1mINSERT INTO `ci_phone_number_versions` (`phone_number_id`, `for_entity_id`, `updated_at`, `number`, `version`, `phone_number_version_id`) VALUES(15000, NULL, '2008-12-16 20:51:48', '585-275-4822', 1, NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUrl Create (0.2ms)[0m   [0mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-16 20:51:49', 1, 'http://craigharman.net/', '2008-12-16 20:51:49')[0m
  [4;36;1mUrl::Version Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `ci_url_versions`[0m
  [4;35;1mUrl::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15000, NULL, '2008-12-16 20:51:49', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUrl Create (0.2ms)[0m   [0;1mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-16 20:51:49', 1, 'http://craigharman.net/', '2008-12-16 20:51:49')[0m
  [4;35;1mUrl::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15001, NULL, '2008-12-16 20:51:49', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUrl Load (0.2ms)[0m   [0mSELECT * FROM `ci_urls` WHERE (`ci_urls`.`url_id` = 15001) [0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;36;1mUser Load (39.9ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 20:51:49', `state` = 'active', `updated_at` = '2008-12-16 20:51:49' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:51:49', `updated_at` = '2008-12-16 20:51:49' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '72d604c9322547d39e32bafb1256c16f13b04418', `updated_at` = '2008-12-16 20:51:50' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:51:50' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('0aa8e1e796d0836f744b1ba2ef5c9fd82ffa9454', NULL, NULL, '2008-12-16 20:51:50', '29f233df23264451aa4e30c9a385cd1cc987f9b4', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 20:51:50')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('ef80d60821fe918095ce95fda4a1b4a84b415265', NULL, NULL, '2008-12-16 20:51:50', 'd566b35f3e38444ce5c1f2cef7f4cda1dbf15c7f', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 20:51:50')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 20:51:50', `state` = 'deleted', `updated_at` = '2008-12-16 20:51:50' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('077ae6d892e70c473602b78f6e7b3f3c8f485403', NULL, NULL, '2008-12-16 20:51:50', '69106ff97c879640746380e4683da11fe32a1262', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 20:51:50')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15003) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 20:51:50' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:51:50', `updated_at` = '2008-12-16 20:51:50' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 20:51:50' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '5514bb864b4f7307aa21510d535505c25e7adafe', `updated_at` = '2008-12-16 20:51:50' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:51:50' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:51:50', `remember_token` = '766a4d968ffd90289d330b36468df46492a24cd5', `updated_at` = '2008-12-16 20:51:50' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 20:51:51', `remember_token` = 'aadf11f9f88de42587610e2de5fe9d6bfb40a377', `updated_at` = '2008-12-16 20:51:51' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 20:51:51', `remember_token` = 'aadf11f9f88de42587610e2de5fe9d6bfb40a377', `updated_at` = '2008-12-16 20:51:51' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 20:51:51' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:51:51', `updated_at` = '2008-12-16 20:51:51' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:51:51', `remember_token` = '07ff04e1098bbd2f9109d9fd7bd32a8e1fcbda12', `updated_at` = '2008-12-16 20:51:51' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 20:51:51' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:51:51', `remember_token` = '07ff04e1098bbd2f9109d9fd7bd32a8e1fcbda12', `updated_at` = '2008-12-16 20:51:51' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 20:51:51' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 20:51:52' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-16 20:51:52', `state` = 'active', `updated_at` = '2008-12-16 20:51:52' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (48.8ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 20:51:52' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = 'foo-bar' [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '82ff9df744f83d332d10ca4a89e5c5af94888541', `updated_at` = '2008-12-16 20:51:52' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:51:52' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 20:51:52' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = NULL [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-16 20:51:52' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 20:51:52' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 15:51:54) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 41) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:51:54', `remember_token` = '54e87e714d108aa7ec6f4c815a461bb8ceb92d44', `updated_at` = '2008-12-16 20:51:54' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:51:54) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (1.4ms)
Rendered shared/_footer (0.2ms)
Completed in 5ms (View: 4, DB: 58) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:51:54', `remember_token` = '54e87e714d108aa7ec6f4c815a461bb8ceb92d44', `updated_at` = '2008-12-16 20:51:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 20:46:54', `updated_at` = '2008-12-16 20:51:54' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:51:54) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '54e87e714d108aa7ec6f4c815a461bb8ceb92d44') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 34) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:51:54) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:51:54', `updated_at` = '2008-12-16 20:51:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 6ms (DB: 79) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:51:54) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:51:54', `updated_at` = '2008-12-16 20:51:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 33) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:51:54', `remember_token` = '54e87e714d108aa7ec6f4c815a461bb8ceb92d44', `updated_at` = '2008-12-16 20:51:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:51:54) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '54e87e714d108aa7ec6f4c815a461bb8ceb92d44') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:51:54', `updated_at` = '2008-12-16 20:51:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=54e87e714d108aa7ec6f4c815a461bb8ceb92d44; path=/; expires=Tue, 30 Dec 2008 20:51:54 GMT
Redirected to /
Completed in 3ms (DB: 69) | 302 Found [http://test.host/session/new]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 15:51:54) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 3ms (DB: 29) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:51:54) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 71) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:51:54) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '4b1d9271e8a4cff52b244484c1be61f3ad4f307a', `updated_at` = '2008-12-16 20:51:54' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:51:54 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/4b1d9271e8a4cff52b244484c1be61f3ad4f307a

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 76ms (DB: 26) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:51:55) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 25) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:51:55) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 29) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:51:55) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 77) | 302 Found [http://test.host/session?email=&password=]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:51:55) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 24) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:51:55) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"0", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:51:55', `updated_at` = '2008-12-16 20:51:55' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 69) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:51:55) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:51:55', `updated_at` = '2008-12-16 20:51:55' WHERE `user_id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 26) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:51:55) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"1", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:51:55', `updated_at` = '2008-12-16 20:51:55' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:51:55', `remember_token` = '479aaf50f147876c65d47326218a9e1a3ce9c98d', `updated_at` = '2008-12-16 20:51:55' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=479aaf50f147876c65d47326218a9e1a3ce9c98d; path=/; expires=Tue, 30 Dec 2008 20:51:55 GMT
Redirected to /
Completed in 7ms (DB: 26) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:51:55) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'fc8acf8c4217d17cec75e4faf734cfb9ef679b2a', `updated_at` = '2008-12-16 20:51:55' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:51:55 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/fc8acf8c4217d17cec75e4faf734cfb9ef679b2a

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 75) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '69429080a5505cb45a81f47068aad85475d8465d', `updated_at` = '2008-12-16 20:51:55' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:51:55' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:51:55) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"69429080a5505cb45a81f47068aad85475d8465d"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '69429080a5505cb45a81f47068aad85475d8465d') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-16 20:51:55', `state` = 'active', `updated_at` = '2008-12-16 20:51:55' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 6ms (DB: 26) | 302 Found [http://test.host/activate/69429080a5505cb45a81f47068aad85475d8465d?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 15:51:55) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 73) | 200 OK [http://test.host/]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:51:55) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'c9dc2dd70f08eba0dda89298e64ec53ff4ad9133', `updated_at` = '2008-12-16 20:51:55' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:51:55 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your Contact Quarterly online account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/c9dc2dd70f08eba0dda89298e64ec53ff4ad9133

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 8ms (DB: 26) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:51:56) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-16 20:51:56' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:51:56 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 2, DB: 78) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:51:56) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 20:51:56' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 28) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:51:56', `updated_at` = '2008-12-16 20:51:56' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 15:51:56) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"newfirst", "last_name"=>"newlast"}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson::Version Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_person_versions`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max(`ci_person_versions`.version) AS max_version FROM `ci_person_versions` WHERE (`ci_person_versions`.person_id = 1) [0m
  [4;36;1mPerson Update (0.2ms)[0m   [0;1mUPDATE `ci_people` SET `version` = 1, `last_name` = 'newlast', `first_name` = 'newfirst', `updated_at` = '2008-12-16 20:51:56' WHERE `person_id` = 1[0m
  [4;35;1mPerson::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 20:51:56', NULL, 1, 'newfirst', 1, 'newlast')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 15ms (DB: 78) | 302 Found [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=newfirst&user%5Bperson%5D%5Blast_name%5D=newlast]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'f2ff5dc2c444cae17618db3965c21d555632ef49', `updated_at` = '2008-12-16 20:51:56' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:51:56) [GET]
  Parameters: {"password_reset_code"=>"f2ff5dc2c444cae17618db3965c21d555632ef49"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'f2ff5dc2c444cae17618db3965c21d555632ef49') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 27) | 200 OK [http://test.host/reset_password/f2ff5dc2c444cae17618db3965c21d555632ef49]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '3cb362b478e1482df82bce913758ba73497873bf', `updated_at` = '2008-12-16 20:51:56' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:51:56' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:51:56) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"3cb362b478e1482df82bce913758ba73497873bf"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '3cb362b478e1482df82bce913758ba73497873bf') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 79) | 200 OK [http://test.host/activate/3cb362b478e1482df82bce913758ba73497873bf?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 15:51:56) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 1ms (DB: 30) | 302 Found [http://test.host/]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:51:56) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:51:56 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (0.9ms)
Rendered shared/_footer (0.1ms)
Completed in 10ms (View: 3, DB: 30) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:51:56) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '1a9e84be1d1b5380d9dff4f4f67cc3bc7aad827a', `updated_at` = '2008-12-16 20:51:56' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:51:56 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/1a9e84be1d1b5380d9dff4f4f67cc3bc7aad827a

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 10ms (View: 2, DB: 77) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:51:56) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 23) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:51:57) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 70) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:51:57) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 21) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:51:57) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 70) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:51:57) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 3, DB: 22) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:51:57) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 83) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:51:57) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;36;1mPerson Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.4ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 27) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (50.7ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:51:57) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 2, DB: 73) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 15:51:57) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"", "last_name"=>""}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering user/edit
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 22) | 200 OK [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:51:57) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 26) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:51:57) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 1, DB: 81) | 200 OK [http://test.host/reset_password/]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '9123bf10e39654fe3b46416cb2cdfdf71c8db45c', `updated_at` = '2008-12-16 20:51:58' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:51:58) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"9123bf10e39654fe3b46416cb2cdfdf71c8db45c"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '9123bf10e39654fe3b46416cb2cdfdf71c8db45c') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 30) | 200 OK [http://test.host/reset_password/9123bf10e39654fe3b46416cb2cdfdf71c8db45c?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:51:58) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.9ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 2, DB: 79) | 200 OK [http://test.host/activate/randomgarbage]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'c1092f52a3e0c669c9c3bac877a14c625ddd0b43', `updated_at` = '2008-12-16 20:51:58' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:51:58) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"c1092f52a3e0c669c9c3bac877a14c625ddd0b43"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'c1092f52a3e0c669c9c3bac877a14c625ddd0b43') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-16 20:51:58' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 27) | 200 OK [http://test.host/reset_password/c1092f52a3e0c669c9c3bac877a14c625ddd0b43?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:51:58', `updated_at` = '2008-12-16 20:51:58' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '8e2bc84f9fc62506f36258457d192646863bdac8', `updated_at` = '2008-12-16 20:51:58' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:51:58' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:51:58) [GET]
  Parameters: {"activation_code"=>"8e2bc84f9fc62506f36258457d192646863bdac8"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '8e2bc84f9fc62506f36258457d192646863bdac8') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 90) | 200 OK [http://test.host/activate/8e2bc84f9fc62506f36258457d192646863bdac8]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEmail Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mEmail Create (0.2ms)[0m   [0mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-16 20:54:27', 1, 1, 'charman@acm.org', '2008-12-16 20:54:27')[0m
  [4;36;1mEmail::Version Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;35;1mEmail::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15000, NULL, '2008-12-16 20:54:27', 1, NULL, 1, 'charman@acm.org')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: 
City: City Name
State: 
Zip: 
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>City Name, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Holy Name (Es), King, ON, Canada</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>CA</CountryNameCode><CountryName>Canada</CountryName><AdministrativeArea><AdministrativeAreaName>ON</AdministrativeAreaName><Locality><LocalityName>King</LocalityName><PostalCode><PostalCodeNumber>L7B</PostalCodeNumber><AddressLine>Holy Name (Es)</AddressLine></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-79.5391900,43.9247060,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mLocation Create (0.3ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES(NULL, NULL, '2008-12-16 20:54:27', NULL, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2, '2008-12-16 20:54:27')[0m
  [4;36;1mLocation::Version Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES(NULL, NULL, NULL, '2008-12-16 20:54:27', NULL, 15000, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 1) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
Google geocoding. Address: 100 Spear St, San Francisco, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Spear St, San Francisco, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Spear St, San Francisco, CA 94105, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Spear St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94105</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-122.3940000,37.7921500,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPhoneNumber Create (0.2ms)[0m   [0;1mINSERT INTO `ci_phone_numbers` (`for_entity_id`, `updated_at`, `number`, `version`, `created_at`) VALUES(NULL, '2008-12-16 20:54:28', '585-275-4822', 1, '2008-12-16 20:54:28')[0m
  [4;35;1mPhoneNumber::Version Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `ci_phone_number_versions`[0m
  [4;36;1mPhoneNumber::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_phone_number_versions` (`phone_number_id`, `for_entity_id`, `updated_at`, `number`, `version`, `phone_number_version_id`) VALUES(15000, NULL, '2008-12-16 20:54:28', '585-275-4822', 1, NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUrl Create (0.2ms)[0m   [0mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-16 20:54:28', 1, 'http://craigharman.net/', '2008-12-16 20:54:28')[0m
  [4;36;1mUrl::Version Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `ci_url_versions`[0m
  [4;35;1mUrl::Version Create (0.4ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15000, NULL, '2008-12-16 20:54:28', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUrl Create (0.2ms)[0m   [0;1mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-16 20:54:28', 1, 'http://craigharman.net/', '2008-12-16 20:54:28')[0m
  [4;35;1mUrl::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15001, NULL, '2008-12-16 20:54:28', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUrl Load (0.2ms)[0m   [0mSELECT * FROM `ci_urls` WHERE (`ci_urls`.`url_id` = 15001) [0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.3ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;36;1mUser Load (38.9ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 20:54:29', `state` = 'active', `updated_at` = '2008-12-16 20:54:29' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:54:29', `updated_at` = '2008-12-16 20:54:29' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'c9b4947284982a0bed7fa7c28c08de8f80a4af0e', `updated_at` = '2008-12-16 20:54:29' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:54:29' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('18c6c37c30d03c6f93a1ebe3beaa1abcd033d798', NULL, NULL, '2008-12-16 20:54:29', '1a7b849be4b63fc9e30790eabf6870c4d0df7605', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 20:54:29')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('4691b12470b98bb05a02596e15049258f6869c51', NULL, NULL, '2008-12-16 20:54:30', '30740f00e1ab9398ac0d8a46d561599dfb66ed82', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 20:54:30')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 20:54:30', `state` = 'deleted', `updated_at` = '2008-12-16 20:54:30' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('867c96c8443749b91bdf482077f4a363d9446bd6', NULL, NULL, '2008-12-16 20:54:30', '31d10bcfbe1494a20e8311ac3731093903e68aa4', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 20:54:30')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15003) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 20:54:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:54:30', `updated_at` = '2008-12-16 20:54:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 20:54:30' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '29251cd7b12ad228d78fe7ad4b1d1014514cb45a', `updated_at` = '2008-12-16 20:54:30' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:54:30' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:54:30', `remember_token` = '7b9a5b3fda6a07df9f14e5ce25b538059bb31fb8', `updated_at` = '2008-12-16 20:54:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 20:54:30', `remember_token` = '41fc5097c4e01291d1ecd9ea39cefb9ce351cd22', `updated_at` = '2008-12-16 20:54:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 20:54:30', `remember_token` = '41fc5097c4e01291d1ecd9ea39cefb9ce351cd22', `updated_at` = '2008-12-16 20:54:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 20:54:31' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:54:31', `updated_at` = '2008-12-16 20:54:31' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:54:31', `remember_token` = 'fa0ddc5443b8fa01e52bc78543ef9c8b8334e957', `updated_at` = '2008-12-16 20:54:31' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 20:54:31' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:54:31', `remember_token` = 'fa0ddc5443b8fa01e52bc78543ef9c8b8334e957', `updated_at` = '2008-12-16 20:54:31' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 20:54:31' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 20:54:31' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-16 20:54:31', `state` = 'active', `updated_at` = '2008-12-16 20:54:31' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (48.8ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 20:54:31' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = 'foo-bar' [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '66319acde806dafe3571b98ede118b769452753b', `updated_at` = '2008-12-16 20:54:31' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:54:31' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 20:54:31' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = NULL [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-16 20:54:31' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 20:54:31' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEmail Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mEmail Create (0.2ms)[0m   [0mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-16 20:54:54', 1, 1, 'charman@acm.org', '2008-12-16 20:54:54')[0m
  [4;36;1mEmail::Version Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;35;1mEmail::Version Create (0.4ms)[0m   [0mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15000, NULL, '2008-12-16 20:54:54', 1, NULL, 1, 'charman@acm.org')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: 
City: City Name
State: 
Zip: 
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>City Name, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Holy Name (Es), King, ON, Canada</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>CA</CountryNameCode><CountryName>Canada</CountryName><AdministrativeArea><AdministrativeAreaName>ON</AdministrativeAreaName><Locality><LocalityName>King</LocalityName><PostalCode><PostalCodeNumber>L7B</PostalCodeNumber><AddressLine>Holy Name (Es)</AddressLine></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-79.5391900,43.9247060,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mLocation Create (0.3ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES(NULL, NULL, '2008-12-16 20:54:54', NULL, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2, '2008-12-16 20:54:54')[0m
  [4;36;1mLocation::Version Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES(NULL, NULL, NULL, '2008-12-16 20:54:54', NULL, 15000, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 1) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
Google geocoding. Address: 100 Spear St, San Francisco, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Spear St, San Francisco, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Spear St, San Francisco, CA 94105, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Spear St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94105</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-122.3940000,37.7921500,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPhoneNumber Create (0.1ms)[0m   [0;1mINSERT INTO `ci_phone_numbers` (`for_entity_id`, `updated_at`, `number`, `version`, `created_at`) VALUES(NULL, '2008-12-16 20:54:55', '585-275-4822', 1, '2008-12-16 20:54:55')[0m
  [4;35;1mPhoneNumber::Version Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `ci_phone_number_versions`[0m
  [4;36;1mPhoneNumber::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_phone_number_versions` (`phone_number_id`, `for_entity_id`, `updated_at`, `number`, `version`, `phone_number_version_id`) VALUES(15000, NULL, '2008-12-16 20:54:55', '585-275-4822', 1, NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUrl Create (0.2ms)[0m   [0mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-16 20:54:55', 1, 'http://craigharman.net/', '2008-12-16 20:54:55')[0m
  [4;36;1mUrl::Version Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `ci_url_versions`[0m
  [4;35;1mUrl::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15000, NULL, '2008-12-16 20:54:55', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUrl Create (0.2ms)[0m   [0;1mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-16 20:54:55', 1, 'http://craigharman.net/', '2008-12-16 20:54:55')[0m
  [4;35;1mUrl::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15001, NULL, '2008-12-16 20:54:55', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUrl Load (0.2ms)[0m   [0mSELECT * FROM `ci_urls` WHERE (`ci_urls`.`url_id` = 15001) [0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;36;1mUser Load (39.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 20:54:56', `state` = 'active', `updated_at` = '2008-12-16 20:54:56' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:54:56', `updated_at` = '2008-12-16 20:54:56' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '29b4fd6d069a27b94e81a937b8f7a4defad81889', `updated_at` = '2008-12-16 20:54:56' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:54:56' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('2f52408cdf90ae4f17a8914d534f72d357b47c96', NULL, NULL, '2008-12-16 20:54:56', '3fa4012fcc1876bf3765d209fb122331d98cd07e', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 20:54:56')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('743460ca79e66e68939ec7dcfecfc967bd837202', NULL, NULL, '2008-12-16 20:54:57', '67e6e87b3d0a9803be918d169967ef5a104e93df', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 20:54:57')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 20:54:57', `state` = 'deleted', `updated_at` = '2008-12-16 20:54:57' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('5693458edd839e79ac2e7ded6b81405a2c7db73e', NULL, NULL, '2008-12-16 20:54:57', '02ba9c162a222c26f5292d7f2cbc633cc0c63645', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 20:54:57')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15003) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 20:54:57' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:54:57', `updated_at` = '2008-12-16 20:54:57' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 20:54:57' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'c8bb95ea63ce542f20c87cefc1593d04f079dc34', `updated_at` = '2008-12-16 20:54:57' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:54:57' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:54:57', `remember_token` = 'e1b080bfee00f360ad1faf25a60eeb8472346c6a', `updated_at` = '2008-12-16 20:54:57' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 20:54:57', `remember_token` = 'c0274a08bd82f04621c3385557c730af376053e7', `updated_at` = '2008-12-16 20:54:57' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 20:54:57', `remember_token` = 'c0274a08bd82f04621c3385557c730af376053e7', `updated_at` = '2008-12-16 20:54:57' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 20:54:58' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:54:58', `updated_at` = '2008-12-16 20:54:58' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:54:58', `remember_token` = '4b5671c91d15d51199fcd42f2d9a0735753c93a9', `updated_at` = '2008-12-16 20:54:58' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 20:54:58' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:54:58', `remember_token` = '4b5671c91d15d51199fcd42f2d9a0735753c93a9', `updated_at` = '2008-12-16 20:54:58' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 20:54:58' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 20:54:58' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-16 20:54:58', `state` = 'active', `updated_at` = '2008-12-16 20:54:58' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (48.8ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 20:54:58' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = 'foo-bar' [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '47986f5eeb7f0c8b8058678510675bce91f3fbc3', `updated_at` = '2008-12-16 20:54:58' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:54:58' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 20:54:58' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = NULL [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-16 20:54:58' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 20:54:58' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 15:55:00) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 43) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:55:00', `remember_token` = '8e67c5b032c60fd7e962eed7a8f0ea40f5e17357', `updated_at` = '2008-12-16 20:55:00' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:55:00) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (1.4ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 60) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:55:00', `remember_token` = '8e67c5b032c60fd7e962eed7a8f0ea40f5e17357', `updated_at` = '2008-12-16 20:55:00' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 20:50:00', `updated_at` = '2008-12-16 20:55:00' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:55:00) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '8e67c5b032c60fd7e962eed7a8f0ea40f5e17357') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 25) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:55:00) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:55:00', `updated_at` = '2008-12-16 20:55:00' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 8ms (DB: 67) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:55:00) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:55:00', `updated_at` = '2008-12-16 20:55:00' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 22) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:55:01', `remember_token` = '16fdc8a6017651498198886d2845594cc7ab8eaf', `updated_at` = '2008-12-16 20:55:01' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:55:01) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '16fdc8a6017651498198886d2845594cc7ab8eaf') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:55:01', `updated_at` = '2008-12-16 20:55:01' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=16fdc8a6017651498198886d2845594cc7ab8eaf; path=/; expires=Tue, 30 Dec 2008 20:55:01 GMT
Redirected to /
Completed in 3ms (DB: 59) | 302 Found [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 15:55:01) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 25) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:55:01) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 68) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:55:01) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'f887d54262e149931c729d6f96c5f82a9ed4be13', `updated_at` = '2008-12-16 20:55:01' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:55:01 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/f887d54262e149931c729d6f96c5f82a9ed4be13

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 77ms (DB: 26) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:55:01) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 23) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:55:01) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 3ms (DB: 22) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:55:01) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 67) | 302 Found [http://test.host/session?email=&password=]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:55:01) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 23) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:55:01) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"0", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:55:01', `updated_at` = '2008-12-16 20:55:01' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 67) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:55:01) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:55:01', `updated_at` = '2008-12-16 20:55:01' WHERE `user_id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 30) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:55:02) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"1", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:55:02', `updated_at` = '2008-12-16 20:55:02' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:55:02', `remember_token` = 'a884231a952e2c845913949d8242c4c9f898945a', `updated_at` = '2008-12-16 20:55:02' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=a884231a952e2c845913949d8242c4c9f898945a; path=/; expires=Tue, 30 Dec 2008 20:55:02 GMT
Redirected to /
Completed in 7ms (DB: 32) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:55:02) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '793ff965f7f07836ff577f52f423d612ed98f855', `updated_at` = '2008-12-16 20:55:02' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:55:02 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/793ff965f7f07836ff577f52f423d612ed98f855

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 10ms (DB: 78) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '0eca6c61f45466a077bf3d29072a10d2ffc8946c', `updated_at` = '2008-12-16 20:55:02' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:55:02' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:55:02) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"0eca6c61f45466a077bf3d29072a10d2ffc8946c"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '0eca6c61f45466a077bf3d29072a10d2ffc8946c') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-16 20:55:02', `state` = 'active', `updated_at` = '2008-12-16 20:55:02' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 6ms (DB: 32) | 302 Found [http://test.host/activate/0eca6c61f45466a077bf3d29072a10d2ffc8946c?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 15:55:02) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 75) | 200 OK [http://test.host/]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:55:02) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '9f0afe36a2221813c3908e57168def03a2893572', `updated_at` = '2008-12-16 20:55:02' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:55:02 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your Contact Quarterly online account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/9f0afe36a2221813c3908e57168def03a2893572

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 8ms (DB: 23) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:55:02) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-16 20:55:02' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:55:02 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 2, DB: 72) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:55:02) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 20:55:02' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 27) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:55:02', `updated_at` = '2008-12-16 20:55:02' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 15:55:02) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"newfirst", "last_name"=>"newlast"}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson::Version Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_person_versions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT max(`ci_person_versions`.version) AS max_version FROM `ci_person_versions` WHERE (`ci_person_versions`.person_id = 1) [0m
  [4;36;1mPerson Update (0.2ms)[0m   [0;1mUPDATE `ci_people` SET `version` = 1, `last_name` = 'newlast', `first_name` = 'newfirst', `updated_at` = '2008-12-16 20:55:02' WHERE `person_id` = 1[0m
  [4;35;1mPerson::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 20:55:02', NULL, 1, 'newfirst', 1, 'newlast')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 14ms (DB: 83) | 302 Found [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=newfirst&user%5Bperson%5D%5Blast_name%5D=newlast]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'abdccec2ca097ea6be80ab5191d1d41bd7537df1', `updated_at` = '2008-12-16 20:55:02' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:55:02) [GET]
  Parameters: {"password_reset_code"=>"abdccec2ca097ea6be80ab5191d1d41bd7537df1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'abdccec2ca097ea6be80ab5191d1d41bd7537df1') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 26) | 200 OK [http://test.host/reset_password/abdccec2ca097ea6be80ab5191d1d41bd7537df1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '205335dc73f9cfc4ad7679420869ecc22db5b8f4', `updated_at` = '2008-12-16 20:55:03' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:55:03' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:55:03) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"205335dc73f9cfc4ad7679420869ecc22db5b8f4"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '205335dc73f9cfc4ad7679420869ecc22db5b8f4') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 74) | 200 OK [http://test.host/activate/205335dc73f9cfc4ad7679420869ecc22db5b8f4?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 15:55:03) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 22) | 302 Found [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 15:55:03) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>""}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/_email (0.4ms)
Rendered shared/_footer (0.1ms)
Completed in 12ms (View: 4, DB: 22) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 15:55:03) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"new_email@foo.com"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>""}}
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Rendering user/request_account
Rendered shared/_header (0.5ms)
Rendered shared/_person (0.4ms)
Rendered shared/_email (0.4ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 78) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:55:03) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:55:03 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (0.9ms)
Rendered shared/_footer (0.1ms)
Completed in 10ms (View: 3, DB: 29) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:55:03) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '0b22c0e525e72d436794aaa368ea6ef06aa2d78d', `updated_at` = '2008-12-16 20:55:03' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:55:03 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/0b22c0e525e72d436794aaa368ea6ef06aa2d78d

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 13ms (View: 2, DB: 80) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:55:03) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 26) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:55:03) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 74) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:55:03) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 29) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:55:03) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 85) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:55:04) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.5ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 31) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (52.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:55:04) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.4ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 86) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:55:04) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 3, DB: 36) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:55:04) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 26) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 15:55:04) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"", "last_name"=>""}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering user/edit
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 83) | 200 OK [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:55:04) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 27) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:55:04) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 77) | 200 OK [http://test.host/reset_password/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'b741a681dd71a6edf7cdbbdf60c88bbf002a210b', `updated_at` = '2008-12-16 20:55:04' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:55:04) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"b741a681dd71a6edf7cdbbdf60c88bbf002a210b"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'b741a681dd71a6edf7cdbbdf60c88bbf002a210b') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 27) | 200 OK [http://test.host/reset_password/b741a681dd71a6edf7cdbbdf60c88bbf002a210b?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:55:04) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 83) | 200 OK [http://test.host/activate/randomgarbage]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '678cabf665aa8a060601a92f50ed4e232c13a7ea', `updated_at` = '2008-12-16 20:55:05' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:55:05) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"678cabf665aa8a060601a92f50ed4e232c13a7ea"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '678cabf665aa8a060601a92f50ed4e232c13a7ea') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-16 20:55:05' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 25) | 200 OK [http://test.host/reset_password/678cabf665aa8a060601a92f50ed4e232c13a7ea?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:55:05', `updated_at` = '2008-12-16 20:55:05' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '7beffc8693fd90cc5fbad7054e2797369278f8c2', `updated_at` = '2008-12-16 20:55:05' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:55:05' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:55:05) [GET]
  Parameters: {"activation_code"=>"7beffc8693fd90cc5fbad7054e2797369278f8c2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '7beffc8693fd90cc5fbad7054e2797369278f8c2') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 87) | 200 OK [http://test.host/activate/7beffc8693fd90cc5fbad7054e2797369278f8c2]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 15:56:49) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 48) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:56:49', `remember_token` = 'c8a52ba3707f430c0f4a08ab0dcda98207fee846', `updated_at` = '2008-12-16 20:56:49' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:56:49) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (1.4ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 65) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:56:49', `remember_token` = 'c8a52ba3707f430c0f4a08ab0dcda98207fee846', `updated_at` = '2008-12-16 20:56:49' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 20:51:49', `updated_at` = '2008-12-16 20:56:49' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:56:49) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'c8a52ba3707f430c0f4a08ab0dcda98207fee846') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 31) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:56:50) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:56:50', `updated_at` = '2008-12-16 20:56:50' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 8ms (DB: 67) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:56:50) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:56:50', `updated_at` = '2008-12-16 20:56:50' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 27) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:56:50', `remember_token` = 'c54ad61c3eaf15f2655d8de7c23f875b9c5fd16e', `updated_at` = '2008-12-16 20:56:50' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:56:50) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'c54ad61c3eaf15f2655d8de7c23f875b9c5fd16e') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:56:50', `updated_at` = '2008-12-16 20:56:50' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=c54ad61c3eaf15f2655d8de7c23f875b9c5fd16e; path=/; expires=Tue, 30 Dec 2008 20:56:50 GMT
Redirected to /
Completed in 3ms (DB: 64) | 302 Found [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 15:56:50) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 31) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:56:50) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 63) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:56:50) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'fb358e934b9aaf590216ebf254a88f92a9373ecd', `updated_at` = '2008-12-16 20:56:50' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:56:50 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/fb358e934b9aaf590216ebf254a88f92a9373ecd

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 76ms (DB: 30) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:56:50) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 30) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:56:50) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 3ms (DB: 30) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:56:50) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 74) | 302 Found [http://test.host/session?email=&password=]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:56:51) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 28) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:56:51) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"0", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:56:51', `updated_at` = '2008-12-16 20:56:51' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 81) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:56:51) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:56:51', `updated_at` = '2008-12-16 20:56:51' WHERE `user_id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 8ms (DB: 28) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:56:51) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"1", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:56:51', `updated_at` = '2008-12-16 20:56:51' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:56:51', `remember_token` = '7cb4047398df25994e5584475490a1f1d90fd54f', `updated_at` = '2008-12-16 20:56:51' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=7cb4047398df25994e5584475490a1f1d90fd54f; path=/; expires=Tue, 30 Dec 2008 20:56:51 GMT
Redirected to /
Completed in 7ms (DB: 28) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:56:51) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'b66b6df97ca4337e16fc5951480b767e40f72371', `updated_at` = '2008-12-16 20:56:51' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:56:51 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/b66b6df97ca4337e16fc5951480b767e40f72371

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 80) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '4c6b5d13cc4fecd8fde2adaf58ae04a82b2dc530', `updated_at` = '2008-12-16 20:56:51' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:56:51' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:56:51) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"4c6b5d13cc4fecd8fde2adaf58ae04a82b2dc530"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '4c6b5d13cc4fecd8fde2adaf58ae04a82b2dc530') LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-16 20:56:51', `state` = 'active', `updated_at` = '2008-12-16 20:56:51' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 6ms (DB: 23) | 302 Found [http://test.host/activate/4c6b5d13cc4fecd8fde2adaf58ae04a82b2dc530?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 15:56:51) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 68) | 200 OK [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 15:56:51) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"new_email@foo.com"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'new_email@foo.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Create (0.1ms)[0m   [0mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-16 20:56:51', 1, 'first_name', 'last_name', '2008-12-16 20:56:51')[0m
  [4;36;1mPerson::Version Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_person_versions`[0m
  [4;35;1mPerson::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 20:56:51', NULL, 1, 'first_name', 15001, 'last_name')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15001) [0m


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:56:51) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '3a22128cea854f879b4a159dbfddf67be5a3d9b4', `updated_at` = '2008-12-16 20:56:51' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:56:51 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your Contact Quarterly online account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/3a22128cea854f879b4a159dbfddf67be5a3d9b4

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 8ms (DB: 96) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:56:51) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-16 20:56:51' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:56:51 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 2, DB: 23) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:56:52) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 20:56:52' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 71) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:56:52', `updated_at` = '2008-12-16 20:56:52' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 15:56:52) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"newfirst", "last_name"=>"newlast"}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max(`ci_person_versions`.version) AS max_version FROM `ci_person_versions` WHERE (`ci_person_versions`.person_id = 1) [0m
  [4;35;1mPerson Update (0.2ms)[0m   [0mUPDATE `ci_people` SET `version` = 1, `last_name` = 'newlast', `first_name` = 'newfirst', `updated_at` = '2008-12-16 20:56:52' WHERE `person_id` = 1[0m
  [4;36;1mPerson::Version Create (0.1ms)[0m   [0;1mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 20:56:52', NULL, 1, 'newfirst', 1, 'newlast')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to actionindex
Completed in 10ms (DB: 23) | 302 Found [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=newfirst&user%5Bperson%5D%5Blast_name%5D=newlast]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '86dfd4034148bdc07cc8c58f8d08ed13dacbf1ab', `updated_at` = '2008-12-16 20:56:52' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:56:52) [GET]
  Parameters: {"password_reset_code"=>"86dfd4034148bdc07cc8c58f8d08ed13dacbf1ab"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '86dfd4034148bdc07cc8c58f8d08ed13dacbf1ab') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 2, DB: 72) | 200 OK [http://test.host/reset_password/86dfd4034148bdc07cc8c58f8d08ed13dacbf1ab]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'ad65fb1f3192492252605c21c2cd43e0af70dde4', `updated_at` = '2008-12-16 20:56:52' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:56:52' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:56:52) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"ad65fb1f3192492252605c21c2cd43e0af70dde4"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'ad65fb1f3192492252605c21c2cd43e0af70dde4') LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 26) | 200 OK [http://test.host/activate/ad65fb1f3192492252605c21c2cd43e0af70dde4?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 15:56:52) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 1ms (DB: 27) | 302 Found [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 15:56:52) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>""}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/_email (0.4ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 4, DB: 85) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 15:56:52) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"new_email@foo.com"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>""}}
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Rendering user/request_account
Rendered shared/_header (0.5ms)
Rendered shared/_person (0.4ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 3, DB: 25) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 15:56:52) [POST]
  Parameters: {"email_confirmation"=>"some_other_address@contactimprov.org", "last_name"=>"lastname", "email"=>"some_address@contactimprov.org"}


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:56:52) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:56:52 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (1.0ms)
Rendered shared/_footer (0.1ms)
Completed in 10ms (View: 3, DB: 110) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:56:52) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '611d783c0924ff25ef04ce98326e66b422b2612f', `updated_at` = '2008-12-16 20:56:52' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:56:52 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/611d783c0924ff25ef04ce98326e66b422b2612f

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (0.9ms)
Rendered shared/_footer (0.1ms)
Completed in 16ms (View: 3, DB: 77) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:56:53) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 25) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:56:53) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 79) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:56:53) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 28) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;36;1mUser Load (49.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:56:53) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 80) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:56:53) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 32) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:56:53) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 3, DB: 32) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:56:53) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 3, DB: 77) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:56:53) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 22) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 15:56:53) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"", "last_name"=>""}}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering user/edit
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 74) | 200 OK [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:56:54) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 24) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:56:54) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 73) | 200 OK [http://test.host/reset_password/]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '3caa7d9ee4bc34ef21e1a555f6498f44cfd17ba4', `updated_at` = '2008-12-16 20:56:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:56:54) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"3caa7d9ee4bc34ef21e1a555f6498f44cfd17ba4"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '3caa7d9ee4bc34ef21e1a555f6498f44cfd17ba4') LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 25) | 200 OK [http://test.host/reset_password/3caa7d9ee4bc34ef21e1a555f6498f44cfd17ba4?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:56:54) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 82) | 200 OK [http://test.host/activate/randomgarbage]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '90e8a08da02c834e14682bbcbd8cd809c36955f5', `updated_at` = '2008-12-16 20:56:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:56:54) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"90e8a08da02c834e14682bbcbd8cd809c36955f5"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '90e8a08da02c834e14682bbcbd8cd809c36955f5') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-16 20:56:54' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 23) | 200 OK [http://test.host/reset_password/90e8a08da02c834e14682bbcbd8cd809c36955f5?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:56:54', `updated_at` = '2008-12-16 20:56:54' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 15:56:54) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"pending_user@contactimprov.org"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'pending_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'pending_user@contactimprov.org' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '31e565630229374a551eafec3f96d2cc15964299', `updated_at` = '2008-12-16 20:56:54' WHERE `user_id` = 8[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:56:54 -0500
From: Contact Quarterly <web@contactquarterly.com>
To: charman
Subject: We have created a Contact Quarterly online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/31e565630229374a551eafec3f96d2cc15964299

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  pending_user@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 12ms (View: 3, DB: 24) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=pending_user%40contactimprov.org&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'f5ff643d55e66ae8be276159d1c45e7581de05eb', `updated_at` = '2008-12-16 20:56:54' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:56:54' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:56:54) [GET]
  Parameters: {"activation_code"=>"f5ff643d55e66ae8be276159d1c45e7581de05eb"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'f5ff643d55e66ae8be276159d1c45e7581de05eb') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 83) | 200 OK [http://test.host/activate/f5ff643d55e66ae8be276159d1c45e7581de05eb]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 15:58:43) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 45) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:58:43', `remember_token` = 'a01d13d588e0af0cd741320134c22dc968b479bd', `updated_at` = '2008-12-16 20:58:43' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:58:43) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (1.4ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 62) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:58:43', `remember_token` = 'a01d13d588e0af0cd741320134c22dc968b479bd', `updated_at` = '2008-12-16 20:58:43' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 20:53:43', `updated_at` = '2008-12-16 20:58:43' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:58:43) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'a01d13d588e0af0cd741320134c22dc968b479bd') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 29) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:58:43) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:58:43', `updated_at` = '2008-12-16 20:58:43' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 61) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:58:43) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:58:43', `updated_at` = '2008-12-16 20:58:43' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 28) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:58:43', `remember_token` = 'a01d13d588e0af0cd741320134c22dc968b479bd', `updated_at` = '2008-12-16 20:58:43' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:58:43) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'a01d13d588e0af0cd741320134c22dc968b479bd') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:58:43', `updated_at` = '2008-12-16 20:58:43' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=a01d13d588e0af0cd741320134c22dc968b479bd; path=/; expires=Tue, 30 Dec 2008 20:58:43 GMT
Redirected to /
Completed in 3ms (DB: 69) | 302 Found [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 15:58:43) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 26) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:58:43) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 67) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:58:44) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'd2ff0a2c17aa51e828ec29e1c6cc67fb959dd89e', `updated_at` = '2008-12-16 20:58:44' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:58:44 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/d2ff0a2c17aa51e828ec29e1c6cc67fb959dd89e

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 75ms (DB: 24) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:58:44) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 26) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:58:44) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 28) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:58:44) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 72) | 302 Found [http://test.host/session?email=&password=]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:58:44) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 3ms (DB: 30) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:58:44) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"0", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:58:44', `updated_at` = '2008-12-16 20:58:44' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 76) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:58:44) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:58:44', `updated_at` = '2008-12-16 20:58:44' WHERE `user_id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 30) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:58:44) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"1", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:58:44', `updated_at` = '2008-12-16 20:58:44' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:58:44', `remember_token` = 'b663624708a6bc30ea1a2307c61861a3efff2d9b', `updated_at` = '2008-12-16 20:58:44' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=b663624708a6bc30ea1a2307c61861a3efff2d9b; path=/; expires=Tue, 30 Dec 2008 20:58:44 GMT
Redirected to /
Completed in 7ms (DB: 28) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:58:44) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'f53bd301d36db2431c8fa3da218d6ff2d63ee9ae', `updated_at` = '2008-12-16 20:58:44' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:58:44 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/f53bd301d36db2431c8fa3da218d6ff2d63ee9ae

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 73) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'dfd59fa16de0a5d1d9691bd2e774972ac460fd6f', `updated_at` = '2008-12-16 20:58:45' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:58:45' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:58:45) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"dfd59fa16de0a5d1d9691bd2e774972ac460fd6f"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'dfd59fa16de0a5d1d9691bd2e774972ac460fd6f') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-16 20:58:45', `state` = 'active', `updated_at` = '2008-12-16 20:58:45' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 7ms (DB: 29) | 302 Found [http://test.host/activate/dfd59fa16de0a5d1d9691bd2e774972ac460fd6f?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 15:58:45) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;35;1mPerson Load (0.3ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (2.1ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 4, DB: 79) | 200 OK [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 15:58:45) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"new_email@foo.com"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'new_email@foo.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Create (0.2ms)[0m   [0mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-16 20:58:45', 1, 'first_name', 'last_name', '2008-12-16 20:58:45')[0m
  [4;36;1mPerson::Version Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_person_versions`[0m
  [4;35;1mPerson::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 20:58:45', NULL, 1, 'first_name', 15001, 'last_name')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15001) [0m


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:58:45) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '7ec4c9c3733c39ac88d0588d22905e9bb92a53b0', `updated_at` = '2008-12-16 20:58:45' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:58:45 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net online account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/7ec4c9c3733c39ac88d0588d22905e9bb92a53b0

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 12ms (DB: 115) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:58:45) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-16 20:58:45' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:58:45 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 2, DB: 26) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:58:45) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 20:58:45' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 71) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:58:45', `updated_at` = '2008-12-16 20:58:45' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 15:58:45) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"newfirst", "last_name"=>"newlast"}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT max(`ci_person_versions`.version) AS max_version FROM `ci_person_versions` WHERE (`ci_person_versions`.person_id = 1) [0m
  [4;35;1mPerson Update (0.1ms)[0m   [0mUPDATE `ci_people` SET `version` = 1, `last_name` = 'newlast', `first_name` = 'newfirst', `updated_at` = '2008-12-16 20:58:45' WHERE `person_id` = 1[0m
  [4;36;1mPerson::Version Create (0.1ms)[0m   [0;1mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 20:58:45', NULL, 1, 'newfirst', 1, 'newlast')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to actionindex
Completed in 9ms (DB: 26) | 302 Found [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=newfirst&user%5Bperson%5D%5Blast_name%5D=newlast]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '1bd3d2a81f91156121ccf87fd61e9e4fe889b5c3', `updated_at` = '2008-12-16 20:58:45' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:58:45) [GET]
  Parameters: {"password_reset_code"=>"1bd3d2a81f91156121ccf87fd61e9e4fe889b5c3"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '1bd3d2a81f91156121ccf87fd61e9e4fe889b5c3') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 71) | 200 OK [http://test.host/reset_password/1bd3d2a81f91156121ccf87fd61e9e4fe889b5c3]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'cfb7c0cb8241f38e914a7059f4ed6339c31158be', `updated_at` = '2008-12-16 20:58:45' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:58:45' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:58:45) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"cfb7c0cb8241f38e914a7059f4ed6339c31158be"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'cfb7c0cb8241f38e914a7059f4ed6339c31158be') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 25) | 200 OK [http://test.host/activate/cfb7c0cb8241f38e914a7059f4ed6339c31158be?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 15:58:45) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 28) | 302 Found [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 15:58:46) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>""}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Rendering user/request_account
Rendered shared/_header (0.5ms)
Rendered shared/_person (0.6ms)
Rendered shared/_email (0.4ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 4, DB: 74) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 15:58:46) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"new_email@foo.com"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>""}}
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Rendering user/request_account
Rendered shared/_header (0.5ms)
Rendered shared/_person (0.4ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 3, DB: 25) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 15:58:46) [POST]
  Parameters: {"email_confirmation"=>"some_other_address@contactimprov.org", "last_name"=>"lastname", "email"=>"some_address@contactimprov.org"}


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:58:46) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:58:46 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 93) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:58:46) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '41262766f8557c74ea6aa8c00b9fd1b7478e9acc', `updated_at` = '2008-12-16 20:58:46' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:58:46 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/41262766f8557c74ea6aa8c00b9fd1b7478e9acc

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 10ms (View: 2, DB: 76) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:58:46) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 24) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:58:46) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 74) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:58:46) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 25) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;36;1mUser Load (48.8ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:58:46) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 3, DB: 73) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:58:46) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 28) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:58:47) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 29) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:58:47) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 87) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:58:47) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 31) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 15:58:47) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"", "last_name"=>""}}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering user/edit
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 84) | 200 OK [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:58:47) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.9ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 2, DB: 28) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:58:47) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 77) | 200 OK [http://test.host/reset_password/]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '3c2b289d4e4fbd4eafd0be730401aa6867e5288c', `updated_at` = '2008-12-16 20:58:47' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:58:47) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"3c2b289d4e4fbd4eafd0be730401aa6867e5288c"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '3c2b289d4e4fbd4eafd0be730401aa6867e5288c') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 27) | 200 OK [http://test.host/reset_password/3c2b289d4e4fbd4eafd0be730401aa6867e5288c?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:58:47) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 81) | 200 OK [http://test.host/activate/randomgarbage]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '4f979756a8412bf7fcdde8bacbdb55cbb9e7142c', `updated_at` = '2008-12-16 20:58:47' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:58:47) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"4f979756a8412bf7fcdde8bacbdb55cbb9e7142c"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '4f979756a8412bf7fcdde8bacbdb55cbb9e7142c') LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-16 20:58:47' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 25) | 200 OK [http://test.host/reset_password/4f979756a8412bf7fcdde8bacbdb55cbb9e7142c?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:58:47', `updated_at` = '2008-12-16 20:58:47' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 15:58:48) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"pending_user@contactimprov.org"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'pending_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'pending_user@contactimprov.org' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '0dca2c368fce138aa5001bd697a80587b2f5fb51', `updated_at` = '2008-12-16 20:58:48' WHERE `user_id` = 8[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:58:48 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net online account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/0dca2c368fce138aa5001bd697a80587b2f5fb51

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  pending_user@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 12ms (View: 3, DB: 22) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=pending_user%40contactimprov.org&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'eaaf79e364980f3c9dc11ff02161dffb45781247', `updated_at` = '2008-12-16 20:58:48' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:58:48' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:58:48) [GET]
  Parameters: {"activation_code"=>"eaaf79e364980f3c9dc11ff02161dffb45781247"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'eaaf79e364980f3c9dc11ff02161dffb45781247') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 80) | 200 OK [http://test.host/activate/eaaf79e364980f3c9dc11ff02161dffb45781247]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 15:59:07) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 42) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:59:08', `remember_token` = 'e18bc2c6c4da10622c69ae5d69634a2c37ebdc9b', `updated_at` = '2008-12-16 20:59:08' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:59:08) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (1.4ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 64) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:59:08', `remember_token` = 'e18bc2c6c4da10622c69ae5d69634a2c37ebdc9b', `updated_at` = '2008-12-16 20:59:08' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 20:54:08', `updated_at` = '2008-12-16 20:59:08' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:59:08) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'e18bc2c6c4da10622c69ae5d69634a2c37ebdc9b') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 23) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:59:08) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:59:08', `updated_at` = '2008-12-16 20:59:08' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 61) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:59:08) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:59:08', `updated_at` = '2008-12-16 20:59:08' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 4ms (DB: 25) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:59:08', `remember_token` = 'e18bc2c6c4da10622c69ae5d69634a2c37ebdc9b', `updated_at` = '2008-12-16 20:59:08' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 15:59:08) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'e18bc2c6c4da10622c69ae5d69634a2c37ebdc9b') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:59:08', `updated_at` = '2008-12-16 20:59:08' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=e18bc2c6c4da10622c69ae5d69634a2c37ebdc9b; path=/; expires=Tue, 30 Dec 2008 20:59:08 GMT
Redirected to /
Completed in 3ms (DB: 63) | 302 Found [http://test.host/session/new]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 15:59:08) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 3ms (DB: 29) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:59:08) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 62) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:59:08) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '0d662195d4a750921a8664c4cf5eabf807dfad82', `updated_at` = '2008-12-16 20:59:08' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:59:08 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/0d662195d4a750921a8664c4cf5eabf807dfad82

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 76ms (DB: 25) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:59:08) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 25) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:59:08) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 29) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:59:09) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 68) | 302 Found [http://test.host/session?email=&password=]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:59:09) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 3ms (DB: 32) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:59:09) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"0", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:59:09', `updated_at` = '2008-12-16 20:59:09' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 68) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:59:09) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:59:09', `updated_at` = '2008-12-16 20:59:09' WHERE `user_id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 31) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:59:09) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"1", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:59:09', `updated_at` = '2008-12-16 20:59:09' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 20:59:09', `remember_token` = '8f7627b834bb298788115a55ef5d029699f69c1b', `updated_at` = '2008-12-16 20:59:09' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=8f7627b834bb298788115a55ef5d029699f69c1b; path=/; expires=Tue, 30 Dec 2008 20:59:09 GMT
Redirected to /
Completed in 9ms (DB: 32) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 15:59:09) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '6422041f0acaf3efe165119d27a32b51bbf1dc2b', `updated_at` = '2008-12-16 20:59:09' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:59:09 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/6422041f0acaf3efe165119d27a32b51bbf1dc2b

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 77) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '65e35c7e341f74a62c5d4ac1326a5b2690acb87e', `updated_at` = '2008-12-16 20:59:09' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:59:09' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:59:09) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"65e35c7e341f74a62c5d4ac1326a5b2690acb87e"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '65e35c7e341f74a62c5d4ac1326a5b2690acb87e') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-16 20:59:09', `state` = 'active', `updated_at` = '2008-12-16 20:59:09' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 6ms (DB: 30) | 302 Found [http://test.host/activate/65e35c7e341f74a62c5d4ac1326a5b2690acb87e?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 15:59:09) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 76) | 200 OK [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 15:59:09) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"new_email@foo.com"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'new_email@foo.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Create (0.1ms)[0m   [0mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-16 20:59:09', 1, 'first_name', 'last_name', '2008-12-16 20:59:09')[0m
  [4;36;1mPerson::Version Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `ci_person_versions`[0m
  [4;35;1mPerson::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 20:59:09', NULL, 1, 'first_name', 15001, 'last_name')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15001) [0m


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:59:10) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'f57878cb9cd77d1c782b5b60db6db89695067ffe', `updated_at` = '2008-12-16 20:59:10' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:59:10 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/f57878cb9cd77d1c782b5b60db6db89695067ffe

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 8ms (DB: 100) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:59:10) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-16 20:59:10' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:59:10 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 2, DB: 25) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:59:10) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 20:59:10' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 71) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:59:10', `updated_at` = '2008-12-16 20:59:10' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 15:59:10) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"newfirst", "last_name"=>"newlast"}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT max(`ci_person_versions`.version) AS max_version FROM `ci_person_versions` WHERE (`ci_person_versions`.person_id = 1) [0m
  [4;35;1mPerson Update (0.2ms)[0m   [0mUPDATE `ci_people` SET `version` = 1, `last_name` = 'newlast', `first_name` = 'newfirst', `updated_at` = '2008-12-16 20:59:10' WHERE `person_id` = 1[0m
  [4;36;1mPerson::Version Create (0.1ms)[0m   [0;1mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 20:59:10', NULL, 1, 'newfirst', 1, 'newlast')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to actionindex
Completed in 9ms (DB: 28) | 302 Found [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=newfirst&user%5Bperson%5D%5Blast_name%5D=newlast]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = 'a3823ce4875a18a56bca85a1fadfab1819efefc7', `updated_at` = '2008-12-16 20:59:10' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:59:10) [GET]
  Parameters: {"password_reset_code"=>"a3823ce4875a18a56bca85a1fadfab1819efefc7"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'a3823ce4875a18a56bca85a1fadfab1819efefc7') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 77) | 200 OK [http://test.host/reset_password/a3823ce4875a18a56bca85a1fadfab1819efefc7]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '9b4bb4c6c72689acc0e19959e1b04f67e299be55', `updated_at` = '2008-12-16 20:59:10' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:59:10' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:59:10) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"9b4bb4c6c72689acc0e19959e1b04f67e299be55"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '9b4bb4c6c72689acc0e19959e1b04f67e299be55') LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 24) | 200 OK [http://test.host/activate/9b4bb4c6c72689acc0e19959e1b04f67e299be55?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 15:59:10) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 25) | 302 Found [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 15:59:10) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>""}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Rendering user/request_account
Rendered shared/_header (0.5ms)
Rendered shared/_person (0.6ms)
Rendered shared/_email (0.4ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 4, DB: 78) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 15:59:10) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"new_email@foo.com"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>""}}
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Rendering user/request_account
Rendered shared/_header (0.5ms)
Rendered shared/_person (0.4ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 3, DB: 22) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 15:59:10) [POST]
  Parameters: {"email_confirmation"=>"some_other_address@contactimprov.org", "last_name"=>"lastname", "email"=>"some_address@contactimprov.org"}


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:59:11) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:59:11 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 100) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:59:11) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'c33635a0e4f51a7fdc98976c34ffe2807676a8f6', `updated_at` = '2008-12-16 20:59:11' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:59:11 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/c33635a0e4f51a7fdc98976c34ffe2807676a8f6

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 10ms (View: 2, DB: 83) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:59:11) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 28) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:59:11) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 80) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 15:59:11) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 24) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;36;1mUser Load (51.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:59:11) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 80) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:59:11) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 33) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 15:59:11) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.1ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 26) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:59:11) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 82) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 15:59:11) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 30) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 15:59:12) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"", "last_name"=>""}}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering user/edit
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 78) | 200 OK [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:59:12) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 24) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:59:12) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 1, DB: 80) | 200 OK [http://test.host/reset_password/]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '07d32a573dc94136506c5b1f65c7375f7c8e659a', `updated_at` = '2008-12-16 20:59:12' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:59:12) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"07d32a573dc94136506c5b1f65c7375f7c8e659a"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '07d32a573dc94136506c5b1f65c7375f7c8e659a') LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 31) | 200 OK [http://test.host/reset_password/07d32a573dc94136506c5b1f65c7375f7c8e659a?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:59:12) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 74) | 200 OK [http://test.host/activate/randomgarbage]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '6d5745fa53004a80394019773c7f4b18f4b8e21c', `updated_at` = '2008-12-16 20:59:12' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 15:59:12) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"6d5745fa53004a80394019773c7f4b18f4b8e21c"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '6d5745fa53004a80394019773c7f4b18f4b8e21c') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-16 20:59:12' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 26) | 200 OK [http://test.host/reset_password/6d5745fa53004a80394019773c7f4b18f4b8e21c?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 20:59:12', `updated_at` = '2008-12-16 20:59:12' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 15:59:12) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"pending_user@contactimprov.org"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'pending_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'pending_user@contactimprov.org' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '5d06e7de65babbb359408a489816e3c0a59288c3', `updated_at` = '2008-12-16 20:59:12' WHERE `user_id` = 8[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 15:59:12 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/5d06e7de65babbb359408a489816e3c0a59288c3

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  pending_user@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 12ms (View: 3, DB: 23) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=pending_user%40contactimprov.org&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'ca9c86dd8523c5f414a6789410be30e33a491dd0', `updated_at` = '2008-12-16 20:59:12' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 20:59:12' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 15:59:12) [GET]
  Parameters: {"activation_code"=>"ca9c86dd8523c5f414a6789410be30e33a491dd0"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'ca9c86dd8523c5f414a6789410be30e33a491dd0') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 80) | 200 OK [http://test.host/activate/ca9c86dd8523c5f414a6789410be30e33a491dd0]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 16:03:22) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 48) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:03:22', `remember_token` = 'd372e29f49c38d909f8d5df62008cc1b56b47a63', `updated_at` = '2008-12-16 21:03:22' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 16:03:22) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (1.4ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 62) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:03:23', `remember_token` = 'd2a62a040e787fff3f2212c0bc7d59103eb965ba', `updated_at` = '2008-12-16 21:03:23' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 20:58:23', `updated_at` = '2008-12-16 21:03:23' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 16:03:23) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'd2a62a040e787fff3f2212c0bc7d59103eb965ba') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 28) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:03:23) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:03:23', `updated_at` = '2008-12-16 21:03:23' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 62) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:03:23) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:03:23', `updated_at` = '2008-12-16 21:03:23' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 4ms (DB: 25) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:03:23', `remember_token` = 'd2a62a040e787fff3f2212c0bc7d59103eb965ba', `updated_at` = '2008-12-16 21:03:23' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 16:03:23) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'd2a62a040e787fff3f2212c0bc7d59103eb965ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:03:23', `updated_at` = '2008-12-16 21:03:23' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=d2a62a040e787fff3f2212c0bc7d59103eb965ba; path=/; expires=Tue, 30 Dec 2008 21:03:23 GMT
Redirected to /
Completed in 3ms (DB: 59) | 302 Found [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 16:03:23) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 23) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:03:23) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 61) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:03:23) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '1e5b747ab3c52832c66b04446ae34cc4805417f5', `updated_at` = '2008-12-16 21:03:23' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:03:23 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/1e5b747ab3c52832c66b04446ae34cc4805417f5

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 76ms (DB: 29) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:03:23) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 32) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:03:23) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 27) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:03:23) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 69) | 302 Found [http://test.host/session?email=&password=]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:03:24) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 30) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:03:24) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"0", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:03:24', `updated_at` = '2008-12-16 21:03:24' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 78) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:03:24) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:03:24', `updated_at` = '2008-12-16 21:03:24' WHERE `user_id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 28) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:03:24) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"1", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:03:24', `updated_at` = '2008-12-16 21:03:24' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:03:24', `remember_token` = '639d9f897e2e098613c40c3b6fcf832f2e1d6529', `updated_at` = '2008-12-16 21:03:24' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=639d9f897e2e098613c40c3b6fcf832f2e1d6529; path=/; expires=Tue, 30 Dec 2008 21:03:24 GMT
Redirected to /
Completed in 7ms (DB: 27) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:03:24) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'f784dfcc8b86bd5692a3a71c9e53d8d40eb32b9e', `updated_at` = '2008-12-16 21:03:24' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:03:24 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/f784dfcc8b86bd5692a3a71c9e53d8d40eb32b9e

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 76) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'd6b6c3079ae80342f9193262f1c8c9fe64ca777c', `updated_at` = '2008-12-16 21:03:24' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 21:03:24' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 16:03:24) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"d6b6c3079ae80342f9193262f1c8c9fe64ca777c"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'd6b6c3079ae80342f9193262f1c8c9fe64ca777c') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-16 21:03:24', `state` = 'active', `updated_at` = '2008-12-16 21:03:24' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 6ms (DB: 33) | 302 Found [http://test.host/activate/d6b6c3079ae80342f9193262f1c8c9fe64ca777c?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 16:03:24) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 79) | 200 OK [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 16:03:24) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"new_email@foo.com"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'new_email@foo.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Create (0.2ms)[0m   [0mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-16 21:03:24', 1, 'first_name', 'last_name', '2008-12-16 21:03:24')[0m
  [4;36;1mPerson::Version Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_person_versions`[0m
  [4;35;1mPerson::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 21:03:24', NULL, 1, 'first_name', 15001, 'last_name')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15001) [0m


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:03:24) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'cbf624a4604131831db74d88ec93bd67439d0060', `updated_at` = '2008-12-16 21:03:24' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:03:24 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/cbf624a4604131831db74d88ec93bd67439d0060

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 8ms (DB: 109) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 16:03:24) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-16 21:03:24' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:03:24 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 12ms (View: 2, DB: 26) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 16:03:25) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 21:03:25' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 74) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:03:25', `updated_at` = '2008-12-16 21:03:25' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 16:03:25) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"newfirst", "last_name"=>"newlast"}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max(`ci_person_versions`.version) AS max_version FROM `ci_person_versions` WHERE (`ci_person_versions`.person_id = 1) [0m
  [4;35;1mPerson Update (0.2ms)[0m   [0mUPDATE `ci_people` SET `version` = 1, `last_name` = 'newlast', `first_name` = 'newfirst', `updated_at` = '2008-12-16 21:03:25' WHERE `person_id` = 1[0m
  [4;36;1mPerson::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 21:03:25', NULL, 1, 'newfirst', 1, 'newlast')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to actionindex
Completed in 10ms (DB: 33) | 302 Found [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=newfirst&user%5Bperson%5D%5Blast_name%5D=newlast]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '9b9dbc91f4e4cb9a3f75660f8e6b3d849fea75d0', `updated_at` = '2008-12-16 21:03:25' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 16:03:25) [GET]
  Parameters: {"password_reset_code"=>"9b9dbc91f4e4cb9a3f75660f8e6b3d849fea75d0"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '9b9dbc91f4e4cb9a3f75660f8e6b3d849fea75d0') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 75) | 200 OK [http://test.host/reset_password/9b9dbc91f4e4cb9a3f75660f8e6b3d849fea75d0]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'fb19e8e60286ee484e81120238e80a9a41af48bc', `updated_at` = '2008-12-16 21:03:25' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 21:03:25' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 16:03:25) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"fb19e8e60286ee484e81120238e80a9a41af48bc"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'fb19e8e60286ee484e81120238e80a9a41af48bc') LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 26) | 200 OK [http://test.host/activate/fb19e8e60286ee484e81120238e80a9a41af48bc?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 16:03:25) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 24) | 302 Found [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 16:03:25) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>""}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Rendering user/request_account
Rendered shared/_header (0.5ms)
Rendered shared/_person (0.6ms)
Rendered shared/_email (0.4ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 77) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 16:03:25) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"new_email@foo.com"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>""}}
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Rendering user/request_account
Rendered shared/_header (0.5ms)
Rendered shared/_person (0.4ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 3, DB: 21) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:03:25) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:03:25 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 72) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:03:25) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'e34103052cfe787eb5a6032af05b741b9d4eaaf5', `updated_at` = '2008-12-16 21:03:25' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:03:25 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/e34103052cfe787eb5a6032af05b741b9d4eaaf5

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 9ms (View: 2, DB: 27) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:03:26) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 71) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:03:26) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 22) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:03:26) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 72) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 16:03:26) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 30) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (53.9ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 16:03:26) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.4ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 81) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 16:03:26) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 153) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 16:03:26) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 198) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 16:03:27) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 266) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 16:03:27) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"", "last_name"=>""}}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering user/edit
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 278) | 200 OK [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 16:03:28) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 1, DB: 459) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 16:03:28) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 436) | 200 OK [http://test.host/reset_password/]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = 'f21df26c1795a0bda5202238125af09b31aa32e3', `updated_at` = '2008-12-16 21:03:29' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 16:03:29) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"f21df26c1795a0bda5202238125af09b31aa32e3"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'f21df26c1795a0bda5202238125af09b31aa32e3') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 342) | 200 OK [http://test.host/reset_password/f21df26c1795a0bda5202238125af09b31aa32e3?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 16:03:29) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 2, DB: 270) | 200 OK [http://test.host/activate/randomgarbage]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '5676a5f84521393e41db9a5887bdd6aaf3b53a60', `updated_at` = '2008-12-16 21:03:29' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 16:03:29) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"5676a5f84521393e41db9a5887bdd6aaf3b53a60"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '5676a5f84521393e41db9a5887bdd6aaf3b53a60') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-16 21:03:29' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 9ms (View: 2, DB: 402) | 200 OK [http://test.host/reset_password/5676a5f84521393e41db9a5887bdd6aaf3b53a60?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:03:29', `updated_at` = '2008-12-16 21:03:29' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 16:03:30) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"pending_user@contactimprov.org"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'pending_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'pending_user@contactimprov.org' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '8dc98f4861501fa51c9e0088dca25ece13aec078', `updated_at` = '2008-12-16 21:03:30' WHERE `user_id` = 8[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:03:30 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/8dc98f4861501fa51c9e0088dca25ece13aec078

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  pending_user@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_account
Rendered shared/_header (0.5ms)
Rendered shared/_person (0.4ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 12ms (View: 3, DB: 252) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=pending_user%40contactimprov.org&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '0847cb3f31da440e6397d23276346ee15a6ca2a1', `updated_at` = '2008-12-16 21:03:30' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 21:03:30' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 16:03:30) [GET]
  Parameters: {"activation_code"=>"0847cb3f31da440e6397d23276346ee15a6ca2a1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '0847cb3f31da440e6397d23276346ee15a6ca2a1') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 30) | 200 OK [http://test.host/activate/0847cb3f31da440e6397d23276346ee15a6ca2a1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 16:03:57) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 45) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:03:57', `remember_token` = '78f3b73bb4fb91b70496b0c8e53ba7d5b4209563', `updated_at` = '2008-12-16 21:03:57' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 16:03:57) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (1.4ms)
Rendered shared/_footer (0.2ms)
Completed in 5ms (View: 4, DB: 60) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:03:57', `remember_token` = '78f3b73bb4fb91b70496b0c8e53ba7d5b4209563', `updated_at` = '2008-12-16 21:03:57' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 20:58:57', `updated_at` = '2008-12-16 21:03:57' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 16:03:57) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '78f3b73bb4fb91b70496b0c8e53ba7d5b4209563') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 25) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:03:57) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:03:57', `updated_at` = '2008-12-16 21:03:57' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 66) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:03:57) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:03:57', `updated_at` = '2008-12-16 21:03:57' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 27) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:03:57', `remember_token` = '78f3b73bb4fb91b70496b0c8e53ba7d5b4209563', `updated_at` = '2008-12-16 21:03:57' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 16:03:57) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '78f3b73bb4fb91b70496b0c8e53ba7d5b4209563') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:03:57', `updated_at` = '2008-12-16 21:03:57' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=78f3b73bb4fb91b70496b0c8e53ba7d5b4209563; path=/; expires=Tue, 30 Dec 2008 21:03:57 GMT
Redirected to /
Completed in 3ms (DB: 59) | 302 Found [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 16:03:57) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 25) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:03:57) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 62) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:03:57) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '5012411afa656a31625e40821888d35e7e8fc51c', `updated_at` = '2008-12-16 21:03:57' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:03:57 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/5012411afa656a31625e40821888d35e7e8fc51c

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 75ms (DB: 28) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:03:58) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 28) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:03:58) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 3ms (DB: 28) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:03:58) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 71) | 302 Found [http://test.host/session?email=&password=]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:03:58) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 26) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:03:58) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"0", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:03:58', `updated_at` = '2008-12-16 21:03:58' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 81) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:03:58) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:03:58', `updated_at` = '2008-12-16 21:03:58' WHERE `user_id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 29) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:03:58) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"1", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:03:58', `updated_at` = '2008-12-16 21:03:58' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:03:58', `remember_token` = '03b4e31a32cbafac889cd02b6a0fdcd5842f0001', `updated_at` = '2008-12-16 21:03:58' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=03b4e31a32cbafac889cd02b6a0fdcd5842f0001; path=/; expires=Tue, 30 Dec 2008 21:03:58 GMT
Redirected to /
Completed in 7ms (DB: 30) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:03:58) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '7bd99591e3335c234740c7d4b71833c64afcd4b3', `updated_at` = '2008-12-16 21:03:58' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:03:58 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/7bd99591e3335c234740c7d4b71833c64afcd4b3

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 77) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '96d21ff06e84bcb5983a33c4619d03352274c830', `updated_at` = '2008-12-16 21:03:58' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 21:03:58' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 16:03:58) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"96d21ff06e84bcb5983a33c4619d03352274c830"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '96d21ff06e84bcb5983a33c4619d03352274c830') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-16 21:03:58', `state` = 'active', `updated_at` = '2008-12-16 21:03:58' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 6ms (DB: 29) | 302 Found [http://test.host/activate/96d21ff06e84bcb5983a33c4619d03352274c830?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 16:03:58) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 71) | 200 OK [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 16:03:59) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"new_email@foo.com"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'new_email@foo.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Create (0.1ms)[0m   [0mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-16 21:03:59', 1, 'first_name', 'last_name', '2008-12-16 21:03:59')[0m
  [4;36;1mPerson::Version Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `ci_person_versions`[0m
  [4;35;1mPerson::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 21:03:59', NULL, 1, 'first_name', 15001, 'last_name')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15001) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mEmail Load (0.2ms)[0m   [0mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mEmail Create (0.1ms)[0m   [0;1mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-16 21:03:59', 1, 1, 'new_email@foo.com', '2008-12-16 21:03:59')[0m
  [4;35;1mEmail::Version Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;36;1mEmail::Version Create (0.3ms)[0m   [0;1mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15000, NULL, '2008-12-16 21:03:59', 1, NULL, 1, 'new_email@foo.com')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: New Address 1, New Address 2
City: New City
State: 
Zip: 12345
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>New Address 1, New Address 2, New City, 12345, CA</name>
  <Status>
    <code>602</code>
    <request>geocode</request>
  </Status>
</Response></kml>
Caught an error during Google geocoding call: can't convert GeoKit::GeoLoc into String
  [4;35;1mLocation Create (0.4ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES('new_region', '12345', '2008-12-16 21:03:59', NULL, NULL, 1, 'new_address_1', 'new_address_2', NULL, 'new_city', NULL, 2, '2008-12-16 21:03:59')[0m
  [4;36;1mLocation::Version Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.4ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES('new_region', NULL, '12345', '2008-12-16 21:03:59', NULL, 15000, NULL, 1, 'new_address_1', 'new_address_2', NULL, 'new_city', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Create (0.2ms)[0m   [0;1mINSERT INTO `ci_user_account_requests` (`ci_notes`, `email_id`, `updated_at`, `location_id`, `person_id`, `state`, `created_at`) VALUES(NULL, 15000, '2008-12-16 21:03:59', 15000, 15001, 'new', '2008-12-16 21:03:59')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:03:59) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '9128456daf7b8844470e1f94a581f2ac7880eda5', `updated_at` = '2008-12-16 21:03:59' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:03:59 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/9128456daf7b8844470e1f94a581f2ac7880eda5

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 8ms (DB: 108) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 16:03:59) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-16 21:03:59' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:03:59 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 2, DB: 24) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 16:03:59) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 21:03:59' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 79) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:03:59', `updated_at` = '2008-12-16 21:03:59' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 16:03:59) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"newfirst", "last_name"=>"newlast"}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT max(`ci_person_versions`.version) AS max_version FROM `ci_person_versions` WHERE (`ci_person_versions`.person_id = 1) [0m
  [4;35;1mPerson Update (0.2ms)[0m   [0mUPDATE `ci_people` SET `version` = 1, `last_name` = 'newlast', `first_name` = 'newfirst', `updated_at` = '2008-12-16 21:03:59' WHERE `person_id` = 1[0m
  [4;36;1mPerson::Version Create (0.1ms)[0m   [0;1mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 21:03:59', NULL, 1, 'newfirst', 1, 'newlast')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to actionindex
Completed in 10ms (DB: 27) | 302 Found [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=newfirst&user%5Bperson%5D%5Blast_name%5D=newlast]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '19a3eb5046dcd3791baa7c465c5a340044a2060a', `updated_at` = '2008-12-16 21:03:59' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 16:03:59) [GET]
  Parameters: {"password_reset_code"=>"19a3eb5046dcd3791baa7c465c5a340044a2060a"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '19a3eb5046dcd3791baa7c465c5a340044a2060a') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 75) | 200 OK [http://test.host/reset_password/19a3eb5046dcd3791baa7c465c5a340044a2060a]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '0ec86526e231508946274caa71064c357961351f', `updated_at` = '2008-12-16 21:04:00' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 21:04:00' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 16:04:00) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"0ec86526e231508946274caa71064c357961351f"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '0ec86526e231508946274caa71064c357961351f') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 29) | 200 OK [http://test.host/activate/0ec86526e231508946274caa71064c357961351f?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 16:04:00) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 75) | 302 Found [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 16:04:00) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>""}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/_email (0.4ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 4, DB: 26) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 16:04:00) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"new_email@foo.com"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>""}}
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Rendering user/request_account
Rendered shared/_header (0.9ms)
Rendered shared/_person (0.8ms)
Rendered shared/_email (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 5, DB: 31) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:04:00) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:04:00 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 78) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:04:00) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '32e130e7a683996cfb564fcd4b2726cfc972a78a', `updated_at` = '2008-12-16 21:04:00' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:04:00 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/32e130e7a683996cfb564fcd4b2726cfc972a78a

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 10ms (View: 2, DB: 27) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:04:00) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 82) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:04:00) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 28) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:04:00) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 74) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 16:04:00) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 3, DB: 27) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 16:04:01) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 80) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 16:04:01) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 28) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (53.6ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 16:04:01) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 79) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 16:04:01) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 24) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 16:04:01) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"", "last_name"=>""}}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering user/edit
Rendered shared/_header (0.7ms)
Rendered shared/_person (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 24) | 200 OK [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 16:04:01) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 90) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 16:04:01) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.9ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 2, DB: 189) | 200 OK [http://test.host/reset_password/]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = 'deca8f6fc3de80c3c0695a7d182c56041799f313', `updated_at` = '2008-12-16 21:04:02' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 16:04:02) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"deca8f6fc3de80c3c0695a7d182c56041799f313"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'deca8f6fc3de80c3c0695a7d182c56041799f313') LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 83) | 200 OK [http://test.host/reset_password/deca8f6fc3de80c3c0695a7d182c56041799f313?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 16:04:02) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 25) | 200 OK [http://test.host/activate/randomgarbage]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '8e46fb89f3f9538017c9824f5534fa23fe2bf5fb', `updated_at` = '2008-12-16 21:04:02' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 16:04:02) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"8e46fb89f3f9538017c9824f5534fa23fe2bf5fb"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '8e46fb89f3f9538017c9824f5534fa23fe2bf5fb') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-16 21:04:02' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 80) | 200 OK [http://test.host/reset_password/8e46fb89f3f9538017c9824f5534fa23fe2bf5fb?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:04:02', `updated_at` = '2008-12-16 21:04:02' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 16:04:02) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"pending_user@contactimprov.org"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'pending_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'pending_user@contactimprov.org' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '534f8a2c98e287deb7859c0589dc574319683ca5', `updated_at` = '2008-12-16 21:04:02' WHERE `user_id` = 8[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:04:02 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/534f8a2c98e287deb7859c0589dc574319683ca5

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  pending_user@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_account
Rendered shared/_header (0.5ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 12ms (View: 3, DB: 32) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=pending_user%40contactimprov.org&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '77ccd85cd19a747ffa6ddfa60a31e566eca87d02', `updated_at` = '2008-12-16 21:04:02' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 21:04:02' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 16:04:02) [GET]
  Parameters: {"activation_code"=>"77ccd85cd19a747ffa6ddfa60a31e566eca87d02"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '77ccd85cd19a747ffa6ddfa60a31e566eca87d02') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 89) | 200 OK [http://test.host/activate/77ccd85cd19a747ffa6ddfa60a31e566eca87d02]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 16:04:56) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 53) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:04:56', `remember_token` = '7eec54fef820adf52d481d3f0bfebb508974bbf9', `updated_at` = '2008-12-16 21:04:56' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 16:04:56) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (1.5ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 63) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:04:56', `remember_token` = '7eec54fef820adf52d481d3f0bfebb508974bbf9', `updated_at` = '2008-12-16 21:04:56' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 20:59:56', `updated_at` = '2008-12-16 21:04:56' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 16:04:56) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '7eec54fef820adf52d481d3f0bfebb508974bbf9') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 30) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:04:56) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:04:56', `updated_at` = '2008-12-16 21:04:56' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 65) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:04:56) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:04:56', `updated_at` = '2008-12-16 21:04:56' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 29) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:04:56', `remember_token` = '7eec54fef820adf52d481d3f0bfebb508974bbf9', `updated_at` = '2008-12-16 21:04:56' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 16:04:56) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '7eec54fef820adf52d481d3f0bfebb508974bbf9') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:04:56', `updated_at` = '2008-12-16 21:04:56' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=7eec54fef820adf52d481d3f0bfebb508974bbf9; path=/; expires=Tue, 30 Dec 2008 21:04:56 GMT
Redirected to /
Completed in 3ms (DB: 59) | 302 Found [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 16:04:57) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 24) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:04:57) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 61) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:04:57) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.5ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '4fc9eb47fa8aede5b99c28c5de6b7263181fdd91', `updated_at` = '2008-12-16 21:04:57' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:04:57 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/4fc9eb47fa8aede5b99c28c5de6b7263181fdd91

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 75ms (DB: 26) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:04:57) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 24) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:04:57) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 21) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:04:57) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 65) | 302 Found [http://test.host/session?email=&password=]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:04:57) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 26) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:04:57) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"0", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:04:57', `updated_at` = '2008-12-16 21:04:57' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 67) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:04:57) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:04:57', `updated_at` = '2008-12-16 21:04:57' WHERE `user_id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 25) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:04:57) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"1", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:04:57', `updated_at` = '2008-12-16 21:04:57' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:04:57', `remember_token` = '928f7fd89b4a3d16919c7421c089ff82cfd5b7e9', `updated_at` = '2008-12-16 21:04:57' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=928f7fd89b4a3d16919c7421c089ff82cfd5b7e9; path=/; expires=Tue, 30 Dec 2008 21:04:57 GMT
Redirected to /
Completed in 7ms (DB: 31) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:04:58) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '2784974934a5a3cedf20f2020421ff44caa14488', `updated_at` = '2008-12-16 21:04:58' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:04:58 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/2784974934a5a3cedf20f2020421ff44caa14488

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 76) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'd06c70b3c46760cb56c1f18ebee1e74f374175bc', `updated_at` = '2008-12-16 21:04:58' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 21:04:58' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 16:04:58) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"d06c70b3c46760cb56c1f18ebee1e74f374175bc"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'd06c70b3c46760cb56c1f18ebee1e74f374175bc') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-16 21:04:58', `state` = 'active', `updated_at` = '2008-12-16 21:04:58' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 6ms (DB: 26) | 302 Found [http://test.host/activate/d06c70b3c46760cb56c1f18ebee1e74f374175bc?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 16:04:58) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 75) | 200 OK [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 16:04:58) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"new_email@foo.com"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'new_email@foo.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Create (0.2ms)[0m   [0mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-16 21:04:58', 1, 'first_name', 'last_name', '2008-12-16 21:04:58')[0m
  [4;36;1mPerson::Version Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_person_versions`[0m
  [4;35;1mPerson::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 21:04:58', NULL, 1, 'first_name', 15001, 'last_name')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15001) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mEmail Load (0.3ms)[0m   [0mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mEmail Create (0.2ms)[0m   [0;1mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-16 21:04:58', 1, 1, 'new_email@foo.com', '2008-12-16 21:04:58')[0m
  [4;35;1mEmail::Version Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;36;1mEmail::Version Create (0.3ms)[0m   [0;1mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15000, NULL, '2008-12-16 21:04:58', 1, NULL, 1, 'new_email@foo.com')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: New Address 1, New Address 2
City: New City
State: 
Zip: 12345
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>New Address 1, New Address 2, New City, 12345, CA</name>
  <Status>
    <code>602</code>
    <request>geocode</request>
  </Status>
</Response></kml>
Caught an error during Google geocoding call: can't convert GeoKit::GeoLoc into String
  [4;35;1mLocation Create (0.4ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES('new_region', '12345', '2008-12-16 21:04:58', NULL, NULL, 1, 'new_address_1', 'new_address_2', NULL, 'new_city', NULL, 2, '2008-12-16 21:04:58')[0m
  [4;36;1mLocation::Version Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES('new_region', NULL, '12345', '2008-12-16 21:04:58', NULL, 15000, NULL, 1, 'new_address_1', 'new_address_2', NULL, 'new_city', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Create (0.2ms)[0m   [0;1mINSERT INTO `ci_user_account_requests` (`ci_notes`, `email_id`, `updated_at`, `location_id`, `person_id`, `state`, `created_at`) VALUES(NULL, 15000, '2008-12-16 21:04:58', 15000, 15001, 'new', '2008-12-16 21:04:58')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:04:58 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Account request for first_name last_name (new_email@foo.com)
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

ACCOUNT REQUEST
---------------

NAME:   first_name last_name
EMAIL:  new_email@foo.com

To approve or deny this account request, please go to:

  https://www.contactimprov.net/admin/users/list_account_requests
Redirected to actionaccount_requested
Completed in 217ms (DB: 34) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;36;1mUserAccountRequest Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` ORDER BY ci_user_account_requests.user_account_request_id DESC LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15001) [0m
  [4;36;1mEmail Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (`ci_emails`.`email_id` = 15000) [0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 15000) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:04:58) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '5268259275d4f1f7d900513ea59d532ed743f798', `updated_at` = '2008-12-16 21:04:58' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:04:58 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/5268259275d4f1f7d900513ea59d532ed743f798

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 9ms (DB: 80) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 16:04:58) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-16 21:04:58' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:04:58 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 2, DB: 28) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 16:04:58) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 21:04:58' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 77) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:04:58', `updated_at` = '2008-12-16 21:04:58' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 16:04:59) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"newfirst", "last_name"=>"newlast"}}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max(`ci_person_versions`.version) AS max_version FROM `ci_person_versions` WHERE (`ci_person_versions`.person_id = 1) [0m
  [4;36;1mPerson Update (0.2ms)[0m   [0;1mUPDATE `ci_people` SET `version` = 1, `last_name` = 'newlast', `first_name` = 'newfirst', `updated_at` = '2008-12-16 21:04:59' WHERE `person_id` = 1[0m
  [4;35;1mPerson::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 21:04:59', NULL, 1, 'newfirst', 1, 'newlast')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 11ms (DB: 30) | 302 Found [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=newfirst&user%5Bperson%5D%5Blast_name%5D=newlast]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'b6c28ba3fa5c5b9e9c45c9880ce385430c7fc9b7', `updated_at` = '2008-12-16 21:04:59' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 16:04:59) [GET]
  Parameters: {"password_reset_code"=>"b6c28ba3fa5c5b9e9c45c9880ce385430c7fc9b7"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'b6c28ba3fa5c5b9e9c45c9880ce385430c7fc9b7') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 2, DB: 73) | 200 OK [http://test.host/reset_password/b6c28ba3fa5c5b9e9c45c9880ce385430c7fc9b7]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'eaf689a44b92b1e34ff9321a339ff29e1ce2f33f', `updated_at` = '2008-12-16 21:04:59' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 21:04:59' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 16:04:59) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"eaf689a44b92b1e34ff9321a339ff29e1ce2f33f"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'eaf689a44b92b1e34ff9321a339ff29e1ce2f33f') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 24) | 200 OK [http://test.host/activate/eaf689a44b92b1e34ff9321a339ff29e1ce2f33f?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 16:04:59) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 86) | 302 Found [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 16:04:59) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>""}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/_email (0.4ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 4, DB: 22) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 16:04:59) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"new_email@foo.com"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>""}}
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 21) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:04:59) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:04:59 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 79) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:04:59) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'cc4c98d1ade3d1e95e50dafbd803979191481ede', `updated_at` = '2008-12-16 21:04:59' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:04:59 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/cc4c98d1ade3d1e95e50dafbd803979191481ede

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 9ms (View: 2, DB: 24) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:04:59) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 75) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:04:59) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 21) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:05:00) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 72) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 16:05:00) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 29) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 16:05:00) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 76) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 16:05:00) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 28) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (53.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 16:05:00) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 80) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 16:05:00) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 26) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 16:05:00) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"", "last_name"=>""}}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering user/edit
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 33) | 200 OK [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 16:05:00) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 83) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 16:05:00) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 27) | 200 OK [http://test.host/reset_password/]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '2758a4a4f52996ad43de0eefeee696fbc67639e9', `updated_at` = '2008-12-16 21:05:01' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 16:05:01) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"2758a4a4f52996ad43de0eefeee696fbc67639e9"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '2758a4a4f52996ad43de0eefeee696fbc67639e9') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 82) | 200 OK [http://test.host/reset_password/2758a4a4f52996ad43de0eefeee696fbc67639e9?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 16:05:01) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 24) | 200 OK [http://test.host/activate/randomgarbage]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '03c7b49d0c6cc182e7ca40a42a33ac747465741b', `updated_at` = '2008-12-16 21:05:01' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 16:05:01) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"03c7b49d0c6cc182e7ca40a42a33ac747465741b"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '03c7b49d0c6cc182e7ca40a42a33ac747465741b') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-16 21:05:01' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 91) | 200 OK [http://test.host/reset_password/03c7b49d0c6cc182e7ca40a42a33ac747465741b?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:05:01', `updated_at` = '2008-12-16 21:05:01' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 16:05:01) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"pending_user@contactimprov.org"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'pending_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'pending_user@contactimprov.org' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '7a8e35389ee8785ff5d3c4baf57e96164187a9c5', `updated_at` = '2008-12-16 21:05:01' WHERE `user_id` = 8[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:05:01 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/7a8e35389ee8785ff5d3c4baf57e96164187a9c5

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  pending_user@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_account
Rendered shared/_header (0.5ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 12ms (View: 3, DB: 26) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=pending_user%40contactimprov.org&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '14fb410316ce4e1e42360780193bad0ae277ee49', `updated_at` = '2008-12-16 21:05:01' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 21:05:01' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 16:05:01) [GET]
  Parameters: {"activation_code"=>"14fb410316ce4e1e42360780193bad0ae277ee49"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '14fb410316ce4e1e42360780193bad0ae277ee49') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 86) | 200 OK [http://test.host/activate/14fb410316ce4e1e42360780193bad0ae277ee49]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 16:05:48) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 50) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:05:48', `remember_token` = '5f01261631d5ceb1012fda8663dd6d367cf4a50a', `updated_at` = '2008-12-16 21:05:48' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 16:05:48) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (1.4ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 3, DB: 72) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:05:48', `remember_token` = '5f01261631d5ceb1012fda8663dd6d367cf4a50a', `updated_at` = '2008-12-16 21:05:48' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 21:00:48', `updated_at` = '2008-12-16 21:05:48' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 16:05:48) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '5f01261631d5ceb1012fda8663dd6d367cf4a50a') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 27) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:05:48) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:05:48', `updated_at` = '2008-12-16 21:05:48' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 67) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:05:48) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:05:48', `updated_at` = '2008-12-16 21:05:48' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 8ms (DB: 34) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:05:49', `remember_token` = 'd2a3b758583835711ec08c9f1587446d7dfcf544', `updated_at` = '2008-12-16 21:05:49' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 16:05:49) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'd2a3b758583835711ec08c9f1587446d7dfcf544') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:05:49', `updated_at` = '2008-12-16 21:05:49' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=d2a3b758583835711ec08c9f1587446d7dfcf544; path=/; expires=Tue, 30 Dec 2008 21:05:49 GMT
Redirected to /
Completed in 5ms (DB: 70) | 302 Found [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 16:05:49) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 28) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:05:49) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 70) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:05:49) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '4f26b1af45bb912c34bf8b3399ccd62caac0c48b', `updated_at` = '2008-12-16 21:05:49' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:05:49 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/4f26b1af45bb912c34bf8b3399ccd62caac0c48b

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 76ms (DB: 29) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:05:49) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 32) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:05:49) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 4ms (DB: 32) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:05:49) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 78) | 302 Found [http://test.host/session?email=&password=]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:05:49) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 22) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:05:49) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"0", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:05:49', `updated_at` = '2008-12-16 21:05:49' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 67) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:05:49) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:05:49', `updated_at` = '2008-12-16 21:05:49' WHERE `user_id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 22) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:05:50) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"1", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:05:50', `updated_at` = '2008-12-16 21:05:50' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:05:50', `remember_token` = '153ce147dc8c53a1b49cb7daaedce2425acf1ff9', `updated_at` = '2008-12-16 21:05:50' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=153ce147dc8c53a1b49cb7daaedce2425acf1ff9; path=/; expires=Tue, 30 Dec 2008 21:05:50 GMT
Redirected to /
Completed in 6ms (DB: 28) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:05:50) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '780d87d3f98548a16be4053f96b4efec71530adf', `updated_at` = '2008-12-16 21:05:50' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:05:50 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/780d87d3f98548a16be4053f96b4efec71530adf

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 70) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'e7128514839cc5c0b0f6836b2444a04db818d099', `updated_at` = '2008-12-16 21:05:50' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 21:05:50' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 16:05:50) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"e7128514839cc5c0b0f6836b2444a04db818d099"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'e7128514839cc5c0b0f6836b2444a04db818d099') LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-16 21:05:50', `state` = 'active', `updated_at` = '2008-12-16 21:05:50' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 6ms (DB: 26) | 302 Found [http://test.host/activate/e7128514839cc5c0b0f6836b2444a04db818d099?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 16:05:50) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 68) | 200 OK [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 16:05:50) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"new_email@foo.com"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'new_email@foo.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Create (0.2ms)[0m   [0mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-16 21:05:50', 1, 'first_name', 'last_name', '2008-12-16 21:05:50')[0m
  [4;36;1mPerson::Version Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `ci_person_versions`[0m
  [4;35;1mPerson::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 21:05:50', NULL, 1, 'first_name', 15001, 'last_name')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15001) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mEmail Load (0.2ms)[0m   [0mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mEmail Create (0.1ms)[0m   [0;1mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-16 21:05:50', 1, 1, 'new_email@foo.com', '2008-12-16 21:05:50')[0m
  [4;35;1mEmail::Version Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;36;1mEmail::Version Create (0.3ms)[0m   [0;1mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15000, NULL, '2008-12-16 21:05:50', 1, NULL, 1, 'new_email@foo.com')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: New Address 1, New Address 2
City: New City
State: 
Zip: 12345
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>New Address 1, New Address 2, New City, 12345, CA</name>
  <Status>
    <code>602</code>
    <request>geocode</request>
  </Status>
</Response></kml>
Caught an error during Google geocoding call: can't convert GeoKit::GeoLoc into String
  [4;35;1mLocation Create (0.4ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES('new_region', '12345', '2008-12-16 21:05:50', NULL, NULL, 1, 'new_address_1', 'new_address_2', NULL, 'new_city', NULL, 2, '2008-12-16 21:05:50')[0m
  [4;36;1mLocation::Version Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.4ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES('new_region', NULL, '12345', '2008-12-16 21:05:50', NULL, 15000, NULL, 1, 'new_address_1', 'new_address_2', NULL, 'new_city', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Create (0.1ms)[0m   [0;1mINSERT INTO `ci_user_account_requests` (`ci_notes`, `email_id`, `updated_at`, `location_id`, `person_id`, `state`, `created_at`) VALUES(NULL, 15000, '2008-12-16 21:05:50', 15000, 15001, 'new', '2008-12-16 21:05:50')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:05:50 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Account request for first_name last_name (new_email@foo.com)
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

ACCOUNT REQUEST
---------------

NAME:   first_name last_name
EMAIL:  new_email@foo.com

To approve or deny this account request, please go to:

  https://www.contactimprov.net/admin/users/list_account_requests
Redirected to actionaccount_requested
Completed in 220ms (DB: 32) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` ORDER BY ci_user_account_requests.user_account_request_id DESC LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15001) [0m
  [4;36;1mEmail Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (`ci_emails`.`email_id` = 15000) [0m
  [4;35;1mLocation Load (0.1ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 15000) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:05:50) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '006e38732c9448f930151a680faad01cc1e11271', `updated_at` = '2008-12-16 21:05:50' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:05:50 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/006e38732c9448f930151a680faad01cc1e11271

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 8ms (DB: 75) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 16:05:50) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-16 21:05:50' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:05:50 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 12ms (View: 2, DB: 28) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 16:05:51) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 21:05:51' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 9ms (View: 3, DB: 76) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:05:51', `updated_at` = '2008-12-16 21:05:51' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 16:05:51) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"newfirst", "last_name"=>"newlast"}}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max(`ci_person_versions`.version) AS max_version FROM `ci_person_versions` WHERE (`ci_person_versions`.person_id = 1) [0m
  [4;36;1mPerson Update (0.2ms)[0m   [0;1mUPDATE `ci_people` SET `version` = 1, `last_name` = 'newlast', `first_name` = 'newfirst', `updated_at` = '2008-12-16 21:05:51' WHERE `person_id` = 1[0m
  [4;35;1mPerson::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 21:05:51', NULL, 1, 'newfirst', 1, 'newlast')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 10ms (DB: 27) | 302 Found [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=newfirst&user%5Bperson%5D%5Blast_name%5D=newlast]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'dd59340761ca56e3b56e54f2541e9445cd4f0032', `updated_at` = '2008-12-16 21:05:51' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 16:05:51) [GET]
  Parameters: {"password_reset_code"=>"dd59340761ca56e3b56e54f2541e9445cd4f0032"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'dd59340761ca56e3b56e54f2541e9445cd4f0032') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 2, DB: 85) | 200 OK [http://test.host/reset_password/dd59340761ca56e3b56e54f2541e9445cd4f0032]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'da05ae55d6ce5588806dde293f78c26289a021b0', `updated_at` = '2008-12-16 21:05:51' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 21:05:51' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 16:05:51) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"da05ae55d6ce5588806dde293f78c26289a021b0"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'da05ae55d6ce5588806dde293f78c26289a021b0') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 32) | 200 OK [http://test.host/activate/da05ae55d6ce5588806dde293f78c26289a021b0?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 16:05:51) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 80) | 302 Found [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 16:05:51) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>""}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/_email (0.4ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 4, DB: 27) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 16:05:51) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"new_email@foo.com"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>""}}
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 3, DB: 27) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:05:51) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:05:51 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 79) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:05:51) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '0138cccce2619f3421f07fc6ecfcfe4b791e7346', `updated_at` = '2008-12-16 21:05:51' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:05:51 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/0138cccce2619f3421f07fc6ecfcfe4b791e7346

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 14ms (View: 2, DB: 34) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:05:52) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 75) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:05:52) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 24) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:05:52) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 85) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 16:05:52) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 2, DB: 26) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 16:05:52) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 74) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 16:05:52) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 24) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (53.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 16:05:52) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 75) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 16:05:52) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 25) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 16:05:52) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"", "last_name"=>""}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering user/edit
Rendered shared/_header (1.2ms)
Rendered shared/_person (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 9ms (View: 4, DB: 22) | 200 OK [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=]
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 16:05:52) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 82) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 16:05:53) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 24) | 200 OK [http://test.host/reset_password/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '40f81213873a42c466f9c3f8b5c13324f06be2b2', `updated_at` = '2008-12-16 21:05:53' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 16:05:53) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"40f81213873a42c466f9c3f8b5c13324f06be2b2"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '40f81213873a42c466f9c3f8b5c13324f06be2b2') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 78) | 200 OK [http://test.host/reset_password/40f81213873a42c466f9c3f8b5c13324f06be2b2?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 16:05:53) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 26) | 200 OK [http://test.host/activate/randomgarbage]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '47450bfd7e77a9816704204581aa2ea6fede2386', `updated_at` = '2008-12-16 21:05:53' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 16:05:53) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"47450bfd7e77a9816704204581aa2ea6fede2386"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '47450bfd7e77a9816704204581aa2ea6fede2386') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-16 21:05:53' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 84) | 200 OK [http://test.host/reset_password/47450bfd7e77a9816704204581aa2ea6fede2386?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:05:53', `updated_at` = '2008-12-16 21:05:53' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 16:05:53) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"quentin@contactimprov.org"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '375984c1a777b47b50a697bf32b4ed20525ba575', `updated_at` = '2008-12-16 21:05:53' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:05:53 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/375984c1a777b47b50a697bf32b4ed20525ba575

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 10ms (DB: 28) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=quentin%40contactimprov.org&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 16:05:53) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"pending_user@contactimprov.org"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'pending_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'pending_user@contactimprov.org' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'c43c7940c4e0da32b5989493da8d723c4fec3dad', `updated_at` = '2008-12-16 21:05:53' WHERE `user_id` = 8[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:05:53 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/c43c7940c4e0da32b5989493da8d723c4fec3dad

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  pending_user@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 13ms (View: 3, DB: 86) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=pending_user%40contactimprov.org&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'd96420781ecbb821806c5fcecb4cc1b05e338a8d', `updated_at` = '2008-12-16 21:05:53' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 21:05:53' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 16:05:53) [GET]
  Parameters: {"activation_code"=>"d96420781ecbb821806c5fcecb4cc1b05e338a8d"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'd96420781ecbb821806c5fcecb4cc1b05e338a8d') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 30) | 200 OK [http://test.host/activate/d96420781ecbb821806c5fcecb4cc1b05e338a8d]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 16:06:44) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 45) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:06:44', `remember_token` = '2fdd3a29094f2e69e3547be83a23c57e47f3cc4e', `updated_at` = '2008-12-16 21:06:44' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 16:06:44) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (1.4ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 62) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:06:44', `remember_token` = '2fdd3a29094f2e69e3547be83a23c57e47f3cc4e', `updated_at` = '2008-12-16 21:06:44' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 21:01:44', `updated_at` = '2008-12-16 21:06:44' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 16:06:44) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '2fdd3a29094f2e69e3547be83a23c57e47f3cc4e') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 26) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:06:44) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:06:44', `updated_at` = '2008-12-16 21:06:44' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 64) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:06:45) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:06:45', `updated_at` = '2008-12-16 21:06:45' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 22) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:06:45', `remember_token` = '19c6df1c15b1c9041d0cc33a3bf702f4bdb3541f', `updated_at` = '2008-12-16 21:06:45' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 16:06:45) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '19c6df1c15b1c9041d0cc33a3bf702f4bdb3541f') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:06:45', `updated_at` = '2008-12-16 21:06:45' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=19c6df1c15b1c9041d0cc33a3bf702f4bdb3541f; path=/; expires=Tue, 30 Dec 2008 21:06:45 GMT
Redirected to /
Completed in 3ms (DB: 69) | 302 Found [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 16:06:45) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 22) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:06:45) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 67) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:06:45) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '3c8bc68b7cb8258559fba9992ac8c822e51ae95b', `updated_at` = '2008-12-16 21:06:45' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:06:45 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/3c8bc68b7cb8258559fba9992ac8c822e51ae95b

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 77ms (DB: 33) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:06:45) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 31) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:06:45) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 26) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:06:45) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 68) | 302 Found [http://test.host/session?email=&password=]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:06:45) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 3ms (DB: 31) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:06:46) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"0", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:06:46', `updated_at` = '2008-12-16 21:06:46' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 79) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:06:46) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:06:46', `updated_at` = '2008-12-16 21:06:46' WHERE `user_id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 28) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:06:46) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"1", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:06:46', `updated_at` = '2008-12-16 21:06:46' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:06:46', `remember_token` = 'a01a1d0f18879a31009bbe8548203c5dd115b2f7', `updated_at` = '2008-12-16 21:06:46' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=a01a1d0f18879a31009bbe8548203c5dd115b2f7; path=/; expires=Tue, 30 Dec 2008 21:06:46 GMT
Redirected to /
Completed in 7ms (DB: 32) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:06:46) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '88fff7dfaf2970b7a333d6606c51a456744b2082', `updated_at` = '2008-12-16 21:06:46' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:06:46 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/88fff7dfaf2970b7a333d6606c51a456744b2082

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 76) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '47739e2866ddd5f099d1272c4093eaa37fa12551', `updated_at` = '2008-12-16 21:06:46' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 21:06:46' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 16:06:46) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"47739e2866ddd5f099d1272c4093eaa37fa12551"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '47739e2866ddd5f099d1272c4093eaa37fa12551') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-16 21:06:46', `state` = 'active', `updated_at` = '2008-12-16 21:06:46' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 6ms (DB: 26) | 302 Found [http://test.host/activate/47739e2866ddd5f099d1272c4093eaa37fa12551?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 16:06:46) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 3, DB: 74) | 200 OK [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 16:06:46) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"new_email@foo.com"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'new_email@foo.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Create (0.2ms)[0m   [0mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-16 21:06:46', 1, 'first_name', 'last_name', '2008-12-16 21:06:46')[0m
  [4;36;1mPerson::Version Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_person_versions`[0m
  [4;35;1mPerson::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 21:06:46', NULL, 1, 'first_name', 15001, 'last_name')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15001) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mEmail Load (0.3ms)[0m   [0mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mEmail Create (0.2ms)[0m   [0;1mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-16 21:06:46', 1, 1, 'new_email@foo.com', '2008-12-16 21:06:46')[0m
  [4;35;1mEmail::Version Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;36;1mEmail::Version Create (0.3ms)[0m   [0;1mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15000, NULL, '2008-12-16 21:06:46', 1, NULL, 1, 'new_email@foo.com')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: New Address 1, New Address 2
City: New City
State: 
Zip: 12345
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>New Address 1, New Address 2, New City, 12345, CA</name>
  <Status>
    <code>602</code>
    <request>geocode</request>
  </Status>
</Response></kml>
Caught an error during Google geocoding call: can't convert GeoKit::GeoLoc into String
  [4;35;1mLocation Create (0.4ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES('new_region', '12345', '2008-12-16 21:06:46', NULL, NULL, 1, 'new_address_1', 'new_address_2', NULL, 'new_city', NULL, 2, '2008-12-16 21:06:46')[0m
  [4;36;1mLocation::Version Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.4ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES('new_region', NULL, '12345', '2008-12-16 21:06:46', NULL, 15000, NULL, 1, 'new_address_1', 'new_address_2', NULL, 'new_city', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Create (0.1ms)[0m   [0;1mINSERT INTO `ci_user_account_requests` (`ci_notes`, `email_id`, `updated_at`, `location_id`, `person_id`, `state`, `created_at`) VALUES(NULL, 15000, '2008-12-16 21:06:46', 15000, 15001, 'new', '2008-12-16 21:06:46')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:06:46 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Account request for first_name last_name (new_email@foo.com)
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

ACCOUNT REQUEST
---------------

NAME:   first_name last_name
EMAIL:  new_email@foo.com

To approve or deny this account request, please go to:

  https://www.contactimprov.net/admin/users/list_account_requests
Redirected to actionaccount_requested
Completed in 259ms (DB: 34) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` ORDER BY ci_user_account_requests.user_account_request_id DESC LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15001) [0m
  [4;36;1mEmail Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (`ci_emails`.`email_id` = 15000) [0m
  [4;35;1mLocation Load (0.1ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 15000) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:06:46) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '4b1ec90245db24a1061c54cafbca1566c656df7e', `updated_at` = '2008-12-16 21:06:46' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:06:46 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/4b1ec90245db24a1061c54cafbca1566c656df7e

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 8ms (DB: 77) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 16:06:47) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-16 21:06:47' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:06:47 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 2, DB: 22) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 16:06:47) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 21:06:47' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 73) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:06:47', `updated_at` = '2008-12-16 21:06:47' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 16:06:47) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"newfirst", "last_name"=>"newlast"}}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max(`ci_person_versions`.version) AS max_version FROM `ci_person_versions` WHERE (`ci_person_versions`.person_id = 1) [0m
  [4;36;1mPerson Update (0.2ms)[0m   [0;1mUPDATE `ci_people` SET `version` = 1, `last_name` = 'newlast', `first_name` = 'newfirst', `updated_at` = '2008-12-16 21:06:47' WHERE `person_id` = 1[0m
  [4;35;1mPerson::Version Create (0.1ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 21:06:47', NULL, 1, 'newfirst', 1, 'newlast')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 10ms (DB: 24) | 302 Found [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=newfirst&user%5Bperson%5D%5Blast_name%5D=newlast]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'aed962e292ae2b275cb66b23e8cd3e8d700cf9e7', `updated_at` = '2008-12-16 21:06:47' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 16:06:47) [GET]
  Parameters: {"password_reset_code"=>"aed962e292ae2b275cb66b23e8cd3e8d700cf9e7"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'aed962e292ae2b275cb66b23e8cd3e8d700cf9e7') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 74) | 200 OK [http://test.host/reset_password/aed962e292ae2b275cb66b23e8cd3e8d700cf9e7]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '28b94218929c9283e203b6b481643a634241bf96', `updated_at` = '2008-12-16 21:06:47' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 21:06:47' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 16:06:47) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"28b94218929c9283e203b6b481643a634241bf96"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '28b94218929c9283e203b6b481643a634241bf96') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 23) | 200 OK [http://test.host/activate/28b94218929c9283e203b6b481643a634241bf96?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 16:06:47) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 74) | 302 Found [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 16:06:47) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>""}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/_email (0.4ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 4, DB: 24) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 16:06:47) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"new_email@foo.com"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>""}}
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 22) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:06:47) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:06:47 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 2, DB: 78) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:06:47) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '190a5f19ee04b7552571484b86e9567eccab8d1d', `updated_at` = '2008-12-16 21:06:47' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:06:47 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/190a5f19ee04b7552571484b86e9567eccab8d1d

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 10ms (View: 2, DB: 29) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:06:48) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 82) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:06:48) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 23) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:06:48) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 73) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 16:06:48) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 2, DB: 27) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 16:06:48) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 93) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 16:06:48) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 26) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (53.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 16:06:48) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 81) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 16:06:48) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 30) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 16:06:48) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"", "last_name"=>""}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering user/edit
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 27) | 200 OK [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 16:06:49) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 84) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 16:06:49) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 22) | 200 OK [http://test.host/reset_password/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '72c11f112b69d53560e578e2504f61887864fdb2', `updated_at` = '2008-12-16 21:06:49' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 16:06:49) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"72c11f112b69d53560e578e2504f61887864fdb2"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '72c11f112b69d53560e578e2504f61887864fdb2') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 76) | 200 OK [http://test.host/reset_password/72c11f112b69d53560e578e2504f61887864fdb2?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 16:06:49) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 23) | 200 OK [http://test.host/activate/randomgarbage]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '41437f6ff25dcdd8f0453ca98a038eb68e60de2c', `updated_at` = '2008-12-16 21:06:49' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 16:06:49) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"41437f6ff25dcdd8f0453ca98a038eb68e60de2c"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '41437f6ff25dcdd8f0453ca98a038eb68e60de2c') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-16 21:06:49' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 77) | 200 OK [http://test.host/reset_password/41437f6ff25dcdd8f0453ca98a038eb68e60de2c?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:06:49', `updated_at` = '2008-12-16 21:06:49' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 16:06:49) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"quentin@contactimprov.org"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'baca6ab5df87f9a35b7742b7c7ac1a9edf520806', `updated_at` = '2008-12-16 21:06:49' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:06:49 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/baca6ab5df87f9a35b7742b7c7ac1a9edf520806

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 10ms (DB: 24) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=quentin%40contactimprov.org&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 16:06:49) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"pending_user@contactimprov.org"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'pending_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'pending_user@contactimprov.org' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '06c8d51fc0b43c6c7f6847fc6ea692cf6455aadf', `updated_at` = '2008-12-16 21:06:49' WHERE `user_id` = 8[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:06:49 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/06c8d51fc0b43c6c7f6847fc6ea692cf6455aadf

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  pending_user@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_account
Rendered shared/_header (0.7ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 13ms (View: 3, DB: 79) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=pending_user%40contactimprov.org&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'a5125b0f22796f194b1bf526147e3d0a8ccc3e90', `updated_at` = '2008-12-16 21:06:49' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 21:06:49' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 16:06:49) [GET]
  Parameters: {"activation_code"=>"a5125b0f22796f194b1bf526147e3d0a8ccc3e90"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'a5125b0f22796f194b1bf526147e3d0a8ccc3e90') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 25) | 200 OK [http://test.host/activate/a5125b0f22796f194b1bf526147e3d0a8ccc3e90]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 16:07:01) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 49) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:07:01', `remember_token` = '9fcd305ace19c7541e33aeaeb30ec331859a5a43', `updated_at` = '2008-12-16 21:07:01' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 16:07:01) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (1.5ms)
Rendered shared/_footer (0.2ms)
Completed in 5ms (View: 4, DB: 65) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:07:01', `remember_token` = '9fcd305ace19c7541e33aeaeb30ec331859a5a43', `updated_at` = '2008-12-16 21:07:01' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 21:02:01', `updated_at` = '2008-12-16 21:07:01' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 16:07:01) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '9fcd305ace19c7541e33aeaeb30ec331859a5a43') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 27) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:07:01) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:07:01', `updated_at` = '2008-12-16 21:07:01' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 63) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:07:01) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:07:01', `updated_at` = '2008-12-16 21:07:01' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 4ms (DB: 26) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:07:01', `remember_token` = '9fcd305ace19c7541e33aeaeb30ec331859a5a43', `updated_at` = '2008-12-16 21:07:01' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 16:07:01) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '9fcd305ace19c7541e33aeaeb30ec331859a5a43') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:07:01', `updated_at` = '2008-12-16 21:07:01' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=9fcd305ace19c7541e33aeaeb30ec331859a5a43; path=/; expires=Tue, 30 Dec 2008 21:07:01 GMT
Redirected to /
Completed in 3ms (DB: 70) | 302 Found [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 16:07:01) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 25) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:07:01) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 66) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:07:01) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'b8cd3139a16d5c2a4c4754b0bd00b9ec85319a00', `updated_at` = '2008-12-16 21:07:01' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:07:01 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/b8cd3139a16d5c2a4c4754b0bd00b9ec85319a00

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 76ms (DB: 26) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:07:02) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 23) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:07:02) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 31) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:07:02) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 77) | 302 Found [http://test.host/session?email=&password=]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:07:02) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 3ms (DB: 32) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:07:02) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"0", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:07:02', `updated_at` = '2008-12-16 21:07:02' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 75) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:07:02) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:07:02', `updated_at` = '2008-12-16 21:07:02' WHERE `user_id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 31) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:07:02) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"1", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:07:02', `updated_at` = '2008-12-16 21:07:02' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:07:02', `remember_token` = 'c745b55f63806d38f222cd268da42e17bc9cffce', `updated_at` = '2008-12-16 21:07:02' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=c745b55f63806d38f222cd268da42e17bc9cffce; path=/; expires=Tue, 30 Dec 2008 21:07:02 GMT
Redirected to /
Completed in 7ms (DB: 29) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:07:02) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '9b71fda5307c0c45a7cde8488e599d3c8cc9d2fc', `updated_at` = '2008-12-16 21:07:02' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:07:02 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/9b71fda5307c0c45a7cde8488e599d3c8cc9d2fc

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 83) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '78f8c2b0f88de1b95065e24c595733db611dc585', `updated_at` = '2008-12-16 21:07:02' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 21:07:02' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 16:07:02) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"78f8c2b0f88de1b95065e24c595733db611dc585"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '78f8c2b0f88de1b95065e24c595733db611dc585') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-16 21:07:02', `state` = 'active', `updated_at` = '2008-12-16 21:07:02' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 7ms (DB: 30) | 302 Found [http://test.host/activate/78f8c2b0f88de1b95065e24c595733db611dc585?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 16:07:03) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 173) | 200 OK [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 16:07:03) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"new_email@foo.com"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'new_email@foo.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Create (0.2ms)[0m   [0mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-16 21:07:03', 1, 'first_name', 'last_name', '2008-12-16 21:07:03')[0m
  [4;36;1mPerson::Version Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `ci_person_versions`[0m
  [4;35;1mPerson::Version Create (0.4ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 21:07:03', NULL, 1, 'first_name', 15001, 'last_name')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPerson Load (0.3ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15001) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mEmail Load (0.4ms)[0m   [0mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mEmail Create (0.3ms)[0m   [0;1mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-16 21:07:03', 1, 1, 'new_email@foo.com', '2008-12-16 21:07:03')[0m
  [4;35;1mEmail::Version Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;36;1mEmail::Version Create (0.5ms)[0m   [0;1mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15000, NULL, '2008-12-16 21:07:03', 1, NULL, 1, 'new_email@foo.com')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: New Address 1, New Address 2
City: New City
State: 
Zip: 12345
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>New Address 1, New Address 2, New City, 12345, CA</name>
  <Status>
    <code>602</code>
    <request>geocode</request>
  </Status>
</Response></kml>
Caught an error during Google geocoding call: can't convert GeoKit::GeoLoc into String
  [4;35;1mLocation Create (0.4ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES('new_region', '12345', '2008-12-16 21:07:03', NULL, NULL, 1, 'new_address_1', 'new_address_2', NULL, 'new_city', NULL, 2, '2008-12-16 21:07:03')[0m
  [4;36;1mLocation::Version Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.4ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES('new_region', NULL, '12345', '2008-12-16 21:07:03', NULL, 15000, NULL, 1, 'new_address_1', 'new_address_2', NULL, 'new_city', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Create (0.1ms)[0m   [0;1mINSERT INTO `ci_user_account_requests` (`ci_notes`, `email_id`, `updated_at`, `location_id`, `person_id`, `state`, `created_at`) VALUES(NULL, 15000, '2008-12-16 21:07:03', 15000, 15001, 'new', '2008-12-16 21:07:03')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:07:03 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Account request for first_name last_name (new_email@foo.com)
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

ACCOUNT REQUEST
---------------

NAME:   first_name last_name
EMAIL:  new_email@foo.com

To approve or deny this account request, please go to:

  https://www.contactimprov.net/admin/users/list_account_requests
Redirected to actionaccount_requested
Completed in 263ms (DB: 43) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` ORDER BY ci_user_account_requests.user_account_request_id DESC LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15001) [0m
  [4;36;1mEmail Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (`ci_emails`.`email_id` = 15000) [0m
  [4;35;1mLocation Load (0.1ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 15000) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:07:03) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '10690e83c1ea6c6fcbf31482d9cabf6e442dd2c0', `updated_at` = '2008-12-16 21:07:03' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:07:03 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/10690e83c1ea6c6fcbf31482d9cabf6e442dd2c0

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 8ms (DB: 76) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 16:07:03) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-16 21:07:03' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:07:03 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 2, DB: 23) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 16:07:03) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 21:07:03' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 77) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:07:03', `updated_at` = '2008-12-16 21:07:03' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 16:07:03) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"newfirst", "last_name"=>"newlast"}}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT max(`ci_person_versions`.version) AS max_version FROM `ci_person_versions` WHERE (`ci_person_versions`.person_id = 1) [0m
  [4;36;1mPerson Update (0.2ms)[0m   [0;1mUPDATE `ci_people` SET `version` = 1, `last_name` = 'newlast', `first_name` = 'newfirst', `updated_at` = '2008-12-16 21:07:03' WHERE `person_id` = 1[0m
  [4;35;1mPerson::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 21:07:03', NULL, 1, 'newfirst', 1, 'newlast')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 10ms (DB: 27) | 302 Found [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=newfirst&user%5Bperson%5D%5Blast_name%5D=newlast]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '29d8ccf6d4e99fd3dc178d35bcc9d0e3bc713a5d', `updated_at` = '2008-12-16 21:07:04' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 16:07:04) [GET]
  Parameters: {"password_reset_code"=>"29d8ccf6d4e99fd3dc178d35bcc9d0e3bc713a5d"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '29d8ccf6d4e99fd3dc178d35bcc9d0e3bc713a5d') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 2, DB: 79) | 200 OK [http://test.host/reset_password/29d8ccf6d4e99fd3dc178d35bcc9d0e3bc713a5d]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'add878b38d1810570581ab132bae80a15a698e2c', `updated_at` = '2008-12-16 21:07:04' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 21:07:04' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 16:07:04) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"add878b38d1810570581ab132bae80a15a698e2c"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'add878b38d1810570581ab132bae80a15a698e2c') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 25) | 200 OK [http://test.host/activate/add878b38d1810570581ab132bae80a15a698e2c?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 16:07:04) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 77) | 302 Found [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 16:07:04) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>""}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/_email (0.4ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 4, DB: 20) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 16:07:04) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"new_email@foo.com"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>""}}
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 22) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:07:04) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:07:04 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 83) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:07:04) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'fb754c3208d9880e1c6aa6f9c1d839a0a9fe9568', `updated_at` = '2008-12-16 21:07:04' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:07:04 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/fb754c3208d9880e1c6aa6f9c1d839a0a9fe9568

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 10ms (View: 2, DB: 27) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:07:04) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 79) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:07:04) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.9ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 3, DB: 28) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:07:04) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 82) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 16:07:05) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 30) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 16:07:05) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 93) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 16:07:05) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 33) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (53.6ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 16:07:05) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 86) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 16:07:05) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 36) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 16:07:05) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"", "last_name"=>""}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering user/edit
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 25) | 200 OK [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 16:07:05) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 80) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 16:07:05) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 22) | 200 OK [http://test.host/reset_password/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'abe23b6f1fa007ab326718f3195618c88bd41d4f', `updated_at` = '2008-12-16 21:07:05' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 16:07:05) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"abe23b6f1fa007ab326718f3195618c88bd41d4f"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'abe23b6f1fa007ab326718f3195618c88bd41d4f') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 89) | 200 OK [http://test.host/reset_password/abe23b6f1fa007ab326718f3195618c88bd41d4f?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 16:07:06) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 22) | 200 OK [http://test.host/activate/randomgarbage]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'd93fce4fd0cc767846d3054b4036543a3f50e58b', `updated_at` = '2008-12-16 21:07:06' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 16:07:06) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"d93fce4fd0cc767846d3054b4036543a3f50e58b"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'd93fce4fd0cc767846d3054b4036543a3f50e58b') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-16 21:07:06' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 9ms (View: 2, DB: 77) | 200 OK [http://test.host/reset_password/d93fce4fd0cc767846d3054b4036543a3f50e58b?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:07:06', `updated_at` = '2008-12-16 21:07:06' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 16:07:06) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"quentin@contactimprov.org"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '09961e0cb4eb5db9323ac1acb0abc9093c703000', `updated_at` = '2008-12-16 21:07:06' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:07:06 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/09961e0cb4eb5db9323ac1acb0abc9093c703000

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 10ms (DB: 27) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=quentin%40contactimprov.org&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 16:07:06) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"pending_user@contactimprov.org"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'pending_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'pending_user@contactimprov.org' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'd1f2ef9f0b41fce8c86009e545e7e4b0343dff8a', `updated_at` = '2008-12-16 21:07:06' WHERE `user_id` = 8[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:07:06 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/d1f2ef9f0b41fce8c86009e545e7e4b0343dff8a

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  pending_user@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 13ms (View: 3, DB: 85) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=pending_user%40contactimprov.org&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '622688e6e22dcbe4b2bde3495de126352adff598', `updated_at` = '2008-12-16 21:07:06' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 21:07:06' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 16:07:06) [GET]
  Parameters: {"activation_code"=>"622688e6e22dcbe4b2bde3495de126352adff598"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '622688e6e22dcbe4b2bde3495de126352adff598') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 30) | 200 OK [http://test.host/activate/622688e6e22dcbe4b2bde3495de126352adff598]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEmail Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mEmail Create (0.2ms)[0m   [0mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-16 21:07:32', 1, 1, 'charman@acm.org', '2008-12-16 21:07:32')[0m
  [4;36;1mEmail::Version Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;35;1mEmail::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15000, NULL, '2008-12-16 21:07:32', 1, NULL, 1, 'charman@acm.org')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: 
City: City Name
State: 
Zip: 
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>City Name, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Holy Name (Es), King, ON, Canada</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>CA</CountryNameCode><CountryName>Canada</CountryName><AdministrativeArea><AdministrativeAreaName>ON</AdministrativeAreaName><Locality><LocalityName>King</LocalityName><PostalCode><PostalCodeNumber>L7B</PostalCodeNumber><AddressLine>Holy Name (Es)</AddressLine></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-79.5391900,43.9247060,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mLocation Create (0.4ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES(NULL, NULL, '2008-12-16 21:07:33', NULL, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2, '2008-12-16 21:07:33')[0m
  [4;36;1mLocation::Version Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.4ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES(NULL, NULL, NULL, '2008-12-16 21:07:33', NULL, 15000, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mLocation Load (0.4ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 1) [0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
Google geocoding. Address: 100 Spear St, San Francisco, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Spear St, San Francisco, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Spear St, San Francisco, CA 94105, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Spear St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94105</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-122.3940000,37.7921500,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPhoneNumber Create (0.2ms)[0m   [0;1mINSERT INTO `ci_phone_numbers` (`for_entity_id`, `updated_at`, `number`, `version`, `created_at`) VALUES(NULL, '2008-12-16 21:07:33', '585-275-4822', 1, '2008-12-16 21:07:33')[0m
  [4;35;1mPhoneNumber::Version Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `ci_phone_number_versions`[0m
  [4;36;1mPhoneNumber::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_phone_number_versions` (`phone_number_id`, `for_entity_id`, `updated_at`, `number`, `version`, `phone_number_version_id`) VALUES(15000, NULL, '2008-12-16 21:07:34', '585-275-4822', 1, NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUrl Create (0.2ms)[0m   [0mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-16 21:07:34', 1, 'http://craigharman.net/', '2008-12-16 21:07:34')[0m
  [4;36;1mUrl::Version Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `ci_url_versions`[0m
  [4;35;1mUrl::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15000, NULL, '2008-12-16 21:07:34', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUrl Create (0.1ms)[0m   [0;1mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-16 21:07:34', 1, 'http://craigharman.net/', '2008-12-16 21:07:34')[0m
  [4;35;1mUrl::Version Create (0.1ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15001, NULL, '2008-12-16 21:07:34', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUrl Load (0.2ms)[0m   [0mSELECT * FROM `ci_urls` WHERE (`ci_urls`.`url_id` = 15001) [0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;36;1mUser Load (39.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 21:07:35', `state` = 'active', `updated_at` = '2008-12-16 21:07:35' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:07:35', `updated_at` = '2008-12-16 21:07:35' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '31a53bd1c3f5fc3088fa5a7241af16d5ae2355ea', `updated_at` = '2008-12-16 21:07:35' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 21:07:35' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('521f75013c0f838a199aaba0c93e7b486b88964d', NULL, NULL, '2008-12-16 21:07:35', 'e817d8e6d6d30ac0c00d50773a1d845206d34102', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 21:07:35')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('1cf1ba094ad85e6d14d6741ab281b9a254e89e9e', NULL, NULL, '2008-12-16 21:07:35', 'd768f173aef675d28e70464e26e5e908b1fc1e76', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 21:07:35')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 21:07:35', `state` = 'deleted', `updated_at` = '2008-12-16 21:07:35' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('46e5afec093e21db0053fe5d609caf9479b3cd6e', NULL, NULL, '2008-12-16 21:07:35', '9e5c4bda13e0def7f073e54a5df9f548ce2c572a', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 21:07:35')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15003) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 21:07:35' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:07:35', `updated_at` = '2008-12-16 21:07:35' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 21:07:35' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '90fda62ec8acf029cb82849189ca422121d2f2a1', `updated_at` = '2008-12-16 21:07:35' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 21:07:35' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:07:36', `remember_token` = 'b3839418016118978c4f506fbc5613d46c97cbe0', `updated_at` = '2008-12-16 21:07:36' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.7ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 21:07:36', `remember_token` = '5489231994501d874d493323d37a0b081f763399', `updated_at` = '2008-12-16 21:07:36' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 21:07:36', `remember_token` = '5489231994501d874d493323d37a0b081f763399', `updated_at` = '2008-12-16 21:07:36' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 21:07:36' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:07:36', `updated_at` = '2008-12-16 21:07:36' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:07:36', `remember_token` = 'b3839418016118978c4f506fbc5613d46c97cbe0', `updated_at` = '2008-12-16 21:07:36' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 21:07:36' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:07:36', `remember_token` = 'b3839418016118978c4f506fbc5613d46c97cbe0', `updated_at` = '2008-12-16 21:07:36' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 21:07:36' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 21:07:37' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-16 21:07:37', `state` = 'active', `updated_at` = '2008-12-16 21:07:37' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (49.6ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 21:07:37' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = 'foo-bar' [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '26289ef84c2416b9057bd179b8fb22d805b2e6af', `updated_at` = '2008-12-16 21:07:37' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 21:07:37' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 21:07:37' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = NULL [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-16 21:07:37' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 21:07:37' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 16:07:39) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 42) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:07:39', `remember_token` = 'a65e4b29c5502c61acabf3c381f99dbd163b817f', `updated_at` = '2008-12-16 21:07:39' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 16:07:39) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (1.4ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 70) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:07:39', `remember_token` = 'a65e4b29c5502c61acabf3c381f99dbd163b817f', `updated_at` = '2008-12-16 21:07:39' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 21:02:39', `updated_at` = '2008-12-16 21:07:39' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 16:07:39) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'a65e4b29c5502c61acabf3c381f99dbd163b817f') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 25) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:07:39) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:07:39', `updated_at` = '2008-12-16 21:07:39' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 69) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:07:39) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:07:39', `updated_at` = '2008-12-16 21:07:39' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 31) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:07:39', `remember_token` = 'a65e4b29c5502c61acabf3c381f99dbd163b817f', `updated_at` = '2008-12-16 21:07:39' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 16:07:39) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'a65e4b29c5502c61acabf3c381f99dbd163b817f') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:07:39', `updated_at` = '2008-12-16 21:07:39' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=a65e4b29c5502c61acabf3c381f99dbd163b817f; path=/; expires=Tue, 30 Dec 2008 21:07:39 GMT
Redirected to /
Completed in 3ms (DB: 70) | 302 Found [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 16:07:39) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 29) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:07:39) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 75) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:07:39) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'fb7eaae59ebc4bd197e3d66d16da5eb70502bf2c', `updated_at` = '2008-12-16 21:07:39' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:07:39 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/fb7eaae59ebc4bd197e3d66d16da5eb70502bf2c

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 77ms (DB: 26) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:07:40) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 4ms (DB: 28) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:07:40) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 4ms (DB: 32) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:07:40) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 90) | 302 Found [http://test.host/session?email=&password=]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:07:40) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 29) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:07:40) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"0", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:07:40', `updated_at` = '2008-12-16 21:07:40' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 77) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:07:40) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:07:40', `updated_at` = '2008-12-16 21:07:40' WHERE `user_id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 30) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:07:40) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"1", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:07:40', `updated_at` = '2008-12-16 21:07:40' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 21:07:40', `remember_token` = '2e164a361fe0a443d61337190028b6d31dd6958d', `updated_at` = '2008-12-16 21:07:40' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=2e164a361fe0a443d61337190028b6d31dd6958d; path=/; expires=Tue, 30 Dec 2008 21:07:40 GMT
Redirected to /
Completed in 7ms (DB: 32) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 16:07:40) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'b0c59ec30dae648fded7ee3f0f7293c51c7bcff1', `updated_at` = '2008-12-16 21:07:40' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:07:40 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/b0c59ec30dae648fded7ee3f0f7293c51c7bcff1

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 71) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '946213eb33ce79121ddd29fd31b867d1a9984ea9', `updated_at` = '2008-12-16 21:07:40' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 21:07:40' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 16:07:40) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"946213eb33ce79121ddd29fd31b867d1a9984ea9"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '946213eb33ce79121ddd29fd31b867d1a9984ea9') LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-16 21:07:40', `state` = 'active', `updated_at` = '2008-12-16 21:07:40' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 6ms (DB: 25) | 302 Found [http://test.host/activate/946213eb33ce79121ddd29fd31b867d1a9984ea9?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 16:07:40) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 72) | 200 OK [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 16:07:41) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"new_email@foo.com"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'new_email@foo.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Create (0.1ms)[0m   [0mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-16 21:07:41', 1, 'first_name', 'last_name', '2008-12-16 21:07:41')[0m
  [4;36;1mPerson::Version Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `ci_person_versions`[0m
  [4;35;1mPerson::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 21:07:41', NULL, 1, 'first_name', 15001, 'last_name')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15001) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mEmail Load (0.3ms)[0m   [0mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mEmail Create (0.2ms)[0m   [0;1mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-16 21:07:41', 1, 1, 'new_email@foo.com', '2008-12-16 21:07:41')[0m
  [4;35;1mEmail::Version Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;36;1mEmail::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15001, NULL, '2008-12-16 21:07:41', 1, NULL, 1, 'new_email@foo.com')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: New Address 1, New Address 2
City: New City
State: 
Zip: 12345
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>New Address 1, New Address 2, New City, 12345, CA</name>
  <Status>
    <code>602</code>
    <request>geocode</request>
  </Status>
</Response></kml>
Caught an error during Google geocoding call: can't convert GeoKit::GeoLoc into String
  [4;35;1mLocation Create (0.3ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES('new_region', '12345', '2008-12-16 21:07:41', NULL, NULL, 1, 'new_address_1', 'new_address_2', NULL, 'new_city', NULL, 2, '2008-12-16 21:07:41')[0m
  [4;36;1mLocation::Version Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.4ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES('new_region', NULL, '12345', '2008-12-16 21:07:41', NULL, 15001, NULL, 1, 'new_address_1', 'new_address_2', NULL, 'new_city', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Create (0.1ms)[0m   [0;1mINSERT INTO `ci_user_account_requests` (`ci_notes`, `email_id`, `updated_at`, `location_id`, `person_id`, `state`, `created_at`) VALUES(NULL, 15001, '2008-12-16 21:07:41', 15001, 15001, 'new', '2008-12-16 21:07:41')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:07:41 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Account request for first_name last_name (new_email@foo.com)
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

ACCOUNT REQUEST
---------------

NAME:   first_name last_name
EMAIL:  new_email@foo.com

To approve or deny this account request, please go to:

  https://www.contactimprov.net/admin/users/list_account_requests
Redirected to actionaccount_requested
Completed in 227ms (DB: 33) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` ORDER BY ci_user_account_requests.user_account_request_id DESC LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15001) [0m
  [4;36;1mEmail Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (`ci_emails`.`email_id` = 15001) [0m
  [4;35;1mLocation Load (0.1ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 15001) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:07:41) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '008abc26218c943757d8f7650c2e14f95f3616f0', `updated_at` = '2008-12-16 21:07:41' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:07:41 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/008abc26218c943757d8f7650c2e14f95f3616f0

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 8ms (DB: 76) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 16:07:41) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-16 21:07:41' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:07:41 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 2, DB: 23) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 16:07:41) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 21:07:41' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 85) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:07:41', `updated_at` = '2008-12-16 21:07:41' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 16:07:41) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"newfirst", "last_name"=>"newlast"}}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max(`ci_person_versions`.version) AS max_version FROM `ci_person_versions` WHERE (`ci_person_versions`.person_id = 1) [0m
  [4;36;1mPerson Update (0.2ms)[0m   [0;1mUPDATE `ci_people` SET `version` = 1, `last_name` = 'newlast', `first_name` = 'newfirst', `updated_at` = '2008-12-16 21:07:41' WHERE `person_id` = 1[0m
  [4;35;1mPerson::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 21:07:41', NULL, 1, 'newfirst', 1, 'newlast')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 10ms (DB: 32) | 302 Found [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=newfirst&user%5Bperson%5D%5Blast_name%5D=newlast]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'd8d22b6c306eed97d1f69b8799b597c1baae0fde', `updated_at` = '2008-12-16 21:07:41' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 16:07:41) [GET]
  Parameters: {"password_reset_code"=>"d8d22b6c306eed97d1f69b8799b597c1baae0fde"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'd8d22b6c306eed97d1f69b8799b597c1baae0fde') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 2, DB: 81) | 200 OK [http://test.host/reset_password/d8d22b6c306eed97d1f69b8799b597c1baae0fde]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '10cb394effb535db4f0f8a165c35c863bad1c6e8', `updated_at` = '2008-12-16 21:07:41' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 21:07:41' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 16:07:41) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"10cb394effb535db4f0f8a165c35c863bad1c6e8"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '10cb394effb535db4f0f8a165c35c863bad1c6e8') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 30) | 200 OK [http://test.host/activate/10cb394effb535db4f0f8a165c35c863bad1c6e8?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 16:07:42) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 82) | 302 Found [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 16:07:42) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>""}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/_email (0.4ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 4, DB: 28) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 16:07:42) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"new_email@foo.com"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>""}}
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 29) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:07:42) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:07:42 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 84) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:07:42) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '6969c9da14b512b555f20e67090aa4a2f71ff1c8', `updated_at` = '2008-12-16 21:07:42' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:07:42 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/6969c9da14b512b555f20e67090aa4a2f71ff1c8

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 10ms (View: 2, DB: 25) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:07:42) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 78) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:07:42) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 24) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 16:07:42) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 80) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 16:07:42) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 32) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 16:07:43) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 76) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 16:07:43) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 23) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (53.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 16:07:43) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 75) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 16:07:43) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 22) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 16:07:43) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"", "last_name"=>""}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering user/edit
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 27) | 200 OK [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 16:07:43) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 80) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 16:07:43) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 27) | 200 OK [http://test.host/reset_password/]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '5523f29bda672134c1056b7511c5ed105df72ad4', `updated_at` = '2008-12-16 21:07:43' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 16:07:43) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"5523f29bda672134c1056b7511c5ed105df72ad4"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '5523f29bda672134c1056b7511c5ed105df72ad4') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 76) | 200 OK [http://test.host/reset_password/5523f29bda672134c1056b7511c5ed105df72ad4?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 16:07:43) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 27) | 200 OK [http://test.host/activate/randomgarbage]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '5865838255c095e16fef2b1720dc131c14cb9d40', `updated_at` = '2008-12-16 21:07:43' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 16:07:43) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"5865838255c095e16fef2b1720dc131c14cb9d40"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '5865838255c095e16fef2b1720dc131c14cb9d40') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-16 21:07:44' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 79) | 200 OK [http://test.host/reset_password/5865838255c095e16fef2b1720dc131c14cb9d40?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 21:07:44', `updated_at` = '2008-12-16 21:07:44' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 16:07:44) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"quentin@contactimprov.org"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '90c54b6adc43278ada9bc631ad84700d32fbdd61', `updated_at` = '2008-12-16 21:07:44' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:07:44 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/90c54b6adc43278ada9bc631ad84700d32fbdd61

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 10ms (DB: 26) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=quentin%40contactimprov.org&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 16:07:44) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"pending_user@contactimprov.org"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'pending_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'pending_user@contactimprov.org' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '207f20ea01489632e7c24e2d0558126dc73bc2cf', `updated_at` = '2008-12-16 21:07:44' WHERE `user_id` = 8[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 16:07:44 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/207f20ea01489632e7c24e2d0558126dc73bc2cf

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  pending_user@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 13ms (View: 3, DB: 89) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=pending_user%40contactimprov.org&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '887024315221f14e7f27bf9c4ff565473807a75e', `updated_at` = '2008-12-16 21:07:44' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 21:07:44' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 16:07:44) [GET]
  Parameters: {"activation_code"=>"887024315221f14e7f27bf9c4ff565473807a75e"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '887024315221f14e7f27bf9c4ff565473807a75e') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 31) | 200 OK [http://test.host/activate/887024315221f14e7f27bf9c4ff565473807a75e]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCompany Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `ci_companies`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mCompany Create (0.3ms)[0m   [0;1mINSERT INTO `ci_companies` (`name`, `updated_at`, `version`, `created_at`) VALUES('Foo', '2008-12-16 22:30:03', NULL, '2008-12-16 22:30:03')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEmail Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mEmail Create (0.2ms)[0m   [0mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-16 22:30:04', 1, 1, 'charman@acm.org', '2008-12-16 22:30:04')[0m
  [4;36;1mEmail::Version Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;35;1mEmail::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15000, NULL, '2008-12-16 22:30:04', 1, NULL, 1, 'charman@acm.org')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: 
City: City Name
State: 
Zip: 
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>City Name, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Holy Name (Es), King, ON, Canada</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>CA</CountryNameCode><CountryName>Canada</CountryName><AdministrativeArea><AdministrativeAreaName>ON</AdministrativeAreaName><Locality><LocalityName>King</LocalityName><PostalCode><PostalCodeNumber>L7B</PostalCodeNumber><AddressLine>Holy Name (Es)</AddressLine></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-79.5391900,43.9247060,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mLocation Create (0.3ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES(NULL, NULL, '2008-12-16 22:30:04', NULL, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2, '2008-12-16 22:30:04')[0m
  [4;36;1mLocation::Version Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES(NULL, NULL, NULL, '2008-12-16 22:30:04', NULL, 15000, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mLocation Load (40.3ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 1) [0m
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
Google geocoding. Address: 100 Spear St, San Francisco, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Spear St, San Francisco, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Spear St, San Francisco, CA 94105, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Spear St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94105</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-122.3940000,37.7921500,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPhoneNumber Create (0.2ms)[0m   [0;1mINSERT INTO `ci_phone_numbers` (`for_entity_id`, `updated_at`, `number`, `version`, `created_at`) VALUES(NULL, '2008-12-16 22:30:05', '585-275-4822', 1, '2008-12-16 22:30:05')[0m
  [4;35;1mPhoneNumber::Version Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `ci_phone_number_versions`[0m
  [4;36;1mPhoneNumber::Version Create (0.3ms)[0m   [0;1mINSERT INTO `ci_phone_number_versions` (`phone_number_id`, `for_entity_id`, `updated_at`, `number`, `version`, `phone_number_version_id`) VALUES(15000, NULL, '2008-12-16 22:30:05', '585-275-4822', 1, NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mStudio Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `ci_studios`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStudio Create (0.2ms)[0m   [0;1mINSERT INTO `ci_studios` (`name`, `updated_at`, `version`, `created_at`) VALUES('Foo', '2008-12-16 22:30:05', 1, '2008-12-16 22:30:05')[0m
  [4;35;1mStudio::Version Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `ci_studio_versions`[0m
  [4;36;1mStudio::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_studio_versions` (`name`, `updated_at`, `studio_version_id`, `studio_id`, `version`) VALUES('Foo', '2008-12-16 22:30:05', NULL, 15000, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUrl Create (0.2ms)[0m   [0mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-16 22:30:06', 1, 'http://craigharman.net/', '2008-12-16 22:30:06')[0m
  [4;36;1mUrl::Version Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_url_versions`[0m
  [4;35;1mUrl::Version Create (0.4ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15000, NULL, '2008-12-16 22:30:06', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUrl Create (0.2ms)[0m   [0;1mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-16 22:30:06', 1, 'http://craigharman.net/', '2008-12-16 22:30:06')[0m
  [4;35;1mUrl::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15001, NULL, '2008-12-16 22:30:06', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUrl Load (0.2ms)[0m   [0mSELECT * FROM `ci_urls` WHERE (`ci_urls`.`url_id` = 15001) [0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 22:30:06', `state` = 'active', `updated_at` = '2008-12-16 22:30:06' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:30:06', `updated_at` = '2008-12-16 22:30:06' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'b742e28d2322c349bb993b9e2f9f810773d82f77', `updated_at` = '2008-12-16 22:30:07' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 22:30:07' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('36f04f88c162d4cd25def6323dd222917516e61a', NULL, NULL, '2008-12-16 22:30:07', '3845974df6ace2aa79aebb4645566b031f943293', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 22:30:07')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('2d6d3e110129fe378d0c5f5ca53e90d6a52a9216', NULL, NULL, '2008-12-16 22:30:07', '462f52607fd4be38b4e35eda7b0a04d54fdca7c0', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 22:30:07')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 22:30:07', `state` = 'deleted', `updated_at` = '2008-12-16 22:30:07' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('53ace5096f9a9d864d8ec18186ed329138952cee', NULL, NULL, '2008-12-16 22:30:07', '3b4121511928eaa267069320a5bfd5ffc9e7d64a', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 22:30:07')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15003) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 22:30:07' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:30:07', `updated_at` = '2008-12-16 22:30:07' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 22:30:07' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'f1772e82625e80c8dc096dc59845c9176f81eb9d', `updated_at` = '2008-12-16 22:30:07' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 22:30:07' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 22:30:07', `remember_token` = '32556c17de88c1d62f150c602a9ca663dad58cad', `updated_at` = '2008-12-16 22:30:07' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 22:30:07', `remember_token` = '6e1a87ca9ddbdf953a5de6a6b72beb1602390375', `updated_at` = '2008-12-16 22:30:07' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 22:30:08', `remember_token` = '10218514908566837f74ebd9e1c54fb512d508a2', `updated_at` = '2008-12-16 22:30:08' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 22:30:08' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:30:08', `updated_at` = '2008-12-16 22:30:08' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 22:30:08', `remember_token` = '5593f0a2132da5128f59078b0abf9612db766bd8', `updated_at` = '2008-12-16 22:30:08' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 22:30:08' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (50.6ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 22:30:08', `remember_token` = '5593f0a2132da5128f59078b0abf9612db766bd8', `updated_at` = '2008-12-16 22:30:08' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 22:30:08' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 22:30:08' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-16 22:30:08', `state` = 'active', `updated_at` = '2008-12-16 22:30:08' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 22:30:09' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = 'foo-bar' [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'c37e75b316a1a078effa87927d6de7190d876172', `updated_at` = '2008-12-16 22:30:09' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 22:30:09' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 22:30:09' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = NULL [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-16 22:30:09' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 22:30:09' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 17:30:10) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 52) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 22:30:11', `remember_token` = '3f9ba8fa55446da981565b259edb15831334b3a0', `updated_at` = '2008-12-16 22:30:11' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 17:30:11) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (1.4ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 66) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 22:30:11', `remember_token` = '3f9ba8fa55446da981565b259edb15831334b3a0', `updated_at` = '2008-12-16 22:30:11' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 22:25:11', `updated_at` = '2008-12-16 22:30:11' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 17:30:11) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '3f9ba8fa55446da981565b259edb15831334b3a0') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 32) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:30:11) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:30:11', `updated_at` = '2008-12-16 22:30:11' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 68) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:30:11) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:30:11', `updated_at` = '2008-12-16 22:30:11' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 30) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 22:30:11', `remember_token` = '3f9ba8fa55446da981565b259edb15831334b3a0', `updated_at` = '2008-12-16 22:30:11' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 17:30:11) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '3f9ba8fa55446da981565b259edb15831334b3a0') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 22:30:11', `updated_at` = '2008-12-16 22:30:11' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=3f9ba8fa55446da981565b259edb15831334b3a0; path=/; expires=Tue, 30 Dec 2008 22:30:11 GMT
Redirected to /
Completed in 3ms (DB: 68) | 302 Found [http://test.host/session/new]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 17:30:11) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 31) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:30:11) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 70) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:30:11) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'cddceb9084b992dba3a832be89c7cce83b9884a4', `updated_at` = '2008-12-16 22:30:11' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:30:11 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/cddceb9084b992dba3a832be89c7cce83b9884a4

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 76ms (DB: 26) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:30:11) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 26) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:30:12) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 32) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:30:12) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 67) | 302 Found [http://test.host/session?email=&password=]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:30:12) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 22) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:30:12) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"0", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:30:12', `updated_at` = '2008-12-16 22:30:12' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 74) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:30:12) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:30:12', `updated_at` = '2008-12-16 22:30:12' WHERE `user_id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 23) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:30:12) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"1", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:30:12', `updated_at` = '2008-12-16 22:30:12' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 22:30:12', `remember_token` = 'b0ff669da3d410227a18d13fdd8b5dba32cf3ce6', `updated_at` = '2008-12-16 22:30:12' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=b0ff669da3d410227a18d13fdd8b5dba32cf3ce6; path=/; expires=Tue, 30 Dec 2008 22:30:12 GMT
Redirected to /
Completed in 6ms (DB: 25) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:30:12) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '7973cb0d8162a8c9d0248dad1c9ecf46400486c4', `updated_at` = '2008-12-16 22:30:12' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:30:12 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/7973cb0d8162a8c9d0248dad1c9ecf46400486c4

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 70) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'ea66900ca525a2589130a8b6c5b9de64d0600195', `updated_at` = '2008-12-16 22:30:12' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 22:30:12' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 17:30:12) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"ea66900ca525a2589130a8b6c5b9de64d0600195"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'ea66900ca525a2589130a8b6c5b9de64d0600195') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-16 22:30:12', `state` = 'active', `updated_at` = '2008-12-16 22:30:12' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 6ms (DB: 23) | 302 Found [http://test.host/activate/ea66900ca525a2589130a8b6c5b9de64d0600195?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 17:30:12) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 68) | 200 OK [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 17:30:12) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"new_email@foo.com"}}
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'new_email@foo.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Create (0.1ms)[0m   [0mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-16 22:30:12', 1, 'first_name', 'last_name', '2008-12-16 22:30:12')[0m
  [4;36;1mPerson::Version Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_person_versions`[0m
  [4;35;1mPerson::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 22:30:12', NULL, 1, 'first_name', 15001, 'last_name')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15001) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mEmail Load (0.3ms)[0m   [0mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mEmail Create (0.2ms)[0m   [0;1mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-16 22:30:12', 1, 1, 'new_email@foo.com', '2008-12-16 22:30:12')[0m
  [4;35;1mEmail::Version Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;36;1mEmail::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15001, NULL, '2008-12-16 22:30:12', 1, NULL, 1, 'new_email@foo.com')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: New Address 1, New Address 2
City: New City
State: 
Zip: 12345
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>New Address 1, New Address 2, New City, 12345, CA</name>
  <Status>
    <code>602</code>
    <request>geocode</request>
  </Status>
</Response></kml>
Caught an error during Google geocoding call: can't convert GeoKit::GeoLoc into String
  [4;35;1mLocation Create (0.4ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES('new_region', '12345', '2008-12-16 22:30:13', NULL, NULL, 1, 'new_address_1', 'new_address_2', NULL, 'new_city', NULL, 2, '2008-12-16 22:30:13')[0m
  [4;36;1mLocation::Version Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.4ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES('new_region', NULL, '12345', '2008-12-16 22:30:13', NULL, 15001, NULL, 1, 'new_address_1', 'new_address_2', NULL, 'new_city', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Create (0.2ms)[0m   [0;1mINSERT INTO `ci_user_account_requests` (`ci_notes`, `email_id`, `updated_at`, `location_id`, `person_id`, `state`, `created_at`) VALUES(NULL, 15001, '2008-12-16 22:30:13', 15001, 15001, 'new', '2008-12-16 22:30:13')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:30:13 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Account request for first_name last_name (new_email@foo.com)
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

ACCOUNT REQUEST
---------------

NAME:   first_name last_name
EMAIL:  new_email@foo.com

To approve or deny this account request, please go to:

  https://www.contactimprov.net/admin/users/list_account_requests
Redirected to actionaccount_requested
Completed in 261ms (DB: 30) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;36;1mUserAccountRequest Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` ORDER BY ci_user_account_requests.user_account_request_id DESC LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15001) [0m
  [4;36;1mEmail Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (`ci_emails`.`email_id` = 15001) [0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 15001) [0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 17:30:13) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '87f74087f70667c52fa933be0c0ea719fc19db2a', `updated_at` = '2008-12-16 22:30:13' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:30:13 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/87f74087f70667c52fa933be0c0ea719fc19db2a

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 9ms (DB: 77) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 17:30:13) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-16 22:30:13' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:30:13 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 2, DB: 25) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 17:30:13) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 22:30:13' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 9ms (View: 2, DB: 86) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:30:13', `updated_at` = '2008-12-16 22:30:13' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 17:30:13) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"newfirst", "last_name"=>"newlast"}}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max(`ci_person_versions`.version) AS max_version FROM `ci_person_versions` WHERE (`ci_person_versions`.person_id = 1) [0m
  [4;36;1mPerson Update (0.3ms)[0m   [0;1mUPDATE `ci_people` SET `version` = 1, `last_name` = 'newlast', `first_name` = 'newfirst', `updated_at` = '2008-12-16 22:30:13' WHERE `person_id` = 1[0m
  [4;35;1mPerson::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 22:30:13', NULL, 1, 'newfirst', 1, 'newlast')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 11ms (DB: 32) | 302 Found [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=newfirst&user%5Bperson%5D%5Blast_name%5D=newlast]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '0d81fb4d1ae3888cbfc24bba103495e9cb87b97d', `updated_at` = '2008-12-16 22:30:13' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 17:30:13) [GET]
  Parameters: {"password_reset_code"=>"0d81fb4d1ae3888cbfc24bba103495e9cb87b97d"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '0d81fb4d1ae3888cbfc24bba103495e9cb87b97d') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 77) | 200 OK [http://test.host/reset_password/0d81fb4d1ae3888cbfc24bba103495e9cb87b97d]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'ebbe6f5d3380fd92f7dc0d127d19763b19e146b6', `updated_at` = '2008-12-16 22:30:13' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 22:30:13' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 17:30:13) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"ebbe6f5d3380fd92f7dc0d127d19763b19e146b6"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'ebbe6f5d3380fd92f7dc0d127d19763b19e146b6') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 9ms (View: 3, DB: 32) | 200 OK [http://test.host/activate/ebbe6f5d3380fd92f7dc0d127d19763b19e146b6?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 17:30:13) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 77) | 302 Found [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 17:30:14) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>""}}
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/_email (0.4ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 4, DB: 30) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 17:30:14) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>""}, "uar_email"=>{"address"=>"new_email@foo.com"}}
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Rendering user/request_account
Rendered shared/_header (0.7ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 28) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 17:30:14) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:30:14 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 79) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 17:30:14) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'fa7c4c167a809812d903fd17a3f657ff9a64d387', `updated_at` = '2008-12-16 22:30:14' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:30:14 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/fa7c4c167a809812d903fd17a3f657ff9a64d387

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 10ms (View: 2, DB: 28) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 17:30:14) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 84) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 17:30:14) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 28) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 17:30:14) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 82) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 17:30:14) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 2, DB: 32) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 17:30:14) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 78) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 17:30:15) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 24) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (53.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 17:30:15) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 76) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 17:30:15) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 25) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 17:30:15) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"", "last_name"=>""}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering user/edit
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 25) | 200 OK [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 17:30:15) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 79) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 17:30:15) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 22) | 200 OK [http://test.host/reset_password/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'eaea4e32c51764f271289324acda9cc659fee5ab', `updated_at` = '2008-12-16 22:30:15' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 17:30:15) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"eaea4e32c51764f271289324acda9cc659fee5ab"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'eaea4e32c51764f271289324acda9cc659fee5ab') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 77) | 200 OK [http://test.host/reset_password/eaea4e32c51764f271289324acda9cc659fee5ab?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 17:30:15) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 24) | 200 OK [http://test.host/activate/randomgarbage]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'b9342ac04058ae75ea133ee0f76b626567b580c5', `updated_at` = '2008-12-16 22:30:15' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 17:30:15) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"b9342ac04058ae75ea133ee0f76b626567b580c5"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'b9342ac04058ae75ea133ee0f76b626567b580c5') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-16 22:30:15' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 9ms (View: 2, DB: 83) | 200 OK [http://test.host/reset_password/b9342ac04058ae75ea133ee0f76b626567b580c5?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:30:15', `updated_at` = '2008-12-16 22:30:15' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 17:30:15) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"quentin@contactimprov.org"}}
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '387192684303920e650fcaff2b4c34fd4bcae7f2', `updated_at` = '2008-12-16 22:30:15' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:30:15 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/387192684303920e650fcaff2b4c34fd4bcae7f2

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 10ms (DB: 28) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=quentin%40contactimprov.org&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 17:30:16) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"pending_user@contactimprov.org"}}
  [4;35;1mCountryName Load (0.4ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'pending_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'pending_user@contactimprov.org' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'd42c1485c596021a0960f1e9b8b596309e8b7614', `updated_at` = '2008-12-16 22:30:16' WHERE `user_id` = 8[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:30:16 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/d42c1485c596021a0960f1e9b8b596309e8b7614

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  pending_user@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 13ms (View: 3, DB: 89) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=pending_user%40contactimprov.org&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'df5fde76450a2529624a736e30b9cdfd8c6a3b71', `updated_at` = '2008-12-16 22:30:16' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 22:30:16' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 17:30:16) [GET]
  Parameters: {"activation_code"=>"df5fde76450a2529624a736e30b9cdfd8c6a3b71"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'df5fde76450a2529624a736e30b9cdfd8c6a3b71') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 32) | 200 OK [http://test.host/activate/df5fde76450a2529624a736e30b9cdfd8c6a3b71]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCompany Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_companies`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCompany Create (0.2ms)[0m   [0;1mINSERT INTO `ci_companies` (`name`, `updated_at`, `version`, `created_at`) VALUES('Foo', '2008-12-16 22:31:00', 1, '2008-12-16 22:31:00')[0m
  [4;35;1mCompany::Version Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `ci_company_versions`[0m
  [4;36;1mCompany::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_company_versions` (`name`, `updated_at`, `company_version_id`, `version`, `company_id`) VALUES('Foo', '2008-12-16 22:31:00', NULL, 1, 15000)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEmail Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mEmail Create (0.2ms)[0m   [0mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-16 22:31:00', 1, 1, 'charman@acm.org', '2008-12-16 22:31:00')[0m
  [4;36;1mEmail::Version Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;35;1mEmail::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15000, NULL, '2008-12-16 22:31:00', 1, NULL, 1, 'charman@acm.org')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: 
City: City Name
State: 
Zip: 
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>City Name, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Holy Name (Es), King, ON, Canada</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>CA</CountryNameCode><CountryName>Canada</CountryName><AdministrativeArea><AdministrativeAreaName>ON</AdministrativeAreaName><Locality><LocalityName>King</LocalityName><PostalCode><PostalCodeNumber>L7B</PostalCodeNumber><AddressLine>Holy Name (Es)</AddressLine></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-79.5391900,43.9247060,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mLocation Create (0.3ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES(NULL, NULL, '2008-12-16 22:31:01', NULL, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2, '2008-12-16 22:31:01')[0m
  [4;36;1mLocation::Version Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES(NULL, NULL, NULL, '2008-12-16 22:31:01', NULL, 15000, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 1) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
Google geocoding. Address: 100 Spear St, San Francisco, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Spear St, San Francisco, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Spear St, San Francisco, CA 94105, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Spear St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94105</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-122.3940000,37.7921500,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPhoneNumber Create (0.2ms)[0m   [0;1mINSERT INTO `ci_phone_numbers` (`for_entity_id`, `updated_at`, `number`, `version`, `created_at`) VALUES(NULL, '2008-12-16 22:31:02', '585-275-4822', 1, '2008-12-16 22:31:02')[0m
  [4;35;1mPhoneNumber::Version Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `ci_phone_number_versions`[0m
  [4;36;1mPhoneNumber::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_phone_number_versions` (`phone_number_id`, `for_entity_id`, `updated_at`, `number`, `version`, `phone_number_version_id`) VALUES(15000, NULL, '2008-12-16 22:31:02', '585-275-4822', 1, NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mStudio Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `ci_studios`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStudio Create (0.2ms)[0m   [0;1mINSERT INTO `ci_studios` (`name`, `updated_at`, `version`, `created_at`) VALUES('Foo', '2008-12-16 22:31:02', 1, '2008-12-16 22:31:02')[0m
  [4;35;1mStudio::Version Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `ci_studio_versions`[0m
  [4;36;1mStudio::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_studio_versions` (`name`, `updated_at`, `studio_version_id`, `studio_id`, `version`) VALUES('Foo', '2008-12-16 22:31:02', NULL, 15000, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUrl Create (0.2ms)[0m   [0mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-16 22:31:02', 1, 'http://craigharman.net/', '2008-12-16 22:31:02')[0m
  [4;36;1mUrl::Version Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_url_versions`[0m
  [4;35;1mUrl::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15000, NULL, '2008-12-16 22:31:02', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUrl Create (0.2ms)[0m   [0;1mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-16 22:31:02', 1, 'http://craigharman.net/', '2008-12-16 22:31:02')[0m
  [4;35;1mUrl::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15001, NULL, '2008-12-16 22:31:02', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUrl Load (0.2ms)[0m   [0mSELECT * FROM `ci_urls` WHERE (`ci_urls`.`url_id` = 15001) [0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 22:31:03', `state` = 'active', `updated_at` = '2008-12-16 22:31:03' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:31:03', `updated_at` = '2008-12-16 22:31:03' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '6bd9d7e83730550093f94a290b19a71f6710bd6d', `updated_at` = '2008-12-16 22:31:03' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 22:31:03' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('d28d2a75cf9bea197069a28e2ef82d6ba3bcf184', NULL, NULL, '2008-12-16 22:31:03', '4a4d1bd5d372fdd3d6c6ebc33f456479154157a0', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 22:31:03')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('9356fb6779f300bf531179beda0d629cd2104213', NULL, NULL, '2008-12-16 22:31:03', '7df8e7eae7ddcc99111e62db3c5c98f713895aff', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 22:31:03')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 22:31:04', `state` = 'deleted', `updated_at` = '2008-12-16 22:31:04' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('0abf2d015eab11cc045d9252ed3d7d0af4f7d775', NULL, NULL, '2008-12-16 22:31:04', '25299013673100cc15746366036c3e2ecdb9615c', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 22:31:04')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15003) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 22:31:04' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:31:04', `updated_at` = '2008-12-16 22:31:04' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 22:31:04' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '5687e26d50e6cbf30094ee76ef09293c594316e4', `updated_at` = '2008-12-16 22:31:04' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 22:31:04' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 22:31:04', `remember_token` = 'f5807696d9bcb2a670a4433ee79aaf1e4a0e5980', `updated_at` = '2008-12-16 22:31:04' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 22:31:04', `remember_token` = 'af381cf3620bebe3b78d4c8531dd555c95020df3', `updated_at` = '2008-12-16 22:31:04' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 22:31:04', `remember_token` = 'af381cf3620bebe3b78d4c8531dd555c95020df3', `updated_at` = '2008-12-16 22:31:04' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 22:31:05' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:31:05', `updated_at` = '2008-12-16 22:31:05' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 22:31:05', `remember_token` = '487ad712ce92a5e73fca65fe27baab6314ffc996', `updated_at` = '2008-12-16 22:31:05' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 22:31:05' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (49.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 22:31:05', `remember_token` = '487ad712ce92a5e73fca65fe27baab6314ffc996', `updated_at` = '2008-12-16 22:31:05' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 22:31:05' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 22:31:05' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-16 22:31:05', `state` = 'active', `updated_at` = '2008-12-16 22:31:05' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 22:31:05' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'foo-bar', `activated_at` = NULL [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '206385eb277124f9d38da7b3123ffa8a11d1bd0e', `updated_at` = '2008-12-16 22:31:05' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 22:31:05' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 22:31:05' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = NULL, `activated_at` = NULL [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-16 22:31:05' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 22:31:05' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 17:31:07) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 46) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 22:31:07', `remember_token` = 'e23988172b848435fb51b3977ac6e8cd38602dcc', `updated_at` = '2008-12-16 22:31:07' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 17:31:07) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (1.5ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 62) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 22:31:07', `remember_token` = 'e23988172b848435fb51b3977ac6e8cd38602dcc', `updated_at` = '2008-12-16 22:31:07' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 22:26:07', `updated_at` = '2008-12-16 22:31:07' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 17:31:07) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'e23988172b848435fb51b3977ac6e8cd38602dcc') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 22) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:31:07) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:31:07', `updated_at` = '2008-12-16 22:31:07' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 67) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:31:07) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:31:07', `updated_at` = '2008-12-16 22:31:07' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 8ms (DB: 28) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 22:31:08', `remember_token` = '28566bad0d665c2ee3812b04b515e0767f1e5906', `updated_at` = '2008-12-16 22:31:08' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 17:31:08) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '28566bad0d665c2ee3812b04b515e0767f1e5906') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 22:31:08', `updated_at` = '2008-12-16 22:31:08' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=28566bad0d665c2ee3812b04b515e0767f1e5906; path=/; expires=Tue, 30 Dec 2008 22:31:08 GMT
Redirected to /
Completed in 3ms (DB: 63) | 302 Found [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 17:31:08) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 29) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:31:08) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 65) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:31:08) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '17e0aecfa85d6742f5152e2d6de1931f37d1c959', `updated_at` = '2008-12-16 22:31:08' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:31:08 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/17e0aecfa85d6742f5152e2d6de1931f37d1c959

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 77ms (DB: 34) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:31:08) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 31) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:31:08) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 30) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:31:08) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 69) | 302 Found [http://test.host/session?email=&password=]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:31:08) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 34) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:31:08) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"0", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:31:08', `updated_at` = '2008-12-16 22:31:08' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 73) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:31:09) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:31:09', `updated_at` = '2008-12-16 22:31:09' WHERE `user_id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 25) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:31:09) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"1", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:31:09', `updated_at` = '2008-12-16 22:31:09' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 22:31:09', `remember_token` = '6aea77a1dbd801ec763432955d51bb6e0e49593b', `updated_at` = '2008-12-16 22:31:09' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=6aea77a1dbd801ec763432955d51bb6e0e49593b; path=/; expires=Tue, 30 Dec 2008 22:31:09 GMT
Redirected to /
Completed in 7ms (DB: 29) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:31:09) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '19af0559234641c68ca8b54edbd458f9128b9ad4', `updated_at` = '2008-12-16 22:31:09' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:31:09 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/19af0559234641c68ca8b54edbd458f9128b9ad4

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 77) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '3a16b648130fa1f2208bc0e2277830fccdac4bf1', `updated_at` = '2008-12-16 22:31:09' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 22:31:09' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 17:31:09) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"3a16b648130fa1f2208bc0e2277830fccdac4bf1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '3a16b648130fa1f2208bc0e2277830fccdac4bf1') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-16 22:31:09', `state` = 'active', `updated_at` = '2008-12-16 22:31:09' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 7ms (DB: 34) | 302 Found [http://test.host/activate/3a16b648130fa1f2208bc0e2277830fccdac4bf1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 17:31:09) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 79) | 200 OK [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 17:31:09) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"new_email@foo.com"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'new_email@foo.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Create (0.1ms)[0m   [0mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-16 22:31:09', 1, 'first_name', 'last_name', '2008-12-16 22:31:09')[0m
  [4;36;1mPerson::Version Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_person_versions`[0m
  [4;35;1mPerson::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 22:31:09', NULL, 1, 'first_name', 15001, 'last_name')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15001) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mEmail Load (0.3ms)[0m   [0mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mEmail Create (0.2ms)[0m   [0;1mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-16 22:31:09', 1, 1, 'new_email@foo.com', '2008-12-16 22:31:09')[0m
  [4;35;1mEmail::Version Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;36;1mEmail::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15001, NULL, '2008-12-16 22:31:09', 1, NULL, 1, 'new_email@foo.com')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: New Address 1, New Address 2
City: New City
State: 
Zip: 12345
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>New Address 1, New Address 2, New City, 12345, CA</name>
  <Status>
    <code>602</code>
    <request>geocode</request>
  </Status>
</Response></kml>
Caught an error during Google geocoding call: can't convert GeoKit::GeoLoc into String
  [4;35;1mLocation Create (0.3ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES('new_region', '12345', '2008-12-16 22:31:09', NULL, NULL, 1, 'new_address_1', 'new_address_2', NULL, 'new_city', NULL, 2, '2008-12-16 22:31:09')[0m
  [4;36;1mLocation::Version Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.5ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES('new_region', NULL, '12345', '2008-12-16 22:31:09', NULL, 15001, NULL, 1, 'new_address_1', 'new_address_2', NULL, 'new_city', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Create (0.3ms)[0m   [0;1mINSERT INTO `ci_user_account_requests` (`ci_notes`, `email_id`, `updated_at`, `location_id`, `person_id`, `state`, `created_at`) VALUES(NULL, 15001, '2008-12-16 22:31:09', 15001, 15001, 'new', '2008-12-16 22:31:09')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:31:09 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Account request for first_name last_name (new_email@foo.com)
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

ACCOUNT REQUEST
---------------

NAME:   first_name last_name
EMAIL:  new_email@foo.com

To approve or deny this account request, please go to:

  https://www.contactimprov.net/admin/users/list_account_requests
Redirected to actionaccount_requested
Completed in 243ms (DB: 35) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` ORDER BY ci_user_account_requests.user_account_request_id DESC LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15001) [0m
  [4;36;1mEmail Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (`ci_emails`.`email_id` = 15001) [0m
  [4;35;1mLocation Load (0.1ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 15001) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 17:31:09) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = 'e42255c7b8044e65ead2b0139724d0880446dbe8', `updated_at` = '2008-12-16 22:31:09' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:31:09 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/e42255c7b8044e65ead2b0139724d0880446dbe8

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 8ms (DB: 74) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 17:31:09) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-16 22:31:09' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:31:09 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 2, DB: 23) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 17:31:10) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 22:31:10' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 75) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:31:10', `updated_at` = '2008-12-16 22:31:10' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 17:31:10) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"newfirst", "last_name"=>"newlast"}}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT max(`ci_person_versions`.version) AS max_version FROM `ci_person_versions` WHERE (`ci_person_versions`.person_id = 1) [0m
  [4;36;1mPerson Update (0.6ms)[0m   [0;1mUPDATE `ci_people` SET `version` = 1, `last_name` = 'newlast', `first_name` = 'newfirst', `updated_at` = '2008-12-16 22:31:10' WHERE `person_id` = 1[0m
  [4;35;1mPerson::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 22:31:10', NULL, 1, 'newfirst', 1, 'newlast')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 11ms (DB: 24) | 302 Found [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=newfirst&user%5Bperson%5D%5Blast_name%5D=newlast]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '203fc84c9396b371fb911a8491328e98329d46f4', `updated_at` = '2008-12-16 22:31:10' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 17:31:10) [GET]
  Parameters: {"password_reset_code"=>"203fc84c9396b371fb911a8491328e98329d46f4"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '203fc84c9396b371fb911a8491328e98329d46f4') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 2, DB: 80) | 200 OK [http://test.host/reset_password/203fc84c9396b371fb911a8491328e98329d46f4]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '6c4fc68d477ed6f3273c4ce58fbc92ab5ef28fc3', `updated_at` = '2008-12-16 22:31:10' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 22:31:10' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 17:31:10) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"6c4fc68d477ed6f3273c4ce58fbc92ab5ef28fc3"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '6c4fc68d477ed6f3273c4ce58fbc92ab5ef28fc3') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 23) | 200 OK [http://test.host/activate/6c4fc68d477ed6f3273c4ce58fbc92ab5ef28fc3?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 17:31:10) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 90) | 302 Found [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 17:31:10) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>""}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.7ms)
Rendered shared/_email (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 4, DB: 27) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 17:31:10) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"new_email@foo.com"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>""}}
  [4;36;1mCountryName Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 28) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 17:31:10) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:31:10 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 2, DB: 84) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 17:31:10) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'b730695780f4ef646d6b1cf627f1ff1c227ce20a', `updated_at` = '2008-12-16 22:31:10' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:31:10 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/b730695780f4ef646d6b1cf627f1ff1c227ce20a

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 12ms (View: 2, DB: 30) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 17:31:11) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 78) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 17:31:11) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 29) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 17:31:11) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 74) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 17:31:11) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.5ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 30) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 17:31:11) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 89) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 17:31:11) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 3, DB: 30) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (53.8ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 17:31:11) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 83) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 17:31:11) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 2, DB: 25) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 17:31:11) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"", "last_name"=>""}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering user/edit
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 28) | 200 OK [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 17:31:12) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 93) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 17:31:12) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 23) | 200 OK [http://test.host/reset_password/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'd97d01fde4799123309ab64f8f5e873653db21af', `updated_at` = '2008-12-16 22:31:12' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 17:31:12) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"d97d01fde4799123309ab64f8f5e873653db21af"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'd97d01fde4799123309ab64f8f5e873653db21af') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 77) | 200 OK [http://test.host/reset_password/d97d01fde4799123309ab64f8f5e873653db21af?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 17:31:12) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 1, DB: 22) | 200 OK [http://test.host/activate/randomgarbage]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '1c484f12db3bea1574304a9c6e17dba45d963edb', `updated_at` = '2008-12-16 22:31:12' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 17:31:12) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"1c484f12db3bea1574304a9c6e17dba45d963edb"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '1c484f12db3bea1574304a9c6e17dba45d963edb') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-16 22:31:12' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 89) | 200 OK [http://test.host/reset_password/1c484f12db3bea1574304a9c6e17dba45d963edb?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:31:12', `updated_at` = '2008-12-16 22:31:12' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 17:31:12) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"quentin@contactimprov.org"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '8d3ee4acb5a7aa2f5b067ca124e9cce8181d9796', `updated_at` = '2008-12-16 22:31:12' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:31:12 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/8d3ee4acb5a7aa2f5b067ca124e9cce8181d9796

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 10ms (DB: 25) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=quentin%40contactimprov.org&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 17:31:12) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}, "city_name"=>"new_city"}, "uar_email"=>{"address"=>"pending_user@contactimprov.org"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'pending_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'pending_user@contactimprov.org' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '3f41728cd40a8dc342b998e58d8e49e139720a1f', `updated_at` = '2008-12-16 22:31:12' WHERE `user_id` = 8[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:31:12 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/3f41728cd40a8dc342b998e58d8e49e139720a1f

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  pending_user@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 13ms (View: 3, DB: 91) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=pending_user%40contactimprov.org&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '8f1735a5388de500938423181e81dd471beafc2c', `updated_at` = '2008-12-16 22:31:12' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 22:31:12' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 17:31:12) [GET]
  Parameters: {"activation_code"=>"8f1735a5388de500938423181e81dd471beafc2c"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '8f1735a5388de500938423181e81dd471beafc2c') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 24) | 200 OK [http://test.host/activate/8f1735a5388de500938423181e81dd471beafc2c]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCompany Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `ci_companies`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mCompany Create (0.3ms)[0m   [0;1mINSERT INTO `ci_companies` (`name`, `updated_at`, `version`, `created_at`) VALUES('Foo', '2008-12-16 22:39:22', 1, '2008-12-16 22:39:22')[0m
  [4;35;1mCompany::Version Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `ci_company_versions`[0m
  [4;36;1mCompany::Version Create (0.3ms)[0m   [0;1mINSERT INTO `ci_company_versions` (`name`, `updated_at`, `company_version_id`, `version`, `company_id`) VALUES('Foo', '2008-12-16 22:39:22', NULL, 1, 15000)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEmail Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mEmail Create (0.2ms)[0m   [0mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-16 22:39:23', 1, 1, 'charman@acm.org', '2008-12-16 22:39:23')[0m
  [4;36;1mEmail::Version Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;35;1mEmail::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15000, NULL, '2008-12-16 22:39:23', 1, NULL, 1, 'charman@acm.org')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: 
City: City Name
State: 
Zip: 
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>City Name, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Holy Name (Es), King, ON, Canada</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>CA</CountryNameCode><CountryName>Canada</CountryName><AdministrativeArea><AdministrativeAreaName>ON</AdministrativeAreaName><Locality><LocalityName>King</LocalityName><PostalCode><PostalCodeNumber>L7B</PostalCodeNumber><AddressLine>Holy Name (Es)</AddressLine></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-79.5391900,43.9247060,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mLocation Create (0.3ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES(NULL, NULL, '2008-12-16 22:39:23', NULL, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2, '2008-12-16 22:39:23')[0m
  [4;36;1mLocation::Version Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES(NULL, NULL, NULL, '2008-12-16 22:39:23', NULL, 15000, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 1) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
Google geocoding. Address: 100 Spear St, San Francisco, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Spear St, San Francisco, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Spear St, San Francisco, CA 94105, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Spear St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94105</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-122.3940000,37.7921500,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPhoneNumber Create (0.1ms)[0m   [0;1mINSERT INTO `ci_phone_numbers` (`for_entity_id`, `updated_at`, `number`, `version`, `created_at`) VALUES(NULL, '2008-12-16 22:39:24', '585-275-4822', 1, '2008-12-16 22:39:24')[0m
  [4;35;1mPhoneNumber::Version Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `ci_phone_number_versions`[0m
  [4;36;1mPhoneNumber::Version Create (0.3ms)[0m   [0;1mINSERT INTO `ci_phone_number_versions` (`phone_number_id`, `for_entity_id`, `updated_at`, `number`, `version`, `phone_number_version_id`) VALUES(15000, NULL, '2008-12-16 22:39:24', '585-275-4822', 1, NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mStudio Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `ci_studios`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStudio Create (0.2ms)[0m   [0;1mINSERT INTO `ci_studios` (`name`, `updated_at`, `version`, `created_at`) VALUES('Foo', '2008-12-16 22:39:24', 1, '2008-12-16 22:39:24')[0m
  [4;35;1mStudio::Version Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `ci_studio_versions`[0m
  [4;36;1mStudio::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_studio_versions` (`name`, `updated_at`, `studio_version_id`, `studio_id`, `version`) VALUES('Foo', '2008-12-16 22:39:24', NULL, 15000, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUrl Create (0.2ms)[0m   [0mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-16 22:39:25', 1, 'http://craigharman.net/', '2008-12-16 22:39:25')[0m
  [4;36;1mUrl::Version Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_url_versions`[0m
  [4;35;1mUrl::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15000, NULL, '2008-12-16 22:39:25', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUrl Create (0.3ms)[0m   [0;1mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-16 22:39:25', 1, 'http://craigharman.net/', '2008-12-16 22:39:25')[0m
  [4;35;1mUrl::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15001, NULL, '2008-12-16 22:39:25', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUrl Load (0.2ms)[0m   [0mSELECT * FROM `ci_urls` WHERE (`ci_urls`.`url_id` = 15001) [0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 22:39:25', `state` = 'active', `updated_at` = '2008-12-16 22:39:25' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:39:26', `updated_at` = '2008-12-16 22:39:26' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'b77a3a9b6200e2ce2854a037fa3235b6f307ad95', `updated_at` = '2008-12-16 22:39:26' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 22:39:26' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('e7054db24a0da80f7113623a42672014db904500', NULL, NULL, '2008-12-16 22:39:26', '87de3a08354ee37ed6f2db3deca837b31a6d4e94', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 22:39:26')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('6614d49bf2373609593fe8e5278f48617796e2d0', NULL, NULL, '2008-12-16 22:39:26', '8749b4289f425bf2decf99c1f6f6a1f4b6a123f8', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 22:39:26')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 22:39:26', `state` = 'deleted', `updated_at` = '2008-12-16 22:39:26' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('51fc3fb4365749c45b51b7b559d0b9a45c8b2450', NULL, NULL, '2008-12-16 22:39:26', '18e755db42d9169c6f7df81ab5a78108281ab56d', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 22:39:26')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15004) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 22:39:26' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:39:26', `updated_at` = '2008-12-16 22:39:26' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 22:39:26' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'a5af8459c82b7fc9c85922ad9e9048751a6d656d', `updated_at` = '2008-12-16 22:39:26' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 22:39:26' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 22:39:26', `remember_token` = 'a965ed89cd0aabef2a7c113628af699f6d0e5bb3', `updated_at` = '2008-12-16 22:39:26' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 22:39:27', `remember_token` = '053f3e07ddb655dd01ba9455e969bbad1657ae1c', `updated_at` = '2008-12-16 22:39:27' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 22:39:27', `remember_token` = '053f3e07ddb655dd01ba9455e969bbad1657ae1c', `updated_at` = '2008-12-16 22:39:27' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 22:39:27' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:39:27', `updated_at` = '2008-12-16 22:39:27' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 22:39:27', `remember_token` = 'ea2cb2e970df2dadf1225f3a222924fc212f0598', `updated_at` = '2008-12-16 22:39:27' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 22:39:27' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (55.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 22:39:27', `remember_token` = 'ea2cb2e970df2dadf1225f3a222924fc212f0598', `updated_at` = '2008-12-16 22:39:27' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 22:39:27' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 22:39:28' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-16 22:39:28', `state` = 'active', `updated_at` = '2008-12-16 22:39:28' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 22:39:28' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'foo-bar', `activated_at` = NULL [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'ce4673adc5059dfceefa65509ba0c7be8efc0f40', `updated_at` = '2008-12-16 22:39:28' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 22:39:28' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 22:39:28' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = NULL, `activated_at` = NULL [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-16 22:39:28' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 22:39:28' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 17:39:30) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 105) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 22:39:30', `remember_token` = 'baf3bf0614ccff81a83f82811824f887ea0e403a', `updated_at` = '2008-12-16 22:39:30' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 17:39:30) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (1.4ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 3, DB: 31) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 22:39:30', `remember_token` = 'baf3bf0614ccff81a83f82811824f887ea0e403a', `updated_at` = '2008-12-16 22:39:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 22:34:30', `updated_at` = '2008-12-16 22:39:30' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 17:39:30) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'baf3bf0614ccff81a83f82811824f887ea0e403a') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 69) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:39:30) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:39:30', `updated_at` = '2008-12-16 22:39:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 32) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:39:30) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:39:30', `updated_at` = '2008-12-16 22:39:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 72) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 22:39:30', `remember_token` = 'baf3bf0614ccff81a83f82811824f887ea0e403a', `updated_at` = '2008-12-16 22:39:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 17:39:30) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'baf3bf0614ccff81a83f82811824f887ea0e403a') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 22:39:30', `updated_at` = '2008-12-16 22:39:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=baf3bf0614ccff81a83f82811824f887ea0e403a; path=/; expires=Tue, 30 Dec 2008 22:39:30 GMT
Redirected to /
Completed in 3ms (DB: 32) | 302 Found [http://test.host/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 17:39:30) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 75) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:39:30) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 32) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:39:31) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.5ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '0966e4e3c9c1f5bd5f076f8af598279cc9db6127', `updated_at` = '2008-12-16 22:39:31' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:39:31 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/0966e4e3c9c1f5bd5f076f8af598279cc9db6127

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 124ms (DB: 33) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:39:31) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 30) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:39:31) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 30) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:39:31) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 78) | 302 Found [http://test.host/session?email=&password=]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:39:31) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 3ms (DB: 28) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:39:31) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org", "remember_me"=>"0"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:39:31', `updated_at` = '2008-12-16 22:39:31' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 73) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:39:31) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:39:31', `updated_at` = '2008-12-16 22:39:31' WHERE `user_id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 30) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:39:31) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org", "remember_me"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:39:31', `updated_at` = '2008-12-16 22:39:31' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 22:39:31', `remember_token` = '1b743c8fa01e0965d050eb6d27f31e00841cb0f8', `updated_at` = '2008-12-16 22:39:31' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=1b743c8fa01e0965d050eb6d27f31e00841cb0f8; path=/; expires=Tue, 30 Dec 2008 22:39:31 GMT
Redirected to /
Completed in 7ms (DB: 75) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:39:31) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '0a2f9d5703771529cebefa56fb06a035ea69ed51', `updated_at` = '2008-12-16 22:39:31' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:39:31 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/0a2f9d5703771529cebefa56fb06a035ea69ed51

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 32) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '7cf5b407f99bf132d3c380632d075dd90afbe03b', `updated_at` = '2008-12-16 22:39:32' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 22:39:32' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 17:39:32) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"7cf5b407f99bf132d3c380632d075dd90afbe03b"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '7cf5b407f99bf132d3c380632d075dd90afbe03b') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-16 22:39:32', `state` = 'active', `updated_at` = '2008-12-16 22:39:32' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 7ms (DB: 81) | 302 Found [http://test.host/activate/7cf5b407f99bf132d3c380632d075dd90afbe03b?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 17:39:32) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 28) | 200 OK [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 17:39:32) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "city_name"=>"new_city", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"new_email@foo.com"}}
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'new_email@foo.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Create (0.2ms)[0m   [0mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-16 22:39:32', 1, 'first_name', 'last_name', '2008-12-16 22:39:32')[0m
  [4;36;1mPerson::Version Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_person_versions`[0m
  [4;35;1mPerson::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 22:39:32', NULL, 1, 'first_name', 15002, 'last_name')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPerson Load (49.6ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15002) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mEmail Load (0.3ms)[0m   [0mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mEmail Create (0.2ms)[0m   [0;1mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-16 22:39:32', 1, 1, 'new_email@foo.com', '2008-12-16 22:39:32')[0m
  [4;35;1mEmail::Version Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;36;1mEmail::Version Create (0.3ms)[0m   [0;1mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15001, NULL, '2008-12-16 22:39:32', 1, NULL, 1, 'new_email@foo.com')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: New Address 1, New Address 2
City: New City
State: 
Zip: 12345
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>New Address 1, New Address 2, New City, 12345, CA</name>
  <Status>
    <code>602</code>
    <request>geocode</request>
  </Status>
</Response></kml>
Caught an error during Google geocoding call: can't convert GeoKit::GeoLoc into String
  [4;35;1mLocation Create (0.3ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES('new_region', '12345', '2008-12-16 22:39:32', NULL, NULL, 1, 'new_address_1', 'new_address_2', NULL, 'new_city', NULL, 2, '2008-12-16 22:39:32')[0m
  [4;36;1mLocation::Version Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES('new_region', NULL, '12345', '2008-12-16 22:39:32', NULL, 15001, NULL, 1, 'new_address_1', 'new_address_2', NULL, 'new_city', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Create (0.2ms)[0m   [0;1mINSERT INTO `ci_user_account_requests` (`ci_notes`, `email_id`, `updated_at`, `location_id`, `person_id`, `state`, `created_at`) VALUES(NULL, 15001, '2008-12-16 22:39:32', 15001, 15002, 'new', '2008-12-16 22:39:32')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:39:32 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Account request for first_name last_name (new_email@foo.com)
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

ACCOUNT REQUEST
---------------

NAME:   first_name last_name
EMAIL:  new_email@foo.com

To approve or deny this account request, please go to:

  https://www.contactimprov.net/admin/users/list_account_requests
Redirected to actionaccount_requested
Completed in 365ms (DB: 84) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;36;1mUserAccountRequest Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` ORDER BY ci_user_account_requests.user_account_request_id DESC LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15002) [0m
  [4;36;1mEmail Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (`ci_emails`.`email_id` = 15001) [0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 15001) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 17:39:32) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '5d6ed160dad0de63eabc6d4e968a56eebde8f56b', `updated_at` = '2008-12-16 22:39:32' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:39:32 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/5d6ed160dad0de63eabc6d4e968a56eebde8f56b

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 8ms (DB: 29) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;35;1mUser Load (51.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 17:39:32) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-16 22:39:32' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:39:32 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 12ms (View: 3, DB: 80) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 17:39:32) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 22:39:32' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 26) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:39:32', `updated_at` = '2008-12-16 22:39:32' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 17:39:32) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"newfirst", "last_name"=>"newlast"}}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max(`ci_person_versions`.version) AS max_version FROM `ci_person_versions` WHERE (`ci_person_versions`.person_id = 1) [0m
  [4;36;1mPerson Update (0.2ms)[0m   [0;1mUPDATE `ci_people` SET `version` = 1, `last_name` = 'newlast', `first_name` = 'newfirst', `updated_at` = '2008-12-16 22:39:33' WHERE `person_id` = 1[0m
  [4;35;1mPerson::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 22:39:33', NULL, 1, 'newfirst', 1, 'newlast')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 10ms (DB: 30) | 302 Found [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=newfirst&user%5Bperson%5D%5Blast_name%5D=newlast]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '8a32eb25c0ba9d2d6c7ba0dec6eebad062788b83', `updated_at` = '2008-12-16 22:39:33' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 17:39:33) [GET]
  Parameters: {"password_reset_code"=>"8a32eb25c0ba9d2d6c7ba0dec6eebad062788b83"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '8a32eb25c0ba9d2d6c7ba0dec6eebad062788b83') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 2, DB: 90) | 200 OK [http://test.host/reset_password/8a32eb25c0ba9d2d6c7ba0dec6eebad062788b83]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '7ecd1fc2091604ce56668baad80ee07155ebbe2a', `updated_at` = '2008-12-16 22:39:33' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 22:39:33' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 17:39:33) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"7ecd1fc2091604ce56668baad80ee07155ebbe2a"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '7ecd1fc2091604ce56668baad80ee07155ebbe2a') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 29) | 200 OK [http://test.host/activate/7ecd1fc2091604ce56668baad80ee07155ebbe2a?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 17:39:33) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 1ms (DB: 92) | 302 Found [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 17:39:33) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "city_name"=>"new_city", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>""}}
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Rendering user/request_account
Rendered shared/_header (0.5ms)
Rendered shared/_person (0.6ms)
Rendered shared/_email (0.4ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 4, DB: 28) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 17:39:33) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "city_name"=>"new_city", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>""}, "uar_email"=>{"address"=>"new_email@foo.com"}}
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 76) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 17:39:33) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:39:33 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 23) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 17:39:33) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '4b13979ece16292e6f142ca42fbc6c5ab23fcfea', `updated_at` = '2008-12-16 22:39:33' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:39:33 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/4b13979ece16292e6f142ca42fbc6c5ab23fcfea

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 10ms (View: 2, DB: 75) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 17:39:33) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 25) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 17:39:33) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 21) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 17:39:34) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 80) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 17:39:34) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 2, DB: 23) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 17:39:34) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 78) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 17:39:34) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.1ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 22) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 17:39:34) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 78) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 17:39:34) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 2, DB: 23) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 17:39:34) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"", "last_name"=>""}}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering user/edit
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 9ms (View: 3, DB: 92) | 200 OK [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 17:39:34) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 28) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 17:39:34) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (55.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 58ms (View: 1, DB: 80) | 200 OK [http://test.host/reset_password/]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '4928b93fc597ec3c3f101e2305e9992fc4f40527', `updated_at` = '2008-12-16 22:39:35' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 17:39:35) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"4928b93fc597ec3c3f101e2305e9992fc4f40527"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '4928b93fc597ec3c3f101e2305e9992fc4f40527') LIMIT 1[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 2, DB: 31) | 200 OK [http://test.host/reset_password/4928b93fc597ec3c3f101e2305e9992fc4f40527?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 17:39:35) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.9ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 2, DB: 31) | 200 OK [http://test.host/activate/randomgarbage]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'df1fbf0ec14ac7dba6b30b309523cbabf55c3bf7', `updated_at` = '2008-12-16 22:39:35' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 17:39:35) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"df1fbf0ec14ac7dba6b30b309523cbabf55c3bf7"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'df1fbf0ec14ac7dba6b30b309523cbabf55c3bf7') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-16 22:39:35' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 93) | 200 OK [http://test.host/reset_password/df1fbf0ec14ac7dba6b30b309523cbabf55c3bf7?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:39:35', `updated_at` = '2008-12-16 22:39:35' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 17:39:35) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "city_name"=>"new_city", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"quentin@contactimprov.org"}}
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '19d3c551dc8919d6ef0bc371036fb19c826c14fb', `updated_at` = '2008-12-16 22:39:35' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:39:35 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/19d3c551dc8919d6ef0bc371036fb19c826c14fb

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 10ms (DB: 30) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=quentin%40contactimprov.org&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 17:39:35) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "city_name"=>"new_city", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"pending_user@contactimprov.org"}}
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'pending_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'pending_user@contactimprov.org' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '05885e6adf43fee8a669298dd9fda2358066e8a5', `updated_at` = '2008-12-16 22:39:35' WHERE `user_id` = 8[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:39:35 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/05885e6adf43fee8a669298dd9fda2358066e8a5

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  pending_user@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 13ms (View: 3, DB: 92) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=pending_user%40contactimprov.org&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '5d427b79c1c12d61954d9d642f19fb6391114bee', `updated_at` = '2008-12-16 22:39:35' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 22:39:35' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 17:39:35) [GET]
  Parameters: {"activation_code"=>"5d427b79c1c12d61954d9d642f19fb6391114bee"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '5d427b79c1c12d61954d9d642f19fb6391114bee') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 36) | 200 OK [http://test.host/activate/5d427b79c1c12d61954d9d642f19fb6391114bee]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 17:41:32) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-16 22:41:32", updated_at: "2008-12-16 22:41:32">}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 22:41:32', `state` = 'active', `email` = 'activate@contactquarterly.com', `updated_at` = '2008-12-16 22:41:32' WHERE `user_id` = 8[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 17:41:32) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/edit
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 17:41:33) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/reset_password
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 17:41:33) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com", "person"=>{"first_name"=>"Firstname", "last_name"=>"Lastname"}}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: person
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 17:41:33) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-16 22:41:33", updated_at: "2008-12-16 22:41:33">}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
Rendering admin/users/activate
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 17:41:33) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 17:41:34) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 17:41:34) [PUT]
  Parameters: {"user"=>{"subscriber_address"=>{"postal_code"=>"60606", "street_address_line_1"=>"new_line_1", "street_address_line_2"=>"new_line_2", "city_name"=>"new_city", "us_state"=>{"name"=>"pa"}, "country_name"=>{"english_name"=>"United States"}}, "person"=>{"first_name"=>"", "last_name"=>""}}, "id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering admin/users/edit
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:41:34', `updated_at` = '2008-12-16 22:41:34' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 17:41:34) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"bad_password", "password"=>"new_password"}, "id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering admin/users/reset_password
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUserAccountRequest Load (0.2ms)[0m   [0mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m


Processing Admin::UsersController#process_account_request (for 0.0.0.0 at 2008-12-16 17:41:34) [PUT]
  Parameters: {"account_request_id"=>"1", "user_account_request"=>{"cq_notes"=>"updated_notes"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUserAccountRequest Load (0.2ms)[0m   [0mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:41:34', `updated_at` = '2008-12-16 22:41:34' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 17:41:34) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 22:41:34' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (50.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (37.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (36.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (36.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (37.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (36.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (36.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (36.8ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (36.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (37.1ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (36.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (36.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (38.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (37.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (36.9ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (50.9ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (36.9ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (36.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 17:42:09) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-16 22:42:09", updated_at: "2008-12-16 22:42:09">}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;36;1mUser Exists (1.6ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 22:42:09', `state` = 'active', `email` = 'activate@contactquarterly.com', `updated_at` = '2008-12-16 22:42:09' WHERE `user_id` = 8[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 17:42:09) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/edit
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 17:42:10) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/reset_password
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 17:42:10) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com", "person"=>{"first_name"=>"Firstname", "last_name"=>"Lastname"}}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: person
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 17:42:10) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-16 22:42:10", updated_at: "2008-12-16 22:42:10">}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
Rendering admin/users/activate
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 17:42:10) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 17:42:10) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 17:42:10) [PUT]
  Parameters: {"user"=>{"subscriber_address"=>{"postal_code"=>"60606", "street_address_line_1"=>"new_line_1", "street_address_line_2"=>"new_line_2", "city_name"=>"new_city", "us_state"=>{"name"=>"pa"}, "country_name"=>{"english_name"=>"United States"}}, "person"=>{"first_name"=>"", "last_name"=>""}}, "id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering admin/users/edit
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:42:10', `updated_at` = '2008-12-16 22:42:10' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 17:42:10) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"bad_password", "password"=>"new_password"}, "id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering admin/users/reset_password
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUserAccountRequest Load (0.1ms)[0m   [0mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m


Processing Admin::UsersController#process_account_request (for 0.0.0.0 at 2008-12-16 17:42:11) [PUT]
  Parameters: {"account_request_id"=>"1", "user_account_request"=>{"cq_notes"=>"updated_notes"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUserAccountRequest Load (0.1ms)[0m   [0mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:42:11', `updated_at` = '2008-12-16 22:42:11' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 17:42:11) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 22:42:11' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:42:11 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: New password for your ContactImprov.net account
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have reset the password on your Contact Quarterly online account.

Your new password is:

  new_password

To log on to your account, just go to:

  http://community.contactquarterly.com/

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionshowid1
Completed in 10ms (DB: 107) | 302 Found [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:42:11', `updated_at` = '2008-12-16 22:42:11' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (58.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (37.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (37.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (37.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (37.8ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (37.1ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (45.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (43.9ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (43.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (12.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (43.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (43.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (51.1ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (46.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (42.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (10.1ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (42.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (4.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (65.9ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (2.1ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (39.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (38.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 17:43:47) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-16 22:43:47", updated_at: "2008-12-16 22:43:47">}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 22:43:47', `state` = 'active', `email` = 'activate@contactquarterly.com', `updated_at` = '2008-12-16 22:43:47' WHERE `user_id` = 8[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 17:43:47) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/edit
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 17:43:48) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/reset_password
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 17:43:48) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com", "person"=>{"first_name"=>"Firstname", "last_name"=>"Lastname"}}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: person
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 17:43:48) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-16 22:43:48", updated_at: "2008-12-16 22:43:48">}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
Rendering admin/users/activate
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 17:43:48) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 17:43:48) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 17:43:48) [PUT]
  Parameters: {"user"=>{"subscriber_address"=>{"postal_code"=>"60606", "street_address_line_1"=>"new_line_1", "street_address_line_2"=>"new_line_2", "city_name"=>"new_city", "us_state"=>{"name"=>"pa"}, "country_name"=>{"english_name"=>"United States"}}, "person"=>{"first_name"=>"", "last_name"=>""}}, "id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering admin/users/edit
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:43:49', `updated_at` = '2008-12-16 22:43:49' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 17:43:49) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"bad_password", "password"=>"new_password"}, "id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering admin/users/reset_password
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUserAccountRequest Load (0.1ms)[0m   [0mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m


Processing Admin::UsersController#process_account_request (for 0.0.0.0 at 2008-12-16 17:43:49) [PUT]
  Parameters: {"account_request_id"=>"1", "user_account_request"=>{"ci_notes"=>"updated_notes"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUserAccountRequest Load (0.1ms)[0m   [0mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUserAccountRequest Update (0.2ms)[0m   [0mUPDATE `ci_user_account_requests` SET `ci_notes` = 'updated_notes', `updated_at` = '2008-12-16 22:43:49' WHERE `user_account_request_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to actionlist_account_requests
Completed in 3ms (DB: 84) | 302 Found [http://test.host/admin/users/process_account_request?account_request_id=1&user_account_request%5Bci_notes%5D=updated_notes]
  [4;35;1mUserAccountRequest Load (0.1ms)[0m   [0mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:43:49', `updated_at` = '2008-12-16 22:43:49' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 17:43:49) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 22:43:49' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:43:49 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: New password for your ContactImprov.net account
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have reset the password on your Contact Quarterly online account.

Your new password is:

  new_password

To log on to your account, just go to:

  http://community.contactquarterly.com/

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionshowid1
Completed in 10ms (DB: 24) | 302 Found [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:43:49', `updated_at` = '2008-12-16 22:43:49' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (50.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (36.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (37.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (36.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (37.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (36.8ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (37.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (36.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (37.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (37.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (37.1ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (37.1ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (36.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (37.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (37.1ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (51.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (36.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (37.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 17:45:43) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-16 22:45:43", updated_at: "2008-12-16 22:45:43">}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 22:45:43', `state` = 'active', `email` = 'activate@contactquarterly.com', `updated_at` = '2008-12-16 22:45:43' WHERE `user_id` = 8[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 17:45:43) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/edit
Rendered shared/admin/_header (1.8ms)
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_person (2.1ms)
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 17:45:44) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.7ms)
  [4;35;1mPerson Load (0.3ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/admin/_footer (0.2ms)
Completed in 5ms (View: 3, DB: 434) | 200 OK [http://test.host/admin/users/reset_password/1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 17:45:44) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com", "person"=>{"first_name"=>"Firstname", "last_name"=>"Lastname"}}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: person
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 17:45:44) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-16 22:45:44", updated_at: "2008-12-16 22:45:44">}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
Rendering admin/users/activate
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 64) | 200 OK [http://test.host/admin/users/activate/8?user%5Bemail%5D=activate%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 17:45:45) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 75) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 17:45:45) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.9ms)
Rendered shared/_person (0.9ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 11ms (View: 4, DB: 34) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 17:45:45) [PUT]
  Parameters: {"user"=>{"subscriber_address"=>{"postal_code"=>"60606", "street_address_line_1"=>"new_line_1", "street_address_line_2"=>"new_line_2", "city_name"=>"new_city", "us_state"=>{"name"=>"pa"}, "country_name"=>{"english_name"=>"United States"}}, "person"=>{"first_name"=>"", "last_name"=>""}}, "id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering admin/users/edit
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.5ms)
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:45:45', `updated_at` = '2008-12-16 22:45:45' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 17:45:45) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"bad_password", "password"=>"new_password"}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 31) | 200 OK [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=bad_password]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:45:45', `updated_at` = '2008-12-16 22:45:45' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUserAccountRequest Load (0.2ms)[0m   [0mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m


Processing Admin::UsersController#process_account_request (for 0.0.0.0 at 2008-12-16 17:45:45) [PUT]
  Parameters: {"account_request_id"=>"1", "user_account_request"=>{"ci_notes"=>"updated_notes"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUserAccountRequest Load (0.2ms)[0m   [0mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUserAccountRequest Update (0.2ms)[0m   [0mUPDATE `ci_user_account_requests` SET `ci_notes` = 'updated_notes', `updated_at` = '2008-12-16 22:45:45' WHERE `user_account_request_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to actionlist_account_requests
Completed in 4ms (DB: 82) | 302 Found [http://test.host/admin/users/process_account_request?account_request_id=1&user_account_request%5Bci_notes%5D=updated_notes]
  [4;35;1mUserAccountRequest Load (0.2ms)[0m   [0mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:45:45', `updated_at` = '2008-12-16 22:45:45' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 17:45:45) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 22:45:45' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:45:45 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: New password for your ContactImprov.net account
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have reset the password on your Contact Quarterly online account.

Your new password is:

  new_password

To log on to your account, just go to:

  http://community.contactquarterly.com/

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionshowid1
Completed in 10ms (DB: 29) | 302 Found [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:45:45', `updated_at` = '2008-12-16 22:45:45' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (51.1ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (37.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (38.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (37.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (37.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (37.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (38.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (37.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (37.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (37.8ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (37.8ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (37.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (37.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (37.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (37.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (40.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (37.1ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (37.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 17:48:01) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-16 22:48:01", updated_at: "2008-12-16 22:48:01">}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 22:48:02', `state` = 'active', `email` = 'activate@contactquarterly.com', `updated_at` = '2008-12-16 22:48:02' WHERE `user_id` = 8[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 17:48:02) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/edit
Rendered shared/admin/_header (1.9ms)
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_person (2.1ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 7, DB: 85) | 200 OK [http://test.host/admin/users/edit/1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 17:48:02) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.7ms)
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/admin/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 384) | 200 OK [http://test.host/admin/users/reset_password/1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 17:48:02) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com", "person"=>{"first_name"=>"Firstname", "last_name"=>"Lastname"}}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: person
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 17:48:03) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-16 22:48:03", updated_at: "2008-12-16 22:48:03">}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
Rendering admin/users/activate
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 51) | 200 OK [http://test.host/admin/users/activate/8?user%5Bemail%5D=activate%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 17:48:03) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 83) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 17:48:03) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 25) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 17:48:03) [PUT]
  Parameters: {"user"=>{"subscriber_address"=>{"postal_code"=>"60606", "street_address_line_1"=>"new_line_1", "street_address_line_2"=>"new_line_2", "city_name"=>"new_city", "us_state"=>{"name"=>"pa"}, "country_name"=>{"english_name"=>"United States"}}, "person"=>{"first_name"=>"", "last_name"=>""}}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering admin/users/edit
Rendered shared/admin/_header (0.7ms)
Rendered shared/_person (0.5ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 77) | 200 OK [http://test.host/admin/users/edit/1?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=&user%5Bsubscriber_address%5D%5Bcity_name%5D=new_city&user%5Bsubscriber_address%5D%5Bcountry_name%5D%5Benglish_name%5D=United+States&user%5Bsubscriber_address%5D%5Bpostal_code%5D=60606&user%5Bsubscriber_address%5D%5Bstreet_address_line_1%5D=new_line_1&user%5Bsubscriber_address%5D%5Bstreet_address_line_2%5D=new_line_2&user%5Bsubscriber_address%5D%5Bus_state%5D%5Bname%5D=pa]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:48:03', `updated_at` = '2008-12-16 22:48:03' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 17:48:03) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"bad_password", "password"=>"new_password"}, "id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 2, DB: 31) | 200 OK [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=bad_password]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:48:03', `updated_at` = '2008-12-16 22:48:03' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUserAccountRequest Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m


Processing Admin::UsersController#process_account_request (for 0.0.0.0 at 2008-12-16 17:48:03) [PUT]
  Parameters: {"account_request_id"=>"1", "user_account_request"=>{"ci_notes"=>"updated_notes"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Update (0.2ms)[0m   [0;1mUPDATE `ci_user_account_requests` SET `ci_notes` = 'updated_notes', `updated_at` = '2008-12-16 22:48:03' WHERE `user_account_request_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionlist_account_requests
Completed in 4ms (DB: 83) | 302 Found [http://test.host/admin/users/process_account_request?account_request_id=1&user_account_request%5Bci_notes%5D=updated_notes]
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:48:03', `updated_at` = '2008-12-16 22:48:03' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 17:48:03) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 22:48:03' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:48:03 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: New password for your ContactImprov.net account
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have reset the password on your Contact Quarterly online account.

Your new password is:

  new_password

To log on to your account, just go to:

  http://community.contactquarterly.com/

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionshowid1
Completed in 10ms (DB: 31) | 302 Found [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:48:03', `updated_at` = '2008-12-16 22:48:03' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (49.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (37.9ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (37.9ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (38.1ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (37.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (38.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (38.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (38.1ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (38.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (38.1ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (37.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (38.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (37.9ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (38.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (38.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (38.1ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (37.9ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (37.8ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 17:49:25) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-16 22:49:25", updated_at: "2008-12-16 22:49:25">}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 22:49:25', `state` = 'active', `email` = 'activate@contactquarterly.com', `updated_at` = '2008-12-16 22:49:25' WHERE `user_id` = 8[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 17:49:25) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/edit
Rendered shared/admin/_header (1.8ms)
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_person (2.0ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 6, DB: 89) | 200 OK [http://test.host/admin/users/edit/1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 17:49:26) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.7ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/admin/_footer (0.1ms)
Completed in 5ms (View: 3, DB: 413) | 200 OK [http://test.host/admin/users/reset_password/1]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 17:49:26) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com", "person"=>{"first_name"=>"Firstname", "last_name"=>"Lastname"}}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: person
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 17:49:26) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-16 22:49:26", updated_at: "2008-12-16 22:49:26">}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
Rendering admin/users/activate
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 65) | 200 OK [http://test.host/admin/users/activate/8?user%5Bemail%5D=activate%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 17:49:27) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 74) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 17:49:27) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.7ms)
Rendered shared/_person (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 28) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 17:49:27) [PUT]
  Parameters: {"user"=>{"subscriber_address"=>{"postal_code"=>"60606", "street_address_line_1"=>"new_line_1", "street_address_line_2"=>"new_line_2", "city_name"=>"new_city", "us_state"=>{"name"=>"pa"}, "country_name"=>{"english_name"=>"United States"}}, "person"=>{"first_name"=>"", "last_name"=>""}}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering admin/users/edit
Rendered shared/admin/_header (0.7ms)
Rendered shared/_person (0.5ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 72) | 200 OK [http://test.host/admin/users/edit/1?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=&user%5Bsubscriber_address%5D%5Bcity_name%5D=new_city&user%5Bsubscriber_address%5D%5Bcountry_name%5D%5Benglish_name%5D=United+States&user%5Bsubscriber_address%5D%5Bpostal_code%5D=60606&user%5Bsubscriber_address%5D%5Bstreet_address_line_1%5D=new_line_1&user%5Bsubscriber_address%5D%5Bstreet_address_line_2%5D=new_line_2&user%5Bsubscriber_address%5D%5Bus_state%5D%5Bname%5D=pa]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:49:27', `updated_at` = '2008-12-16 22:49:27' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 17:49:27) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"bad_password", "password"=>"new_password"}, "id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.7ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 2, DB: 27) | 200 OK [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=bad_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:49:27', `updated_at` = '2008-12-16 22:49:27' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUserAccountRequest Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m


Processing Admin::UsersController#process_account_request (for 0.0.0.0 at 2008-12-16 17:49:27) [PUT]
  Parameters: {"account_request_id"=>"1", "user_account_request"=>{"ci_notes"=>"updated_notes"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUserAccountRequest Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Update (0.2ms)[0m   [0;1mUPDATE `ci_user_account_requests` SET `ci_notes` = 'updated_notes', `updated_at` = '2008-12-16 22:49:27' WHERE `user_account_request_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionlist_account_requests
Completed in 3ms (DB: 74) | 302 Found [http://test.host/admin/users/process_account_request?account_request_id=1&user_account_request%5Bci_notes%5D=updated_notes]
  [4;36;1mUserAccountRequest Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:49:27', `updated_at` = '2008-12-16 22:49:27' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 17:49:27) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 22:49:27' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:49:27 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: New password for your ContactImprov.net account
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have reset the password on your Contact Quarterly online account.

Your new password is:

  new_password

To log on to your account, just go to:

  http://community.contactquarterly.com/

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionshowid1
Completed in 10ms (DB: 24) | 302 Found [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:49:27', `updated_at` = '2008-12-16 22:49:27' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (49.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (37.8ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (37.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (37.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (37.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (38.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (37.8ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (38.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (37.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (38.1ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (37.9ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (38.1ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (38.1ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (41.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (40.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (40.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (40.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (40.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 17:50:06) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-16 22:50:06", updated_at: "2008-12-16 22:50:06">}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 22:50:06', `state` = 'active', `email` = 'activate@contactquarterly.com', `updated_at` = '2008-12-16 22:50:06' WHERE `user_id` = 8[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 17:50:06) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/edit
Rendered shared/admin/_header (1.9ms)
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_person (2.4ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 9ms (View: 7, DB: 171) | 200 OK [http://test.host/admin/users/edit/1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#index (for 0.0.0.0 at 2008-12-16 17:50:06) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` WHERE (state = 'active') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` WHERE (state = 'pending') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_user_account_requests` WHERE (state ='new') [0m
Rendering admin/users/index
Rendered shared/admin/_header (0.7ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 4, DB: 26) | 200 OK [http://test.host/admin/users]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list (for 0.0.0.0 at 2008-12-16 17:50:06) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` [0m
Rendering admin/users/list
Rendered shared/admin/_header (0.7ms)
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 402) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list_active (for 0.0.0.0 at 2008-12-16 17:50:06) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (state = 'active') [0m
Rendering admin/users/list_active
Rendered shared/admin/_header (0.6ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 402) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list_pending (for 0.0.0.0 at 2008-12-16 17:50:06) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (state = 'pending') [0m
Rendering admin/users/list_pending
Rendered shared/admin/_header (0.7ms)
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list_unapproved (for 0.0.0.0 at 2008-12-16 17:50:07) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#map (for 0.0.0.0 at 2008-12-16 17:50:07) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mLocation Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_locations` WHERE (geocode_precision IS NOT NULL) [0m
Rendering admin/users/map
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 102) | 200 OK [http://test.host/admin/users/map]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#new (for 0.0.0.0 at 2008-12-16 17:50:07) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.7ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 22) | 200 OK [http://test.host/admin/users/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 17:50:07) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.7ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/admin/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 69) | 200 OK [http://test.host/admin/users/reset_password/1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 17:50:07) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com", "person"=>{"first_name"=>"Firstname", "last_name"=>"Lastname"}}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: person
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 17:50:07) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-16 22:50:07", updated_at: "2008-12-16 22:50:07">}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
Rendering admin/users/activate
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 50) | 200 OK [http://test.host/admin/users/activate/8?user%5Bemail%5D=activate%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 17:50:07) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.9ms)
Rendered shared/_person (0.9ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 12ms (View: 4, DB: 87) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 17:50:07) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 28) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 17:50:07) [PUT]
  Parameters: {"user"=>{"subscriber_address"=>{"postal_code"=>"60606", "street_address_line_1"=>"new_line_1", "street_address_line_2"=>"new_line_2", "city_name"=>"new_city", "us_state"=>{"name"=>"pa"}, "country_name"=>{"english_name"=>"United States"}}, "person"=>{"first_name"=>"", "last_name"=>""}}, "id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering admin/users/edit
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 79) | 200 OK [http://test.host/admin/users/edit/1?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=&user%5Bsubscriber_address%5D%5Bcity_name%5D=new_city&user%5Bsubscriber_address%5D%5Bcountry_name%5D%5Benglish_name%5D=United+States&user%5Bsubscriber_address%5D%5Bpostal_code%5D=60606&user%5Bsubscriber_address%5D%5Bstreet_address_line_1%5D=new_line_1&user%5Bsubscriber_address%5D%5Bstreet_address_line_2%5D=new_line_2&user%5Bsubscriber_address%5D%5Bus_state%5D%5Bname%5D=pa]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:50:07', `updated_at` = '2008-12-16 22:50:07' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 17:50:07) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"bad_password", "password"=>"new_password"}, "id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 29) | 200 OK [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=bad_password]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:50:07', `updated_at` = '2008-12-16 22:50:07' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUserAccountRequest Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m


Processing Admin::UsersController#process_account_request (for 0.0.0.0 at 2008-12-16 17:50:08) [PUT]
  Parameters: {"account_request_id"=>"1", "user_account_request"=>{"ci_notes"=>"updated_notes"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUserAccountRequest Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Update (0.2ms)[0m   [0;1mUPDATE `ci_user_account_requests` SET `ci_notes` = 'updated_notes', `updated_at` = '2008-12-16 22:50:08' WHERE `user_account_request_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionlist_account_requests
Completed in 3ms (DB: 77) | 302 Found [http://test.host/admin/users/process_account_request?account_request_id=1&user_account_request%5Bci_notes%5D=updated_notes]
  [4;36;1mUserAccountRequest Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:50:08', `updated_at` = '2008-12-16 22:50:08' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 17:50:08) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 22:50:08' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:50:08 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: New password for your ContactImprov.net account
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have reset the password on your Contact Quarterly online account.

Your new password is:

  new_password

To log on to your account, just go to:

  http://community.contactquarterly.com/

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionshowid1
Completed in 10ms (DB: 24) | 302 Found [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:50:08', `updated_at` = '2008-12-16 22:50:08' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 17:50:36) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-16 22:50:36", updated_at: "2008-12-16 22:50:36">}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 22:50:36', `state` = 'active', `email` = 'activate@contactquarterly.com', `updated_at` = '2008-12-16 22:50:36' WHERE `user_id` = 8[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 17:50:36) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/edit
Rendered shared/admin/_header (1.8ms)
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_person (2.1ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 6, DB: 71) | 200 OK [http://test.host/admin/users/edit/1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#index (for 0.0.0.0 at 2008-12-16 17:50:36) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` WHERE (state = 'active') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` WHERE (state = 'pending') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_user_account_requests` WHERE (state ='new') [0m
Rendering admin/users/index
Rendered shared/admin/_header (0.7ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 4, DB: 22) | 200 OK [http://test.host/admin/users]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list (for 0.0.0.0 at 2008-12-16 17:50:37) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` [0m
Rendering admin/users/list
Rendered shared/admin/_header (0.7ms)
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 402) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list_active (for 0.0.0.0 at 2008-12-16 17:50:37) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (state = 'active') [0m
Rendering admin/users/list_active
Rendered shared/admin/_header (0.6ms)
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 402) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list_pending (for 0.0.0.0 at 2008-12-16 17:50:37) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (state = 'pending') [0m
Rendering admin/users/list_pending
Rendered shared/admin/_header (0.7ms)
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#map (for 0.0.0.0 at 2008-12-16 17:50:37) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mLocation Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_locations` WHERE (geocode_precision IS NOT NULL) [0m
Rendering admin/users/map
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 30) | 200 OK [http://test.host/admin/users/map]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#new (for 0.0.0.0 at 2008-12-16 17:50:37) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.7ms)
Rendered shared/_person (0.7ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 76) | 200 OK [http://test.host/admin/users/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 17:50:37) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.6ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/admin/_footer (0.1ms)
Completed in 5ms (View: 3, DB: 29) | 200 OK [http://test.host/admin/users/reset_password/1]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 17:50:37) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com", "person"=>{"first_name"=>"Firstname", "last_name"=>"Lastname"}}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: person
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 17:50:37) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-16 22:50:37", updated_at: "2008-12-16 22:50:37">}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
Rendering admin/users/activate
Rendered shared/admin/_header (0.7ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 99) | 200 OK [http://test.host/admin/users/activate/8?user%5Bemail%5D=activate%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 17:50:37) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 32) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 17:50:38) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 75) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 17:50:38) [PUT]
  Parameters: {"user"=>{"subscriber_address"=>{"postal_code"=>"60606", "street_address_line_1"=>"new_line_1", "street_address_line_2"=>"new_line_2", "city_name"=>"new_city", "us_state"=>{"name"=>"pa"}, "country_name"=>{"english_name"=>"United States"}}, "person"=>{"first_name"=>"", "last_name"=>""}}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering admin/users/edit
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 23) | 200 OK [http://test.host/admin/users/edit/1?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=&user%5Bsubscriber_address%5D%5Bcity_name%5D=new_city&user%5Bsubscriber_address%5D%5Bcountry_name%5D%5Benglish_name%5D=United+States&user%5Bsubscriber_address%5D%5Bpostal_code%5D=60606&user%5Bsubscriber_address%5D%5Bstreet_address_line_1%5D=new_line_1&user%5Bsubscriber_address%5D%5Bstreet_address_line_2%5D=new_line_2&user%5Bsubscriber_address%5D%5Bus_state%5D%5Bname%5D=pa]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:50:38', `updated_at` = '2008-12-16 22:50:38' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 17:50:38) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"bad_password", "password"=>"new_password"}, "id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 2, DB: 77) | 200 OK [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=bad_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:50:38', `updated_at` = '2008-12-16 22:50:38' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUserAccountRequest Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m


Processing Admin::UsersController#process_account_request (for 0.0.0.0 at 2008-12-16 17:50:38) [PUT]
  Parameters: {"account_request_id"=>"1", "user_account_request"=>{"ci_notes"=>"updated_notes"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUserAccountRequest Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Update (0.2ms)[0m   [0;1mUPDATE `ci_user_account_requests` SET `ci_notes` = 'updated_notes', `updated_at` = '2008-12-16 22:50:38' WHERE `user_account_request_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionlist_account_requests
Completed in 3ms (DB: 30) | 302 Found [http://test.host/admin/users/process_account_request?account_request_id=1&user_account_request%5Bci_notes%5D=updated_notes]
  [4;36;1mUserAccountRequest Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:50:38', `updated_at` = '2008-12-16 22:50:38' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 17:50:38) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 22:50:38' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:50:38 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: New password for your ContactImprov.net account
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have reset the password on your Contact Quarterly online account.

Your new password is:

  new_password

To log on to your account, just go to:

  http://community.contactquarterly.com/

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionshowid1
Completed in 10ms (DB: 75) | 302 Found [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:50:38', `updated_at` = '2008-12-16 22:50:38' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 17:52:42) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-16 22:52:42", updated_at: "2008-12-16 22:52:42">}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 22:52:42', `state` = 'active', `email` = 'activate@contactquarterly.com', `updated_at` = '2008-12-16 22:52:42' WHERE `user_id` = 8[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:52:42 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Your ContactImprov.net account has been activated
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactQuarterly.com account has been created for you.  In 
order to use your account, just go to this page:

  https://community.contactquarterly.com/

and log in using your email address:

  activate@contactquarterly.com

and this password:

  test

You can change your password once you have logged in.

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionindex
Completed in 119ms (DB: 52) | 302 Found [http://test.host/admin/users/activate/8?user%5Bemail%5D=activate%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 17:52:42) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/edit
Rendered shared/admin/_header (1.8ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_person (2.2ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 7, DB: 29) | 200 OK [http://test.host/admin/users/edit/1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#index (for 0.0.0.0 at 2008-12-16 17:52:42) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` WHERE (state = 'active') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` WHERE (state = 'pending') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_user_account_requests` WHERE (state ='new') [0m
Rendering admin/users/index
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 4, DB: 31) | 200 OK [http://test.host/admin/users]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list (for 0.0.0.0 at 2008-12-16 17:52:42) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` [0m
Rendering admin/users/list
Rendered shared/admin/_header (0.7ms)
  [4;35;1mPerson Load (0.3ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 402) [0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 10) [0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 401) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
Rendered admin/users/_user_table (7.0ms)
Rendered admin/users/_user_table_js (0.2ms)
Rendered admin/users/_list_users (7.7ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 12ms (View: 9, DB: 87) | 200 OK [http://test.host/admin/users/list]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list_active (for 0.0.0.0 at 2008-12-16 17:52:43) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (state = 'active') [0m
Rendering admin/users/list_active
Rendered shared/admin/_header (0.7ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 402) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 10) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 401) [0m
Rendered admin/users/_user_table (4.1ms)
Rendered admin/users/_user_table_js (0.1ms)
Rendered admin/users/_list_users (4.5ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 6, DB: 28) | 200 OK [http://test.host/admin/users/list_active]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list_pending (for 0.0.0.0 at 2008-12-16 17:52:43) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (state = 'pending') [0m
Rendering admin/users/list_pending
Rendered shared/admin/_header (0.6ms)
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
Rendered admin/users/_user_table (1.4ms)
Rendered admin/users/_user_table_js (0.1ms)
Rendered admin/users/_list_users (1.8ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 5ms (View: 3, DB: 72) | 200 OK [http://test.host/admin/users/list_pending]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#map (for 0.0.0.0 at 2008-12-16 17:52:43) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (geocode_precision IS NOT NULL) [0m
Rendering admin/users/map
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 25) | 200 OK [http://test.host/admin/users/map]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#new (for 0.0.0.0 at 2008-12-16 17:52:43) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.7ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 70) | 200 OK [http://test.host/admin/users/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 17:52:43) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.6ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/admin/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 24) | 200 OK [http://test.host/admin/users/reset_password/1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 17:52:43) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com", "person"=>{"first_name"=>"Firstname", "last_name"=>"Lastname"}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: person
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 17:52:43) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-16 22:52:43", updated_at: "2008-12-16 22:52:43">}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
Rendering admin/users/activate
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 93) | 200 OK [http://test.host/admin/users/activate/8?user%5Bemail%5D=activate%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 17:52:43) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.7ms)
Rendered shared/_person (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 22) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 17:52:43) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 76) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 17:52:44) [PUT]
  Parameters: {"user"=>{"subscriber_address"=>{"postal_code"=>"60606", "street_address_line_1"=>"new_line_1", "street_address_line_2"=>"new_line_2", "city_name"=>"new_city", "us_state"=>{"name"=>"pa"}, "country_name"=>{"english_name"=>"United States"}}, "person"=>{"first_name"=>"", "last_name"=>""}}, "id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering admin/users/edit
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 2, DB: 28) | 200 OK [http://test.host/admin/users/edit/1?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=&user%5Bsubscriber_address%5D%5Bcity_name%5D=new_city&user%5Bsubscriber_address%5D%5Bcountry_name%5D%5Benglish_name%5D=United+States&user%5Bsubscriber_address%5D%5Bpostal_code%5D=60606&user%5Bsubscriber_address%5D%5Bstreet_address_line_1%5D=new_line_1&user%5Bsubscriber_address%5D%5Bstreet_address_line_2%5D=new_line_2&user%5Bsubscriber_address%5D%5Bus_state%5D%5Bname%5D=pa]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:52:44', `updated_at` = '2008-12-16 22:52:44' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 17:52:44) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"bad_password", "password"=>"new_password"}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 2, DB: 78) | 200 OK [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=bad_password]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:52:44', `updated_at` = '2008-12-16 22:52:44' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUserAccountRequest Load (0.2ms)[0m   [0mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m


Processing Admin::UsersController#process_account_request (for 0.0.0.0 at 2008-12-16 17:52:44) [PUT]
  Parameters: {"account_request_id"=>"1", "user_account_request"=>{"ci_notes"=>"updated_notes"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUserAccountRequest Load (0.2ms)[0m   [0mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUserAccountRequest Update (0.2ms)[0m   [0mUPDATE `ci_user_account_requests` SET `ci_notes` = 'updated_notes', `updated_at` = '2008-12-16 22:52:44' WHERE `user_account_request_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to actionlist_account_requests
Completed in 3ms (DB: 27) | 302 Found [http://test.host/admin/users/process_account_request?account_request_id=1&user_account_request%5Bci_notes%5D=updated_notes]
  [4;35;1mUserAccountRequest Load (0.2ms)[0m   [0mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:52:44', `updated_at` = '2008-12-16 22:52:44' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 17:52:44) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 22:52:44' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:52:44 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: New password for your ContactImprov.net account
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have reset the password on your Contact Quarterly online account.

Your new password is:

  new_password

To log on to your account, just go to:

  http://community.contactquarterly.com/

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionshowid1
Completed in 10ms (DB: 86) | 302 Found [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:52:44', `updated_at` = '2008-12-16 22:52:44' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 17:55:58) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-16 22:55:58", updated_at: "2008-12-16 22:55:58">}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 22:55:58', `state` = 'active', `email` = 'activate@contactquarterly.com', `updated_at` = '2008-12-16 22:55:58' WHERE `user_id` = 8[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:55:58 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Your ContactImprov.net account has been activated
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactQuarterly.com account has been created for you.  In 
order to use your account, just go to this page:

  https://community.contactquarterly.com/

and log in using your email address:

  activate@contactquarterly.com

and this password:

  test

You can change your password once you have logged in.

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionindex
Completed in 119ms (DB: 53) | 302 Found [http://test.host/admin/users/activate/8?user%5Bemail%5D=activate%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 17:55:58) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/edit
Rendered shared/admin/_header (1.7ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_person (2.3ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 7, DB: 30) | 200 OK [http://test.host/admin/users/edit/1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#index (for 0.0.0.0 at 2008-12-16 17:55:58) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` WHERE (state = 'active') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` WHERE (state = 'pending') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_user_account_requests` WHERE (state ='new') [0m
Rendering admin/users/index
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 4, DB: 26) | 200 OK [http://test.host/admin/users]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list (for 0.0.0.0 at 2008-12-16 17:55:58) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` [0m
Rendering admin/users/list
Rendered shared/admin/_header (0.6ms)
  [4;35;1mPerson Load (0.3ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 402) [0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 10) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 401) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
Rendered admin/users/_user_table (6.8ms)
Rendered admin/users/_user_table_js (0.2ms)
Rendered admin/users/_list_users (7.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 11ms (View: 9, DB: 92) | 200 OK [http://test.host/admin/users/list]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list_active (for 0.0.0.0 at 2008-12-16 17:55:58) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (state = 'active') [0m
Rendering admin/users/list_active
Rendered shared/admin/_header (0.6ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 402) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 10) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 401) [0m
Rendered admin/users/_user_table (4.1ms)
Rendered admin/users/_user_table_js (0.1ms)
Rendered admin/users/_list_users (4.5ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 6, DB: 29) | 200 OK [http://test.host/admin/users/list_active]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list_pending (for 0.0.0.0 at 2008-12-16 17:55:58) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (state = 'pending') [0m
Rendering admin/users/list_pending
Rendered shared/admin/_header (0.7ms)
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
Rendered admin/users/_user_table (1.6ms)
Rendered admin/users/_user_table_js (0.1ms)
Rendered admin/users/_list_users (2.0ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 79) | 200 OK [http://test.host/admin/users/list_pending]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#map (for 0.0.0.0 at 2008-12-16 17:55:59) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (geocode_precision IS NOT NULL) [0m
Rendering admin/users/map
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 24) | 200 OK [http://test.host/admin/users/map]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#new (for 0.0.0.0 at 2008-12-16 17:55:59) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.7ms)
Rendered shared/_person (0.7ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 80) | 200 OK [http://test.host/admin/users/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 17:55:59) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.7ms)
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/admin/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 33) | 200 OK [http://test.host/admin/users/reset_password/1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 17:55:59) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com", "person"=>{"first_name"=>"Firstname", "last_name"=>"Lastname"}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: person
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;36;1mPerson Create (0.2ms)[0m   [0;1mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-16 22:55:59', 1, 'Firstname', 'Lastname', '2008-12-16 22:55:59')[0m
  [4;35;1mPerson::Version Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `ci_person_versions`[0m
  [4;36;1mPerson::Version Create (0.4ms)[0m   [0;1mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 22:55:59', NULL, 1, 'Firstname', 15003, 'Lastname')[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('0ab40b75b6c94d3b07f8c43342aca4fe326504ce', NULL, NULL, '2008-12-16 22:55:59', 'd29b263aae851c5a49da62d8c9a4f191ca9604f9', NULL, 0, NULL, NULL, NULL, NULL, 15003, 'admin_users_create@contactquarterly.com', 'passive', '2008-12-16 22:55:59')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com' AND `ci_users`.user_id <> 15005) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '1cba793199e443702bd61a9e85e124ab5a02159d', `updated_at` = '2008-12-16 22:55:59' WHERE `user_id` = 15005[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 22:55:59' WHERE `user_id` = 15005[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:55:59 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Firstname Lastname -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/1cba793199e443702bd61a9e85e124ab5a02159d

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  admin_users_create@contactquarterly.com

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionindex
Completed in 26ms (DB: 88) | 302 Found [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test&user%5Bperson%5D%5Bfirst_name%5D=Firstname&user%5Bperson%5D%5Blast_name%5D=Lastname]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 17:55:59) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-16 22:55:59", updated_at: "2008-12-16 22:55:59">}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
Rendering admin/users/activate
Rendered shared/admin/_header (0.8ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 11ms (View: 3, DB: 29) | 200 OK [http://test.host/admin/users/activate/8?user%5Bemail%5D=activate%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Load (51.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 17:55:59) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 82) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 17:55:59) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 22) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 17:55:59) [PUT]
  Parameters: {"user"=>{"subscriber_address"=>{"postal_code"=>"60606", "street_address_line_1"=>"new_line_1", "street_address_line_2"=>"new_line_2", "city_name"=>"new_city", "us_state"=>{"name"=>"pa"}, "country_name"=>{"english_name"=>"United States"}}, "person"=>{"first_name"=>"", "last_name"=>""}}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering admin/users/edit
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 26) | 200 OK [http://test.host/admin/users/edit/1?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=&user%5Bsubscriber_address%5D%5Bcity_name%5D=new_city&user%5Bsubscriber_address%5D%5Bcountry_name%5D%5Benglish_name%5D=United+States&user%5Bsubscriber_address%5D%5Bpostal_code%5D=60606&user%5Bsubscriber_address%5D%5Bstreet_address_line_1%5D=new_line_1&user%5Bsubscriber_address%5D%5Bstreet_address_line_2%5D=new_line_2&user%5Bsubscriber_address%5D%5Bus_state%5D%5Bname%5D=pa]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:55:59', `updated_at` = '2008-12-16 22:56:00' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 17:56:00) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"bad_password", "password"=>"new_password"}, "id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 2, DB: 80) | 200 OK [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=bad_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:56:00', `updated_at` = '2008-12-16 22:56:00' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUserAccountRequest Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m


Processing Admin::UsersController#process_account_request (for 0.0.0.0 at 2008-12-16 17:56:00) [PUT]
  Parameters: {"account_request_id"=>"1", "user_account_request"=>{"ci_notes"=>"updated_notes"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUserAccountRequest Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Update (0.2ms)[0m   [0;1mUPDATE `ci_user_account_requests` SET `ci_notes` = 'updated_notes', `updated_at` = '2008-12-16 22:56:00' WHERE `user_account_request_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionlist_account_requests
Completed in 3ms (DB: 24) | 302 Found [http://test.host/admin/users/process_account_request?account_request_id=1&user_account_request%5Bci_notes%5D=updated_notes]
  [4;36;1mUserAccountRequest Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:56:00', `updated_at` = '2008-12-16 22:56:00' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 17:56:00) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 22:56:00' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:56:00 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: New password for your ContactImprov.net account
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have reset the password on your Contact Quarterly online account.

Your new password is:

  new_password

To log on to your account, just go to:

  http://community.contactquarterly.com/

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionshowid1
Completed in 10ms (DB: 77) | 302 Found [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:56:00', `updated_at` = '2008-12-16 22:56:00' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCompany Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `ci_companies`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCompany Create (0.2ms)[0m   [0;1mINSERT INTO `ci_companies` (`name`, `updated_at`, `version`, `created_at`) VALUES('Foo', '2008-12-16 22:56:08', 1, '2008-12-16 22:56:08')[0m
  [4;35;1mCompany::Version Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `ci_company_versions`[0m
  [4;36;1mCompany::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_company_versions` (`name`, `updated_at`, `company_version_id`, `version`, `company_id`) VALUES('Foo', '2008-12-16 22:56:08', NULL, 1, 15000)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mCountryName Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEmail Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mEmail Create (0.2ms)[0m   [0mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-16 22:56:08', 1, 1, 'charman@acm.org', '2008-12-16 22:56:08')[0m
  [4;36;1mEmail::Version Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;35;1mEmail::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15000, NULL, '2008-12-16 22:56:08', 1, NULL, 1, 'charman@acm.org')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mCountryName Load (0.4ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: 
City: City Name
State: 
Zip: 
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>City Name, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Holy Name (Es), King, ON, Canada</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>CA</CountryNameCode><CountryName>Canada</CountryName><AdministrativeArea><AdministrativeAreaName>ON</AdministrativeAreaName><Locality><LocalityName>King</LocalityName><PostalCode><PostalCodeNumber>L7B</PostalCodeNumber><AddressLine>Holy Name (Es)</AddressLine></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-79.5391900,43.9247060,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mLocation Create (0.3ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES(NULL, NULL, '2008-12-16 22:56:09', NULL, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2, '2008-12-16 22:56:09')[0m
  [4;36;1mLocation::Version Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES(NULL, NULL, NULL, '2008-12-16 22:56:09', NULL, 15000, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 1) [0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
Google geocoding. Address: 100 Spear St, San Francisco, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Spear St, San Francisco, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Spear St, San Francisco, CA 94105, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Spear St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94105</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-122.3940000,37.7921500,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPhoneNumber Create (0.2ms)[0m   [0;1mINSERT INTO `ci_phone_numbers` (`for_entity_id`, `updated_at`, `number`, `version`, `created_at`) VALUES(NULL, '2008-12-16 22:56:10', '585-275-4822', 1, '2008-12-16 22:56:10')[0m
  [4;35;1mPhoneNumber::Version Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `ci_phone_number_versions`[0m
  [4;36;1mPhoneNumber::Version Create (0.3ms)[0m   [0;1mINSERT INTO `ci_phone_number_versions` (`phone_number_id`, `for_entity_id`, `updated_at`, `number`, `version`, `phone_number_version_id`) VALUES(15000, NULL, '2008-12-16 22:56:10', '585-275-4822', 1, NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mStudio Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `ci_studios`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStudio Create (0.3ms)[0m   [0;1mINSERT INTO `ci_studios` (`name`, `updated_at`, `version`, `created_at`) VALUES('Foo', '2008-12-16 22:56:10', 1, '2008-12-16 22:56:10')[0m
  [4;35;1mStudio::Version Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `ci_studio_versions`[0m
  [4;36;1mStudio::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_studio_versions` (`name`, `updated_at`, `studio_version_id`, `studio_id`, `version`) VALUES('Foo', '2008-12-16 22:56:10', NULL, 15000, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUrl Create (0.2ms)[0m   [0mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-16 22:56:10', 1, 'http://craigharman.net/', '2008-12-16 22:56:10')[0m
  [4;36;1mUrl::Version Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `ci_url_versions`[0m
  [4;35;1mUrl::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15000, NULL, '2008-12-16 22:56:10', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUrl Create (0.1ms)[0m   [0;1mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-16 22:56:10', 1, 'http://craigharman.net/', '2008-12-16 22:56:10')[0m
  [4;35;1mUrl::Version Create (0.1ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15001, NULL, '2008-12-16 22:56:10', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUrl Load (0.2ms)[0m   [0mSELECT * FROM `ci_urls` WHERE (`ci_urls`.`url_id` = 15001) [0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 22:56:11', `state` = 'active', `updated_at` = '2008-12-16 22:56:11' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:56:11', `updated_at` = '2008-12-16 22:56:11' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '6d5490c5e737eac54cb2ef418c0c4ee75ed4b1c7', `updated_at` = '2008-12-16 22:56:12' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 22:56:12' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('c2a25fe1186ff49d0366ce558efe0d17024bc446', NULL, NULL, '2008-12-16 22:56:12', '6d9b6f87c976e04484044f63b9cef3ec43780d95', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 22:56:12')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('0d91cc3a14e102249fa266a91ddb44c81a344ad5', NULL, NULL, '2008-12-16 22:56:12', '1e338ab1f34b9f13d89a02ba370b1eeabf38ace8', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 22:56:12')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 22:56:12', `state` = 'deleted', `updated_at` = '2008-12-16 22:56:12' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.5ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('dee52ac161a46148e72dcb1e7f0a8e99b78006bd', NULL, NULL, '2008-12-16 22:56:12', '017fb535b2242119b427b44e356b03a96b3cea81', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 22:56:12')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15005) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 22:56:12' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:56:12', `updated_at` = '2008-12-16 22:56:12' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 22:56:12' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'ca3bb486b48222b5d4f0db9652bfb3d3bdd87ea5', `updated_at` = '2008-12-16 22:56:12' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 22:56:12' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 22:56:12', `remember_token` = '73d2dab7a8144a5808e1a25f85762786a56a1820', `updated_at` = '2008-12-16 22:56:12' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 22:56:12', `remember_token` = '9a43e9203dc6dcdc81c1a5a614ddeba91936d193', `updated_at` = '2008-12-16 22:56:12' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 22:56:12', `remember_token` = '9a43e9203dc6dcdc81c1a5a614ddeba91936d193', `updated_at` = '2008-12-16 22:56:12' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 22:56:13' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:56:13', `updated_at` = '2008-12-16 22:56:13' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 22:56:13', `remember_token` = '34e9c9ed637165f7c46cd651127bd2dd2d81db4f', `updated_at` = '2008-12-16 22:56:13' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 22:56:13' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (49.8ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 22:56:13', `remember_token` = '34e9c9ed637165f7c46cd651127bd2dd2d81db4f', `updated_at` = '2008-12-16 22:56:13' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 22:56:13' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 22:56:13' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-16 22:56:13', `state` = 'active', `updated_at` = '2008-12-16 22:56:13' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 22:56:13' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'foo-bar', `activated_at` = NULL [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'be44299cd51e3d16e8efecb12edf96d2ddfe46d3', `updated_at` = '2008-12-16 22:56:13' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 22:56:13' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 22:56:13' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = NULL, `activated_at` = NULL [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-16 22:56:13' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 22:56:14' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 17:56:15) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-16 22:56:15", updated_at: "2008-12-16 22:56:15">}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 22:56:15', `state` = 'active', `email` = 'activate@contactquarterly.com', `updated_at` = '2008-12-16 22:56:15' WHERE `user_id` = 8[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:56:15 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Your ContactImprov.net account has been activated
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactQuarterly.com account has been created for you.  In 
order to use your account, just go to this page:

  https://community.contactquarterly.com/

and log in using your email address:

  activate@contactquarterly.com

and this password:

  test

You can change your password once you have logged in.

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionindex
Completed in 121ms (DB: 52) | 302 Found [http://test.host/admin/users/activate/8?user%5Bemail%5D=activate%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 17:56:16) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/edit
Rendered shared/admin/_header (1.8ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_person (2.1ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 6, DB: 24) | 200 OK [http://test.host/admin/users/edit/1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#index (for 0.0.0.0 at 2008-12-16 17:56:16) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` WHERE (state = 'active') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` WHERE (state = 'pending') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_user_account_requests` WHERE (state ='new') [0m
Rendering admin/users/index
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 4, DB: 21) | 200 OK [http://test.host/admin/users]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list (for 0.0.0.0 at 2008-12-16 17:56:16) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` [0m
Rendering admin/users/list
Rendered shared/admin/_header (0.6ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 402) [0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 10) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 401) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
Rendered admin/users/_user_table (7.0ms)
Rendered admin/users/_user_table_js (0.2ms)
Rendered admin/users/_list_users (7.7ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 11ms (View: 9, DB: 79) | 200 OK [http://test.host/admin/users/list]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list_active (for 0.0.0.0 at 2008-12-16 17:56:16) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (state = 'active') [0m
Rendering admin/users/list_active
Rendered shared/admin/_header (0.6ms)
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 402) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 10) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 401) [0m
Rendered admin/users/_user_table (4.1ms)
Rendered admin/users/_user_table_js (0.1ms)
Rendered admin/users/_list_users (4.5ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 6, DB: 27) | 200 OK [http://test.host/admin/users/list_active]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list_pending (for 0.0.0.0 at 2008-12-16 17:56:16) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (state = 'pending') [0m
Rendering admin/users/list_pending
Rendered shared/admin/_header (0.6ms)
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
Rendered admin/users/_user_table (1.5ms)
Rendered admin/users/_user_table_js (0.1ms)
Rendered admin/users/_list_users (1.9ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 78) | 200 OK [http://test.host/admin/users/list_pending]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#map (for 0.0.0.0 at 2008-12-16 17:56:16) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (geocode_precision IS NOT NULL) [0m
Rendering admin/users/map
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 22) | 200 OK [http://test.host/admin/users/map]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#new (for 0.0.0.0 at 2008-12-16 17:56:16) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.7ms)
Rendered shared/_person (0.7ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 72) | 200 OK [http://test.host/admin/users/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 17:56:16) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.6ms)
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/admin/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 22) | 200 OK [http://test.host/admin/users/reset_password/1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 17:56:16) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com", "person"=>{"first_name"=>"Firstname", "last_name"=>"Lastname"}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: person
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;36;1mPerson Create (0.2ms)[0m   [0;1mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-16 22:56:16', 1, 'Firstname', 'Lastname', '2008-12-16 22:56:16')[0m
  [4;35;1mPerson::Version Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `ci_person_versions`[0m
  [4;36;1mPerson::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 22:56:16', NULL, 1, 'Firstname', 15002, 'Lastname')[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('aa5c1b29b8fffb4b6b6197b467f066b7f2791f6b', NULL, NULL, '2008-12-16 22:56:16', '51c2e50fb97087976719f5bb41799178499cbfa5', NULL, 0, NULL, NULL, NULL, NULL, 15002, 'admin_users_create@contactquarterly.com', 'passive', '2008-12-16 22:56:16')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com' AND `ci_users`.user_id <> 15006) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'fb66c3bd0a79d25d2b0f9d647d50fa909bf7cbd2', `updated_at` = '2008-12-16 22:56:16' WHERE `user_id` = 15006[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 22:56:16' WHERE `user_id` = 15006[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:56:16 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Firstname Lastname -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/fb66c3bd0a79d25d2b0f9d647d50fa909bf7cbd2

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  admin_users_create@contactquarterly.com

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionindex
Completed in 21ms (DB: 73) | 302 Found [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test&user%5Bperson%5D%5Bfirst_name%5D=Firstname&user%5Bperson%5D%5Blast_name%5D=Lastname]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 17:56:17) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-16 22:56:16", updated_at: "2008-12-16 22:56:16">}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
Rendering admin/users/activate
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 28) | 200 OK [http://test.host/admin/users/activate/8?user%5Bemail%5D=activate%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Load (50.5ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 17:56:17) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 78) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 17:56:17) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 30) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 17:56:17) [PUT]
  Parameters: {"user"=>{"subscriber_address"=>{"postal_code"=>"60606", "street_address_line_1"=>"new_line_1", "street_address_line_2"=>"new_line_2", "city_name"=>"new_city", "us_state"=>{"name"=>"pa"}, "country_name"=>{"english_name"=>"United States"}}, "person"=>{"first_name"=>"", "last_name"=>""}}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering admin/users/edit
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 30) | 200 OK [http://test.host/admin/users/edit/1?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=&user%5Bsubscriber_address%5D%5Bcity_name%5D=new_city&user%5Bsubscriber_address%5D%5Bcountry_name%5D%5Benglish_name%5D=United+States&user%5Bsubscriber_address%5D%5Bpostal_code%5D=60606&user%5Bsubscriber_address%5D%5Bstreet_address_line_1%5D=new_line_1&user%5Bsubscriber_address%5D%5Bstreet_address_line_2%5D=new_line_2&user%5Bsubscriber_address%5D%5Bus_state%5D%5Bname%5D=pa]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:56:17', `updated_at` = '2008-12-16 22:56:17' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 17:56:17) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"bad_password", "password"=>"new_password"}, "id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 2, DB: 89) | 200 OK [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=bad_password]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:56:17', `updated_at` = '2008-12-16 22:56:17' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m


Processing Admin::UsersController#process_account_request (for 0.0.0.0 at 2008-12-16 17:56:17) [PUT]
  Parameters: {"account_request_id"=>"1", "user_account_request"=>{"ci_notes"=>"updated_notes"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Update (0.2ms)[0m   [0;1mUPDATE `ci_user_account_requests` SET `ci_notes` = 'updated_notes', `updated_at` = '2008-12-16 22:56:17' WHERE `user_account_request_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionlist_account_requests
Completed in 3ms (DB: 30) | 302 Found [http://test.host/admin/users/process_account_request?account_request_id=1&user_account_request%5Bci_notes%5D=updated_notes]
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:56:17', `updated_at` = '2008-12-16 22:56:17' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 17:56:17) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 22:56:17' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:56:17 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: New password for your ContactImprov.net account
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have reset the password on your Contact Quarterly online account.

Your new password is:

  new_password

To log on to your account, just go to:

  http://community.contactquarterly.com/

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionshowid1
Completed in 10ms (DB: 81) | 302 Found [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:56:17', `updated_at` = '2008-12-16 22:56:17' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 17:56:17) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 31) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 22:56:17', `remember_token` = '53c9ae39b6ad093b54a34feefd9262f7b787d3f5', `updated_at` = '2008-12-16 22:56:17' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 17:56:17) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 78) | 200 OK [http://test.host/session/new]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 22:56:18', `remember_token` = 'cbab9b0a54d5c7191689953ec3151c2f0689545c', `updated_at` = '2008-12-16 22:56:18' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 22:51:18', `updated_at` = '2008-12-16 22:56:18' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 17:56:18) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'cbab9b0a54d5c7191689953ec3151c2f0689545c') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 29) | 200 OK [http://test.host/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:56:18) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:56:18', `updated_at` = '2008-12-16 22:56:18' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 75) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:56:18) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:56:18', `updated_at` = '2008-12-16 22:56:18' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 29) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 22:56:18', `remember_token` = 'cbab9b0a54d5c7191689953ec3151c2f0689545c', `updated_at` = '2008-12-16 22:56:18' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 17:56:18) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'cbab9b0a54d5c7191689953ec3151c2f0689545c') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 22:56:18', `updated_at` = '2008-12-16 22:56:18' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=cbab9b0a54d5c7191689953ec3151c2f0689545c; path=/; expires=Tue, 30 Dec 2008 22:56:18 GMT
Redirected to /
Completed in 3ms (DB: 28) | 302 Found [http://test.host/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 17:56:18) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 80) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:56:18) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 31) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:56:18) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '8a4a363e59fc6b9e469dfc4be3267f9d257fbd42', `updated_at` = '2008-12-16 22:56:18' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:56:18 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/8a4a363e59fc6b9e469dfc4be3267f9d257fbd42

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 80) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:56:18) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 3ms (DB: 28) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:56:18) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 73) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:56:18) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 26) | 302 Found [http://test.host/session?email=&password=]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:56:19) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 80) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:56:19) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"0", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:56:19', `updated_at` = '2008-12-16 22:56:19' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 26) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;35;1mUser Load (50.5ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:56:19) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:56:19', `updated_at` = '2008-12-16 22:56:19' WHERE `user_id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 78) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:56:19) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"1", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:56:19', `updated_at` = '2008-12-16 22:56:19' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 22:56:19', `remember_token` = '7fd100b7ad5e3ff424f89ddff077e48c54571dd0', `updated_at` = '2008-12-16 22:56:19' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=7fd100b7ad5e3ff424f89ddff077e48c54571dd0; path=/; expires=Tue, 30 Dec 2008 22:56:19 GMT
Redirected to /
Completed in 6ms (DB: 22) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 17:56:19) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'e94e5faa11a42f5602bcb6b5cd21a0190ced0dcc', `updated_at` = '2008-12-16 22:56:19' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:56:19 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/e94e5faa11a42f5602bcb6b5cd21a0190ced0dcc

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 23) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '5058ce6ecb5df06a64a71e9e9d0ca1d07663c4a7', `updated_at` = '2008-12-16 22:56:19' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 22:56:19' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 17:56:19) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"5058ce6ecb5df06a64a71e9e9d0ca1d07663c4a7"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '5058ce6ecb5df06a64a71e9e9d0ca1d07663c4a7') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-16 22:56:19', `state` = 'active', `updated_at` = '2008-12-16 22:56:19' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to actionindex
Completed in 6ms (DB: 80) | 302 Found [http://test.host/activate/5058ce6ecb5df06a64a71e9e9d0ca1d07663c4a7?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 17:56:19) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 3, DB: 24) | 200 OK [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 17:56:19) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "city_name"=>"new_city", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}}, "uar_email"=>{"address"=>"new_email@foo.com"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'new_email@foo.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson Create (0.1ms)[0m   [0;1mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-16 22:56:19', 1, 'first_name', 'last_name', '2008-12-16 22:56:19')[0m
  [4;35;1mPerson::Version Create (0.1ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 22:56:19', NULL, 1, 'first_name', 15003, 'last_name')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15003) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mEmail Load (0.3ms)[0m   [0mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mEmail Create (0.2ms)[0m   [0;1mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-16 22:56:19', 1, 1, 'new_email@foo.com', '2008-12-16 22:56:19')[0m
  [4;35;1mEmail::Version Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;36;1mEmail::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15001, NULL, '2008-12-16 22:56:19', 1, NULL, 1, 'new_email@foo.com')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: New Address 1, New Address 2
City: New City
State: 
Zip: 12345
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>New Address 1, New Address 2, New City, 12345, CA</name>
  <Status>
    <code>602</code>
    <request>geocode</request>
  </Status>
</Response></kml>
Caught an error during Google geocoding call: can't convert GeoKit::GeoLoc into String
  [4;35;1mLocation Create (0.4ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES('new_region', '12345', '2008-12-16 22:56:19', NULL, NULL, 1, 'new_address_1', 'new_address_2', NULL, 'new_city', NULL, 2, '2008-12-16 22:56:19')[0m
  [4;36;1mLocation::Version Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES('new_region', NULL, '12345', '2008-12-16 22:56:19', NULL, 15001, NULL, 1, 'new_address_1', 'new_address_2', NULL, 'new_city', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Create (0.2ms)[0m   [0;1mINSERT INTO `ci_user_account_requests` (`ci_notes`, `email_id`, `updated_at`, `location_id`, `person_id`, `state`, `created_at`) VALUES(NULL, 15001, '2008-12-16 22:56:19', 15001, 15003, 'new', '2008-12-16 22:56:19')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:56:19 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Account request for first_name last_name (new_email@foo.com)
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

ACCOUNT REQUEST
---------------

NAME:   first_name last_name
EMAIL:  new_email@foo.com

To approve or deny this account request, please go to:

  https://www.contactimprov.net/admin/users/list_account_requests
Redirected to actionaccount_requested
Completed in 236ms (DB: 82) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;36;1mUserAccountRequest Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` ORDER BY ci_user_account_requests.user_account_request_id DESC LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15003) [0m
  [4;36;1mEmail Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (`ci_emails`.`email_id` = 15001) [0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 15001) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 17:56:20) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '5af73a7d964f7893a9e6b3a9db5ce1194d15c6e7', `updated_at` = '2008-12-16 22:56:20' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:56:20 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/5af73a7d964f7893a9e6b3a9db5ce1194d15c6e7

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 8ms (DB: 29) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 17:56:20) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-16 22:56:20' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:56:20 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 12ms (View: 2, DB: 86) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 17:56:20) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 22:56:20' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 31) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:56:20', `updated_at` = '2008-12-16 22:56:20' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 17:56:20) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"newfirst", "last_name"=>"newlast"}}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max(`ci_person_versions`.version) AS max_version FROM `ci_person_versions` WHERE (`ci_person_versions`.person_id = 1) [0m
  [4;36;1mPerson Update (0.2ms)[0m   [0;1mUPDATE `ci_people` SET `version` = 1, `last_name` = 'newlast', `first_name` = 'newfirst', `updated_at` = '2008-12-16 22:56:20' WHERE `person_id` = 1[0m
  [4;35;1mPerson::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 22:56:20', NULL, 1, 'newfirst', 1, 'newlast')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 11ms (DB: 86) | 302 Found [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=newfirst&user%5Bperson%5D%5Blast_name%5D=newlast]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '5bfbb38391768c33af036fed5dfa6aef54d5811c', `updated_at` = '2008-12-16 22:56:20' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 17:56:20) [GET]
  Parameters: {"password_reset_code"=>"5bfbb38391768c33af036fed5dfa6aef54d5811c"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '5bfbb38391768c33af036fed5dfa6aef54d5811c') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 29) | 200 OK [http://test.host/reset_password/5bfbb38391768c33af036fed5dfa6aef54d5811c]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'aeb9dbe4833046075bd9e766b8f08fb2e0faff69', `updated_at` = '2008-12-16 22:56:20' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 22:56:20' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 17:56:20) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"aeb9dbe4833046075bd9e766b8f08fb2e0faff69"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'aeb9dbe4833046075bd9e766b8f08fb2e0faff69') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 3, DB: 83) | 200 OK [http://test.host/activate/aeb9dbe4833046075bd9e766b8f08fb2e0faff69?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 17:56:20) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 26) | 302 Found [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 17:56:20) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "city_name"=>"new_city", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}}, "uar_email"=>{"address"=>""}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.4ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 25) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 17:56:20) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "city_name"=>"new_city", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}}, "uar_email"=>{"address"=>"new_email@foo.com"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>""}}
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 86) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 17:56:21) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:56:21 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 25) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 17:56:21) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '67373b7cbfe669abd5abc19196a5a1f53ff73323', `updated_at` = '2008-12-16 22:56:21' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:56:21 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/67373b7cbfe669abd5abc19196a5a1f53ff73323

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 10ms (View: 2, DB: 85) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 17:56:21) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 26) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 17:56:21) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 85) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 17:56:21) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 27) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 17:56:21) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 78) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 17:56:21) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 3, DB: 25) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (58.7ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 17:56:21) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 81) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 17:56:21) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 22) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 17:56:21) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 25) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 17:56:22) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"", "last_name"=>""}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering user/edit
Rendered shared/_header (0.7ms)
Rendered shared/_person (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 85) | 200 OK [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 17:56:22) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 25) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 17:56:22) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 82) | 200 OK [http://test.host/reset_password/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '378e40d41979148153f4ba2145f84f39c68da614', `updated_at` = '2008-12-16 22:56:22' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 17:56:22) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"378e40d41979148153f4ba2145f84f39c68da614"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '378e40d41979148153f4ba2145f84f39c68da614') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 26) | 200 OK [http://test.host/reset_password/378e40d41979148153f4ba2145f84f39c68da614?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 17:56:22) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 87) | 200 OK [http://test.host/activate/randomgarbage]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '7837336a27255ac5eae6216c84fc9951b35f227f', `updated_at` = '2008-12-16 22:56:22' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 17:56:22) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"7837336a27255ac5eae6216c84fc9951b35f227f"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '7837336a27255ac5eae6216c84fc9951b35f227f') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-16 22:56:22' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 33) | 200 OK [http://test.host/reset_password/7837336a27255ac5eae6216c84fc9951b35f227f?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 22:56:22', `updated_at` = '2008-12-16 22:56:22' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 17:56:22) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "city_name"=>"new_city", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}}, "uar_email"=>{"address"=>"quentin@contactimprov.org"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '7298001bcab125d6a5c7f0e80e17c5c853746f74', `updated_at` = '2008-12-16 22:56:22' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:56:22 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/7298001bcab125d6a5c7f0e80e17c5c853746f74

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 11ms (DB: 88) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=quentin%40contactimprov.org&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 17:56:22) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "city_name"=>"new_city", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}}, "uar_email"=>{"address"=>"pending_user@contactimprov.org"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'pending_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'pending_user@contactimprov.org' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'fcebb2217abf722eb24135b874a66731b1a9952e', `updated_at` = '2008-12-16 22:56:22' WHERE `user_id` = 8[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 17:56:22 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/fcebb2217abf722eb24135b874a66731b1a9952e

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  pending_user@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 13ms (View: 3, DB: 34) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=pending_user%40contactimprov.org&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '82bfc1a153bc04a77f6431416b0c23e67a3ee485', `updated_at` = '2008-12-16 22:56:23' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 22:56:23' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 17:56:23) [GET]
  Parameters: {"activation_code"=>"82bfc1a153bc04a77f6431416b0c23e67a3ee485"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '82bfc1a153bc04a77f6431416b0c23e67a3ee485') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 27) | 200 OK [http://test.host/activate/82bfc1a153bc04a77f6431416b0c23e67a3ee485]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCompany Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `ci_companies`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mCompany Create (0.3ms)[0m   [0;1mINSERT INTO `ci_companies` (`name`, `updated_at`, `version`, `created_at`) VALUES('Foo', '2008-12-16 23:03:10', 1, '2008-12-16 23:03:10')[0m
  [4;35;1mCompany::Version Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `ci_company_versions`[0m
  [4;36;1mCompany::Version Create (0.4ms)[0m   [0;1mINSERT INTO `ci_company_versions` (`name`, `updated_at`, `company_version_id`, `version`, `company_id`) VALUES('Foo', '2008-12-16 23:03:10', NULL, 1, 15000)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEmail Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mEmail Create (0.2ms)[0m   [0mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-16 23:03:11', 1, 1, 'charman@acm.org', '2008-12-16 23:03:11')[0m
  [4;36;1mEmail::Version Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;35;1mEmail::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15000, NULL, '2008-12-16 23:03:11', 1, NULL, 1, 'charman@acm.org')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: 
City: City Name
State: 
Zip: 
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>City Name, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Holy Name (Es), King, ON, Canada</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>CA</CountryNameCode><CountryName>Canada</CountryName><AdministrativeArea><AdministrativeAreaName>ON</AdministrativeAreaName><Locality><LocalityName>King</LocalityName><PostalCode><PostalCodeNumber>L7B</PostalCodeNumber><AddressLine>Holy Name (Es)</AddressLine></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-79.5391900,43.9247060,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mLocation Create (0.3ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES(NULL, NULL, '2008-12-16 23:03:11', NULL, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2, '2008-12-16 23:03:11')[0m
  [4;36;1mLocation::Version Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES(NULL, NULL, NULL, '2008-12-16 23:03:11', NULL, 15000, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 1) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
Google geocoding. Address: 100 Spear St, San Francisco, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Spear St, San Francisco, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Spear St, San Francisco, CA 94105, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Spear St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94105</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-122.3940000,37.7921500,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPhoneNumber Create (0.2ms)[0m   [0;1mINSERT INTO `ci_phone_numbers` (`for_entity_id`, `updated_at`, `number`, `version`, `created_at`) VALUES(NULL, '2008-12-16 23:03:12', '585-275-4822', 1, '2008-12-16 23:03:12')[0m
  [4;35;1mPhoneNumber::Version Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `ci_phone_number_versions`[0m
  [4;36;1mPhoneNumber::Version Create (0.4ms)[0m   [0;1mINSERT INTO `ci_phone_number_versions` (`phone_number_id`, `for_entity_id`, `updated_at`, `number`, `version`, `phone_number_version_id`) VALUES(15000, NULL, '2008-12-16 23:03:12', '585-275-4822', 1, NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mStudio Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `ci_studios`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStudio Create (0.2ms)[0m   [0;1mINSERT INTO `ci_studios` (`name`, `updated_at`, `version`, `created_at`) VALUES('Foo', '2008-12-16 23:03:12', 1, '2008-12-16 23:03:12')[0m
  [4;35;1mStudio::Version Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `ci_studio_versions`[0m
  [4;36;1mStudio::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_studio_versions` (`name`, `updated_at`, `studio_version_id`, `studio_id`, `version`) VALUES('Foo', '2008-12-16 23:03:12', NULL, 15000, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUrl Create (0.2ms)[0m   [0mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-16 23:03:13', 1, 'http://craigharman.net/', '2008-12-16 23:03:13')[0m
  [4;36;1mUrl::Version Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_url_versions`[0m
  [4;35;1mUrl::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15000, NULL, '2008-12-16 23:03:13', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUrl Create (0.2ms)[0m   [0;1mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-16 23:03:13', 1, 'http://craigharman.net/', '2008-12-16 23:03:13')[0m
  [4;35;1mUrl::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15001, NULL, '2008-12-16 23:03:13', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUrl Load (0.2ms)[0m   [0mSELECT * FROM `ci_urls` WHERE (`ci_urls`.`url_id` = 15001) [0m
  [4;36;1mUsState Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 23:03:13', `state` = 'active', `updated_at` = '2008-12-16 23:03:13' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:03:13', `updated_at` = '2008-12-16 23:03:13' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '333d7e65373a6495a22c187b2914a04bfa81588a', `updated_at` = '2008-12-16 23:03:14' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:03:14' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('b51dfc0426bb7db8186fb2836aad7e91ca2bcb4f', NULL, NULL, '2008-12-16 23:03:14', '459b3d3b1108e0c5b12172584633ca346528112b', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 23:03:14')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('e2e64a419179a4099d2a7c4e702502e22896781e', NULL, NULL, '2008-12-16 23:03:14', 'fb70dac4786ee4e91ab16b27121db843dfe6af83', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 23:03:14')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 23:03:15', `state` = 'deleted', `updated_at` = '2008-12-16 23:03:15' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('a6974642f54ed23e3c880a6022516da74f53ac5c', NULL, NULL, '2008-12-16 23:03:15', '0ca7fd4d83bc3ce33b40e8eb14ba26f9caf98999', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 23:03:15')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15005) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 23:03:15' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:03:15', `updated_at` = '2008-12-16 23:03:15' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 23:03:15' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '1deeb445821999080150913dc58b204ada001111', `updated_at` = '2008-12-16 23:03:15' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:03:15' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:03:15', `remember_token` = 'b727bd7d500239c3db5dba737356e0a8745b5250', `updated_at` = '2008-12-16 23:03:15' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 23:03:15', `remember_token` = '84a047922904a3335e91228d9fe2e7e02ee9a267', `updated_at` = '2008-12-16 23:03:15' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 23:03:15', `remember_token` = '84a047922904a3335e91228d9fe2e7e02ee9a267', `updated_at` = '2008-12-16 23:03:15' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 23:03:16' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:03:16', `updated_at` = '2008-12-16 23:03:16' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:03:16', `remember_token` = 'c297f104c8204d614b34ade8c7fc116f9316d420', `updated_at` = '2008-12-16 23:03:16' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 23:03:16' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (51.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:03:16', `remember_token` = 'c297f104c8204d614b34ade8c7fc116f9316d420', `updated_at` = '2008-12-16 23:03:16' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 23:03:16' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 23:03:16' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-16 23:03:16', `state` = 'active', `updated_at` = '2008-12-16 23:03:16' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 23:03:16' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = 'foo-bar' [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '8dd58d87f4788e02eb6f4e5755c086f61c06f224', `updated_at` = '2008-12-16 23:03:16' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:03:16' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 23:03:16' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = NULL [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-16 23:03:16' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 23:03:16' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 18:03:18) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-16 23:03:18", updated_at: "2008-12-16 23:03:18">}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 23:03:18', `state` = 'active', `email` = 'activate@contactquarterly.com', `updated_at` = '2008-12-16 23:03:18' WHERE `user_id` = 8[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:03:18 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Your ContactImprov.net account has been activated
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactQuarterly.com account has been created for you.  In 
order to use your account, just go to this page:

  https://community.contactquarterly.com/

and log in using your email address:

  activate@contactquarterly.com

and this password:

  test

You can change your password once you have logged in.

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionindex
Completed in 119ms (DB: 49) | 302 Found [http://test.host/admin/users/activate/8?user%5Bemail%5D=activate%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 18:03:18) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/edit
Rendered shared/admin/_header (1.9ms)
  [4;35;1mPerson Load (0.3ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_person (2.3ms)
Rendered shared/admin/_footer (0.2ms)
Completed in 9ms (View: 7, DB: 30) | 200 OK [http://test.host/admin/users/edit/1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#index (for 0.0.0.0 at 2008-12-16 18:03:19) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` WHERE (state = 'active') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` WHERE (state = 'pending') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_user_account_requests` WHERE (state ='new') [0m
Rendering admin/users/index
Rendered shared/admin/_header (1.1ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 5, DB: 35) | 200 OK [http://test.host/admin/users]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list (for 0.0.0.0 at 2008-12-16 18:03:19) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` [0m
Rendering admin/users/list
Rendered shared/admin/_header (0.6ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 402) [0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 10) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 401) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
Rendered admin/users/_user_table (6.9ms)
Rendered admin/users/_user_table_js (0.2ms)
Rendered admin/users/_list_users (7.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 11ms (View: 9, DB: 85) | 200 OK [http://test.host/admin/users/list]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list_active (for 0.0.0.0 at 2008-12-16 18:03:19) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (state = 'active') [0m
Rendering admin/users/list_active
Rendered shared/admin/_header (0.6ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 402) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 10) [0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 401) [0m
Rendered admin/users/_user_table (4.6ms)
Rendered admin/users/_user_table_js (0.1ms)
Rendered admin/users/_list_users (5.1ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 7, DB: 27) | 200 OK [http://test.host/admin/users/list_active]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list_pending (for 0.0.0.0 at 2008-12-16 18:03:19) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (state = 'pending') [0m
Rendering admin/users/list_pending
Rendered shared/admin/_header (0.6ms)
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
Rendered admin/users/_user_table (1.5ms)
Rendered admin/users/_user_table_js (0.1ms)
Rendered admin/users/_list_users (1.9ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 78) | 200 OK [http://test.host/admin/users/list_pending]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#map (for 0.0.0.0 at 2008-12-16 18:03:19) [GET]
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (geocode_precision IS NOT NULL) [0m
Rendering admin/users/map
Rendered shared/admin/_header (0.7ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 4ms (View: 2, DB: 26) | 200 OK [http://test.host/admin/users/map]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#new (for 0.0.0.0 at 2008-12-16 18:03:19) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.7ms)
Rendered shared/_person (0.7ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 79) | 200 OK [http://test.host/admin/users/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 18:03:19) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.6ms)
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/admin/_footer (0.1ms)
Completed in 5ms (View: 3, DB: 24) | 200 OK [http://test.host/admin/users/reset_password/1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 18:03:19) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com", "person"=>{"first_name"=>"Firstname", "last_name"=>"Lastname"}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: person
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;36;1mPerson Create (0.2ms)[0m   [0;1mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-16 23:03:19', 1, 'Firstname', 'Lastname', '2008-12-16 23:03:19')[0m
  [4;35;1mPerson::Version Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `ci_person_versions`[0m
  [4;36;1mPerson::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 23:03:19', NULL, 1, 'Firstname', 15002, 'Lastname')[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('42c146af3169b8a8d387dd5bac9f6aebfe3efcd6', NULL, NULL, '2008-12-16 23:03:19', '0a515783adbb7f44ce715bb11b2e2d6443ce6535', NULL, 0, NULL, NULL, NULL, NULL, 15002, 'admin_users_create@contactquarterly.com', 'passive', '2008-12-16 23:03:19')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com' AND `ci_users`.user_id <> 15006) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'e17138812519b9ded1d08378a4e06648f300c861', `updated_at` = '2008-12-16 23:03:19' WHERE `user_id` = 15006[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:03:19' WHERE `user_id` = 15006[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:03:19 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Firstname Lastname -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/e17138812519b9ded1d08378a4e06648f300c861

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  admin_users_create@contactquarterly.com

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionindex
Completed in 22ms (DB: 75) | 302 Found [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test&user%5Bperson%5D%5Bfirst_name%5D=Firstname&user%5Bperson%5D%5Blast_name%5D=Lastname]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 18:03:19) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-16 23:03:19", updated_at: "2008-12-16 23:03:19">}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
Rendering admin/users/activate
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 25) | 200 OK [http://test.host/admin/users/activate/8?user%5Bemail%5D=activate%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Load (50.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 18:03:20) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 73) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 18:03:20) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.8ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 33) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 18:03:20) [PUT]
  Parameters: {"user"=>{"subscriber_address"=>{"postal_code"=>"60606", "street_address_line_1"=>"new_line_1", "street_address_line_2"=>"new_line_2", "city_name"=>"new_city", "us_state"=>{"name"=>"pa"}, "country_name"=>{"english_name"=>"United States"}}, "person"=>{"first_name"=>"", "last_name"=>""}}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering admin/users/edit
Rendered shared/admin/_header (0.7ms)
Rendered shared/_person (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 30) | 200 OK [http://test.host/admin/users/edit/1?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=&user%5Bsubscriber_address%5D%5Bcity_name%5D=new_city&user%5Bsubscriber_address%5D%5Bcountry_name%5D%5Benglish_name%5D=United+States&user%5Bsubscriber_address%5D%5Bpostal_code%5D=60606&user%5Bsubscriber_address%5D%5Bstreet_address_line_1%5D=new_line_1&user%5Bsubscriber_address%5D%5Bstreet_address_line_2%5D=new_line_2&user%5Bsubscriber_address%5D%5Bus_state%5D%5Bname%5D=pa]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:03:20', `updated_at` = '2008-12-16 23:03:20' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 18:03:20) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"bad_password", "password"=>"new_password"}, "id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 2, DB: 84) | 200 OK [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=bad_password]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:03:20', `updated_at` = '2008-12-16 23:03:20' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m


Processing Admin::UsersController#process_account_request (for 0.0.0.0 at 2008-12-16 18:03:20) [PUT]
  Parameters: {"account_request_id"=>"1", "user_account_request"=>{"ci_notes"=>"updated_notes"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Update (0.2ms)[0m   [0;1mUPDATE `ci_user_account_requests` SET `ci_notes` = 'updated_notes', `updated_at` = '2008-12-16 23:03:20' WHERE `user_account_request_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionlist_account_requests
Completed in 4ms (DB: 32) | 302 Found [http://test.host/admin/users/process_account_request?account_request_id=1&user_account_request%5Bci_notes%5D=updated_notes]
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:03:20', `updated_at` = '2008-12-16 23:03:20' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 18:03:20) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 23:03:20' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:03:20 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: New password for your ContactImprov.net account
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have reset the password on your Contact Quarterly online account.

Your new password is:

  new_password

To log on to your account, just go to:

  http://community.contactquarterly.com/

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionshowid1
Completed in 11ms (DB: 84) | 302 Found [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:03:20', `updated_at` = '2008-12-16 23:03:20' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 18:03:20) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 26) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:03:20', `remember_token` = '53c672c2afdcf8242f5d445eec495396c9b998df', `updated_at` = '2008-12-16 23:03:20' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 18:03:20) [GET]
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.9ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 3, DB: 86) | 200 OK [http://test.host/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:03:20', `remember_token` = '53c672c2afdcf8242f5d445eec495396c9b998df', `updated_at` = '2008-12-16 23:03:20' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 22:58:20', `updated_at` = '2008-12-16 23:03:20' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 18:03:20) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '53c672c2afdcf8242f5d445eec495396c9b998df') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 25) | 200 OK [http://test.host/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:03:21) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:03:21', `updated_at` = '2008-12-16 23:03:21' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 86) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:03:21) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:03:21', `updated_at` = '2008-12-16 23:03:21' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 28) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:03:21', `remember_token` = '7b1e6948b78d6214a0bcc95c7fff43c74e9e34de', `updated_at` = '2008-12-16 23:03:21' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 18:03:21) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '7b1e6948b78d6214a0bcc95c7fff43c74e9e34de') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:03:21', `updated_at` = '2008-12-16 23:03:21' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=7b1e6948b78d6214a0bcc95c7fff43c74e9e34de; path=/; expires=Tue, 30 Dec 2008 23:03:21 GMT
Redirected to /
Completed in 3ms (DB: 33) | 302 Found [http://test.host/session/new]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 18:03:21) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 82) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:03:21) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 36) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:03:21) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '47c86a3893bbb9d1abee0c847f06f3a0e21bb5ad', `updated_at` = '2008-12-16 23:03:21' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:03:21 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/47c86a3893bbb9d1abee0c847f06f3a0e21bb5ad

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 77) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:03:21) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 26) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:03:21) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 82) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:03:21) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 22) | 302 Found [http://test.host/session?email=&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:03:21) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 73) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:03:22) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"0", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:03:22', `updated_at` = '2008-12-16 23:03:22' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 27) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;35;1mUser Load (50.9ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:03:22) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:03:22', `updated_at` = '2008-12-16 23:03:22' WHERE `user_id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 73) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:03:22) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"1", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:03:22', `updated_at` = '2008-12-16 23:03:22' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:03:22', `remember_token` = '0be1d8f044e8ab9b0626f81b941c4c97d99d5dbb', `updated_at` = '2008-12-16 23:03:22' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=0be1d8f044e8ab9b0626f81b941c4c97d99d5dbb; path=/; expires=Tue, 30 Dec 2008 23:03:22 GMT
Redirected to /
Completed in 7ms (DB: 23) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:03:22) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '919f0a09d4d536275577db2af07124ae04f1fb06', `updated_at` = '2008-12-16 23:03:22' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:03:22 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/919f0a09d4d536275577db2af07124ae04f1fb06

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 31) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'd0ae7b85301d1330139f20e671f3d840eb788d47', `updated_at` = '2008-12-16 23:03:22' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:03:22' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 18:03:22) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"d0ae7b85301d1330139f20e671f3d840eb788d47"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'd0ae7b85301d1330139f20e671f3d840eb788d47') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-16 23:03:22', `state` = 'active', `updated_at` = '2008-12-16 23:03:22' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to actionindex
Completed in 7ms (DB: 92) | 302 Found [http://test.host/activate/d0ae7b85301d1330139f20e671f3d840eb788d47?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 18:03:22) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 30) | 200 OK [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 18:03:22) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "city_name"=>"new_city", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}}, "uar_email"=>{"address"=>"new_email@foo.com"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'new_email@foo.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson Create (0.1ms)[0m   [0;1mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-16 23:03:22', 1, 'first_name', 'last_name', '2008-12-16 23:03:22')[0m
  [4;35;1mPerson::Version Create (0.1ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 23:03:22', NULL, 1, 'first_name', 15003, 'last_name')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15003) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mEmail Load (0.3ms)[0m   [0mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mEmail Create (0.2ms)[0m   [0;1mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-16 23:03:22', 1, 1, 'new_email@foo.com', '2008-12-16 23:03:22')[0m
  [4;35;1mEmail::Version Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;36;1mEmail::Version Create (0.3ms)[0m   [0;1mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15001, NULL, '2008-12-16 23:03:22', 1, NULL, 1, 'new_email@foo.com')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: New Address 1, New Address 2
City: New City
State: 
Zip: 12345
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>New Address 1, New Address 2, New City, 12345, CA</name>
  <Status>
    <code>602</code>
    <request>geocode</request>
  </Status>
</Response></kml>
Caught an error during Google geocoding call: can't convert GeoKit::GeoLoc into String
  [4;35;1mLocation Create (0.4ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES('new_region', '12345', '2008-12-16 23:03:22', NULL, NULL, 1, 'new_address_1', 'new_address_2', NULL, 'new_city', NULL, 2, '2008-12-16 23:03:22')[0m
  [4;36;1mLocation::Version Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES('new_region', NULL, '12345', '2008-12-16 23:03:23', NULL, 15001, NULL, 1, 'new_address_1', 'new_address_2', NULL, 'new_city', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Create (0.2ms)[0m   [0;1mINSERT INTO `ci_user_account_requests` (`ci_notes`, `email_id`, `updated_at`, `location_id`, `person_id`, `state`, `created_at`) VALUES(NULL, 15001, '2008-12-16 23:03:23', 15001, 15003, 'new', '2008-12-16 23:03:23')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:03:23 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Account request for first_name last_name (new_email@foo.com)
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

ACCOUNT REQUEST
---------------

NAME:   first_name last_name
EMAIL:  new_email@foo.com

To approve or deny this account request, please go to:

  https://www.contactimprov.net/admin/users/list_account_requests
Redirected to actionaccount_requested
Completed in 287ms (DB: 87) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;36;1mUserAccountRequest Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` ORDER BY ci_user_account_requests.user_account_request_id DESC LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15003) [0m
  [4;36;1mEmail Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (`ci_emails`.`email_id` = 15001) [0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 15001) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:03:23) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = 'e2f958fe8a82f10c1bd300d5292d6294da3cdb9c', `updated_at` = '2008-12-16 23:03:23' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:03:23 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/e2f958fe8a82f10c1bd300d5292d6294da3cdb9c

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 8ms (DB: 33) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 18:03:23) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-16 23:03:23' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:03:23 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 12ms (View: 2, DB: 83) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 18:03:23) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 23:03:23' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 9ms (View: 2, DB: 27) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:03:23', `updated_at` = '2008-12-16 23:03:23' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 18:03:23) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"newfirst", "last_name"=>"newlast"}}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max(`ci_person_versions`.version) AS max_version FROM `ci_person_versions` WHERE (`ci_person_versions`.person_id = 1) [0m
  [4;36;1mPerson Update (0.2ms)[0m   [0;1mUPDATE `ci_people` SET `version` = 1, `last_name` = 'newlast', `first_name` = 'newfirst', `updated_at` = '2008-12-16 23:03:23' WHERE `person_id` = 1[0m
  [4;35;1mPerson::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 23:03:23', NULL, 1, 'newfirst', 1, 'newlast')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 11ms (DB: 89) | 302 Found [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=newfirst&user%5Bperson%5D%5Blast_name%5D=newlast]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'b00812f5bcebaf95fa549bee8c08527d9feb88d7', `updated_at` = '2008-12-16 23:03:23' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 18:03:23) [GET]
  Parameters: {"password_reset_code"=>"b00812f5bcebaf95fa549bee8c08527d9feb88d7"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'b00812f5bcebaf95fa549bee8c08527d9feb88d7') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 29) | 200 OK [http://test.host/reset_password/b00812f5bcebaf95fa549bee8c08527d9feb88d7]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '76ef245587df0aedc70b8a5690a97d21d8d2016d', `updated_at` = '2008-12-16 23:03:23' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:03:23' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 18:03:23) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"76ef245587df0aedc70b8a5690a97d21d8d2016d"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '76ef245587df0aedc70b8a5690a97d21d8d2016d') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 89) | 200 OK [http://test.host/activate/76ef245587df0aedc70b8a5690a97d21d8d2016d?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 18:03:23) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 1ms (DB: 27) | 302 Found [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 18:03:23) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "city_name"=>"new_city", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}}, "uar_email"=>{"address"=>""}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.4ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 4, DB: 30) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 18:03:24) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "city_name"=>"new_city", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}}, "uar_email"=>{"address"=>"new_email@foo.com"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>""}}
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.4ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 88) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:03:24) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:03:24 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 30) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:03:24) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '2f07de1dba7d6c34bbc3e6a23717686e84d0b46b', `updated_at` = '2008-12-16 23:03:24' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:03:24 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/2f07de1dba7d6c34bbc3e6a23717686e84d0b46b

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 10ms (View: 2, DB: 85) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:03:24) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.9ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 29) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:03:24) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 90) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:03:24) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 27) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 18:03:24) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 97) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 18:03:24) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 2, DB: 26) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (59.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 18:03:24) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 81) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 18:03:25) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 22) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 18:03:25) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 26) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 18:03:25) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"", "last_name"=>""}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering user/edit
Rendered shared/_header (0.7ms)
Rendered shared/_person (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 89) | 200 OK [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 18:03:25) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 25) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 18:03:25) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 83) | 200 OK [http://test.host/reset_password/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '3f0465958f1eb51e1fff4414ce0fa0277e1f8b4d', `updated_at` = '2008-12-16 23:03:25' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 18:03:25) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"3f0465958f1eb51e1fff4414ce0fa0277e1f8b4d"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '3f0465958f1eb51e1fff4414ce0fa0277e1f8b4d') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 26) | 200 OK [http://test.host/reset_password/3f0465958f1eb51e1fff4414ce0fa0277e1f8b4d?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 18:03:25) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 93) | 200 OK [http://test.host/activate/randomgarbage]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '9d80c55c233a3bde1491715a7c82755976d18f09', `updated_at` = '2008-12-16 23:03:25' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 18:03:25) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"9d80c55c233a3bde1491715a7c82755976d18f09"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '9d80c55c233a3bde1491715a7c82755976d18f09') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-16 23:03:25' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 28) | 200 OK [http://test.host/reset_password/9d80c55c233a3bde1491715a7c82755976d18f09?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:03:25', `updated_at` = '2008-12-16 23:03:25' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 18:03:25) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "city_name"=>"new_city", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}}, "uar_email"=>{"address"=>"quentin@contactimprov.org"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '656fe9eca06e68665b152d8ee5117df6dd94fa95', `updated_at` = '2008-12-16 23:03:25' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:03:25 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/656fe9eca06e68665b152d8ee5117df6dd94fa95

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 11ms (DB: 89) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=quentin%40contactimprov.org&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 18:03:26) [POST]
  Parameters: {"uar_location"=>{"postal_code"=>"12345", "street_address_line_1"=>"new_address_1", "street_address_line_2"=>"new_address_2", "city_name"=>"new_city", "us_state"=>{"name"=>"new_region"}, "country_name"=>{"english_name"=>"Canada"}}, "uar_email"=>{"address"=>"pending_user@contactimprov.org"}, "uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}}
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'pending_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'pending_user@contactimprov.org' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '5e16def20fc3d5f1888c0ed017a4d5e1eba52a39', `updated_at` = '2008-12-16 23:03:26' WHERE `user_id` = 8[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:03:26 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/5e16def20fc3d5f1888c0ed017a4d5e1eba52a39

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  pending_user@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 13ms (View: 3, DB: 27) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=pending_user%40contactimprov.org&uar_location%5Bcity_name%5D=new_city&uar_location%5Bcountry_name%5D%5Benglish_name%5D=Canada&uar_location%5Bpostal_code%5D=12345&uar_location%5Bstreet_address_line_1%5D=new_address_1&uar_location%5Bstreet_address_line_2%5D=new_address_2&uar_location%5Bus_state%5D%5Bname%5D=new_region&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '0a834af19bbd6d2a69f2276fce2bb187cd0c8988', `updated_at` = '2008-12-16 23:03:26' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:03:26' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 18:03:26) [GET]
  Parameters: {"activation_code"=>"0a834af19bbd6d2a69f2276fce2bb187cd0c8988"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '0a834af19bbd6d2a69f2276fce2bb187cd0c8988') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 31) | 200 OK [http://test.host/activate/0a834af19bbd6d2a69f2276fce2bb187cd0c8988]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCompany Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `ci_companies`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCompany Create (0.2ms)[0m   [0;1mINSERT INTO `ci_companies` (`name`, `updated_at`, `version`, `created_at`) VALUES('Foo', '2008-12-16 23:22:50', 1, '2008-12-16 23:22:50')[0m
  [4;35;1mCompany::Version Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `ci_company_versions`[0m
  [4;36;1mCompany::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_company_versions` (`name`, `updated_at`, `company_version_id`, `version`, `company_id`) VALUES('Foo', '2008-12-16 23:22:50', NULL, 1, 15000)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEmail Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mEmail Create (0.2ms)[0m   [0mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-16 23:22:51', 1, 1, 'charman@acm.org', '2008-12-16 23:22:51')[0m
  [4;36;1mEmail::Version Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;35;1mEmail::Version Create (0.4ms)[0m   [0mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15000, NULL, '2008-12-16 23:22:51', 1, NULL, 1, 'charman@acm.org')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: 
City: City Name
State: 
Zip: 
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>City Name, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Holy Name (Es), King, ON, Canada</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>CA</CountryNameCode><CountryName>Canada</CountryName><AdministrativeArea><AdministrativeAreaName>ON</AdministrativeAreaName><Locality><LocalityName>King</LocalityName><PostalCode><PostalCodeNumber>L7B</PostalCodeNumber><AddressLine>Holy Name (Es)</AddressLine></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-79.5391900,43.9247060,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mLocation Create (0.3ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES(NULL, NULL, '2008-12-16 23:22:51', NULL, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2, '2008-12-16 23:22:51')[0m
  [4;36;1mLocation::Version Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES(NULL, NULL, NULL, '2008-12-16 23:22:51', NULL, 15000, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 1) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
Google geocoding. Address: 100 Spear St, San Francisco, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Spear St, San Francisco, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Spear St, San Francisco, CA 94105, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Spear St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94105</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-122.3940000,37.7921500,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPhoneNumber Create (0.2ms)[0m   [0;1mINSERT INTO `ci_phone_numbers` (`for_entity_id`, `updated_at`, `number`, `version`, `created_at`) VALUES(NULL, '2008-12-16 23:22:52', '585-275-4822', 1, '2008-12-16 23:22:52')[0m
  [4;35;1mPhoneNumber::Version Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `ci_phone_number_versions`[0m
  [4;36;1mPhoneNumber::Version Create (0.3ms)[0m   [0;1mINSERT INTO `ci_phone_number_versions` (`phone_number_id`, `for_entity_id`, `updated_at`, `number`, `version`, `phone_number_version_id`) VALUES(15000, NULL, '2008-12-16 23:22:52', '585-275-4822', 1, NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mStudio Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `ci_studios`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStudio Create (0.2ms)[0m   [0;1mINSERT INTO `ci_studios` (`name`, `updated_at`, `version`, `created_at`) VALUES('Foo', '2008-12-16 23:22:52', 1, '2008-12-16 23:22:52')[0m
  [4;35;1mStudio::Version Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `ci_studio_versions`[0m
  [4;36;1mStudio::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_studio_versions` (`name`, `updated_at`, `studio_version_id`, `studio_id`, `version`) VALUES('Foo', '2008-12-16 23:22:52', NULL, 15000, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUrl Create (0.1ms)[0m   [0mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-16 23:22:53', 1, 'http://craigharman.net/', '2008-12-16 23:22:53')[0m
  [4;36;1mUrl::Version Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `ci_url_versions`[0m
  [4;35;1mUrl::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15000, NULL, '2008-12-16 23:22:53', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUrl Create (0.1ms)[0m   [0;1mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-16 23:22:53', 1, 'http://craigharman.net/', '2008-12-16 23:22:53')[0m
  [4;35;1mUrl::Version Create (0.1ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15001, NULL, '2008-12-16 23:22:53', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUrl Load (0.2ms)[0m   [0mSELECT * FROM `ci_urls` WHERE (`ci_urls`.`url_id` = 15001) [0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 23:22:54', `state` = 'active', `updated_at` = '2008-12-16 23:22:54' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:22:54', `updated_at` = '2008-12-16 23:22:54' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.5ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'd18e18dd2872f890c1eb77d60f8d9dc48bbc7b7a', `updated_at` = '2008-12-16 23:22:54' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:22:54' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('13caef9bb40ec695922b337315ebca2734704c3e', NULL, NULL, '2008-12-16 23:22:54', 'f92975f7cfe567ae7969b65f837f23ae4b3ffab7', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 23:22:54')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('f33f12294e3ea5e5f67ae6c739c993ab38cc5256', NULL, NULL, '2008-12-16 23:22:54', '3df416554dd7153dfe8c19a5e93e4c621646bac9', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 23:22:54')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 23:22:54', `state` = 'deleted', `updated_at` = '2008-12-16 23:22:54' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('fb59cc3203a2ec002db4c89215034c51306ec9da', NULL, NULL, '2008-12-16 23:22:54', '52d9d8dd1df92529dd689242ca1e09ee23b96da7', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 23:22:54')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15005) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 23:22:55' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:22:55', `updated_at` = '2008-12-16 23:22:55' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 23:22:55' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'b16b7fbd33f37da26162ce20ba924fc6df3caac3', `updated_at` = '2008-12-16 23:22:55' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:22:55' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:22:55', `remember_token` = '46453f1cbd28745128a5b99839fef942b80c87f8', `updated_at` = '2008-12-16 23:22:55' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 23:22:55', `remember_token` = '3346cbf1dfa241be432be5b791baecd72f0911aa', `updated_at` = '2008-12-16 23:22:55' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 23:22:55', `remember_token` = '3346cbf1dfa241be432be5b791baecd72f0911aa', `updated_at` = '2008-12-16 23:22:55' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 23:22:56' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:22:56', `updated_at` = '2008-12-16 23:22:56' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:22:56', `remember_token` = '7416f9d6d4dfb2761ab61c0c8ad26f8a5e81dddd', `updated_at` = '2008-12-16 23:22:56' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 23:22:56' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (50.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:22:56', `remember_token` = '7416f9d6d4dfb2761ab61c0c8ad26f8a5e81dddd', `updated_at` = '2008-12-16 23:22:56' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 23:22:56' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 23:22:56' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-16 23:22:56', `state` = 'active', `updated_at` = '2008-12-16 23:22:56' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 23:22:56' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = 'foo-bar' [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '377843f95d08741afed4d81b50b1b6cd4484dd76', `updated_at` = '2008-12-16 23:22:56' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:22:56' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 23:22:56' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = NULL [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-16 23:22:56' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 23:22:56' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 18:22:58) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-16 23:22:58", updated_at: "2008-12-16 23:22:58">}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 23:22:58', `state` = 'active', `email` = 'activate@contactquarterly.com', `updated_at` = '2008-12-16 23:22:58' WHERE `user_id` = 8[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:22:58 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Your ContactImprov.net account has been activated
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactQuarterly.com account has been created for you.  In 
order to use your account, just go to this page:

  https://community.contactquarterly.com/

and log in using your email address:

  activate@contactquarterly.com

and this password:

  test

You can change your password once you have logged in.

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionindex
Completed in 118ms (DB: 221) | 302 Found [http://test.host/admin/users/activate/8?user%5Bemail%5D=activate%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 18:22:58) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/edit
Rendered shared/admin/_header (1.7ms)
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_person (2.1ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 6, DB: 25) | 200 OK [http://test.host/admin/users/edit/1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#index (for 0.0.0.0 at 2008-12-16 18:22:58) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` WHERE (state = 'active') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` WHERE (state = 'pending') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_user_account_requests` WHERE (state ='new') [0m
Rendering admin/users/index
Rendered shared/admin/_header (0.7ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 6ms (View: 4, DB: 22) | 200 OK [http://test.host/admin/users]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list (for 0.0.0.0 at 2008-12-16 18:22:59) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` [0m
Rendering admin/users/list
Rendered shared/admin/_header (0.6ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 402) [0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 10) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 401) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
Rendered admin/users/_user_table (7.0ms)
Rendered admin/users/_user_table_js (0.2ms)
Rendered admin/users/_list_users (7.8ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 11ms (View: 9, DB: 80) | 200 OK [http://test.host/admin/users/list]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list_active (for 0.0.0.0 at 2008-12-16 18:22:59) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (state = 'active') [0m
Rendering admin/users/list_active
Rendered shared/admin/_header (0.6ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 402) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 10) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 401) [0m
Rendered admin/users/_user_table (4.2ms)
Rendered admin/users/_user_table_js (0.1ms)
Rendered admin/users/_list_users (4.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 6, DB: 24) | 200 OK [http://test.host/admin/users/list_active]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list_pending (for 0.0.0.0 at 2008-12-16 18:22:59) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (state = 'pending') [0m
Rendering admin/users/list_pending
Rendered shared/admin/_header (0.6ms)
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
Rendered admin/users/_user_table (1.5ms)
Rendered admin/users/_user_table_js (0.1ms)
Rendered admin/users/_list_users (1.9ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 75) | 200 OK [http://test.host/admin/users/list_pending]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#map (for 0.0.0.0 at 2008-12-16 18:22:59) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (geocode_precision IS NOT NULL) [0m
Rendering admin/users/map
Rendered shared/admin/_header (0.7ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 25) | 200 OK [http://test.host/admin/users/map]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#new (for 0.0.0.0 at 2008-12-16 18:22:59) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.7ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 73) | 200 OK [http://test.host/admin/users/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 18:22:59) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.6ms)
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/admin/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 25) | 200 OK [http://test.host/admin/users/reset_password/1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 18:22:59) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com", "person"=>{"first_name"=>"Firstname", "last_name"=>"Lastname"}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: person
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;36;1mPerson Create (0.2ms)[0m   [0;1mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-16 23:22:59', 1, 'Firstname', 'Lastname', '2008-12-16 23:22:59')[0m
  [4;35;1mPerson::Version Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `ci_person_versions`[0m
  [4;36;1mPerson::Version Create (0.3ms)[0m   [0;1mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 23:22:59', NULL, 1, 'Firstname', 15002, 'Lastname')[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('4af2195d4a48fc3df0feac7c9783005ed90cbd01', NULL, NULL, '2008-12-16 23:22:59', '4fac35130d1285298b3952eb9d9abdab69b7ff32', NULL, 0, NULL, NULL, NULL, NULL, 15002, 'admin_users_create@contactquarterly.com', 'passive', '2008-12-16 23:22:59')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.5ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com' AND `ci_users`.user_id <> 15006) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'ad184810f2bf847b0e7147bd252e9059b5df728f', `updated_at` = '2008-12-16 23:22:59' WHERE `user_id` = 15006[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:22:59' WHERE `user_id` = 15006[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:22:59 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Firstname Lastname -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/ad184810f2bf847b0e7147bd252e9059b5df728f

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  admin_users_create@contactquarterly.com

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionindex
Completed in 30ms (DB: 92) | 302 Found [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test&user%5Bperson%5D%5Bfirst_name%5D=Firstname&user%5Bperson%5D%5Blast_name%5D=Lastname]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 18:22:59) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-16 23:22:59", updated_at: "2008-12-16 23:22:59">}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
Rendering admin/users/activate
Rendered shared/admin/_header (0.7ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 29) | 200 OK [http://test.host/admin/users/activate/8?user%5Bemail%5D=activate%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Load (51.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 18:23:00) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.7ms)
Rendered shared/_person (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 81) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 18:23:00) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 26) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 18:23:00) [PUT]
  Parameters: {"user"=>{"subscriber_address"=>{"postal_code"=>"60606", "street_address_line_1"=>"new_line_1", "street_address_line_2"=>"new_line_2", "city_name"=>"new_city", "us_state"=>{"name"=>"pa"}, "country_name"=>{"english_name"=>"United States"}}, "person"=>{"first_name"=>"", "last_name"=>""}}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering admin/users/edit
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 25) | 200 OK [http://test.host/admin/users/edit/1?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=&user%5Bsubscriber_address%5D%5Bcity_name%5D=new_city&user%5Bsubscriber_address%5D%5Bcountry_name%5D%5Benglish_name%5D=United+States&user%5Bsubscriber_address%5D%5Bpostal_code%5D=60606&user%5Bsubscriber_address%5D%5Bstreet_address_line_1%5D=new_line_1&user%5Bsubscriber_address%5D%5Bstreet_address_line_2%5D=new_line_2&user%5Bsubscriber_address%5D%5Bus_state%5D%5Bname%5D=pa]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:23:00', `updated_at` = '2008-12-16 23:23:00' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 18:23:00) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"bad_password", "password"=>"new_password"}, "id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 2, DB: 85) | 200 OK [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=bad_password]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:23:00', `updated_at` = '2008-12-16 23:23:00' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUserAccountRequest Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m


Processing Admin::UsersController#process_account_request (for 0.0.0.0 at 2008-12-16 18:23:00) [PUT]
  Parameters: {"account_request_id"=>"1", "user_account_request"=>{"ci_notes"=>"updated_notes"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUserAccountRequest Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Update (0.2ms)[0m   [0;1mUPDATE `ci_user_account_requests` SET `ci_notes` = 'updated_notes', `updated_at` = '2008-12-16 23:23:00' WHERE `user_account_request_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionlist_account_requests
Completed in 3ms (DB: 29) | 302 Found [http://test.host/admin/users/process_account_request?account_request_id=1&user_account_request%5Bci_notes%5D=updated_notes]
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:23:00', `updated_at` = '2008-12-16 23:23:00' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 18:23:00) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 23:23:00' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:23:00 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: New password for your ContactImprov.net account
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have reset the password on your Contact Quarterly online account.

Your new password is:

  new_password

To log on to your account, just go to:

  http://community.contactquarterly.com/

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionshowid1
Completed in 10ms (DB: 82) | 302 Found [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:23:00', `updated_at` = '2008-12-16 23:23:00' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 18:23:00) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 3ms (DB: 26) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:23:00', `remember_token` = '0ff53a08eaaf105f7fc309662ac8412fc792f761', `updated_at` = '2008-12-16 23:23:00' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 18:23:00) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 85) | 200 OK [http://test.host/session/new]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:23:00', `remember_token` = '0ff53a08eaaf105f7fc309662ac8412fc792f761', `updated_at` = '2008-12-16 23:23:00' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 23:18:00', `updated_at` = '2008-12-16 23:23:00' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 18:23:00) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '0ff53a08eaaf105f7fc309662ac8412fc792f761') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 29) | 200 OK [http://test.host/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:23:01) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:23:01', `updated_at` = '2008-12-16 23:23:01' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 85) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:23:01) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:23:01', `updated_at` = '2008-12-16 23:23:01' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 22) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:23:01', `remember_token` = '58f9fb87a7481b437cc56859ccb3282dd83051fa', `updated_at` = '2008-12-16 23:23:01' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 18:23:01) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '58f9fb87a7481b437cc56859ccb3282dd83051fa') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:23:01', `updated_at` = '2008-12-16 23:23:01' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=58f9fb87a7481b437cc56859ccb3282dd83051fa; path=/; expires=Tue, 30 Dec 2008 23:23:01 GMT
Redirected to /
Completed in 3ms (DB: 30) | 302 Found [http://test.host/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 18:23:01) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 78) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:23:01) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 23) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:23:01) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'b9b1b9f39de4b30a9cefa8e83c60d865316d31a0', `updated_at` = '2008-12-16 23:23:01' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:23:01 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/b9b1b9f39de4b30a9cefa8e83c60d865316d31a0

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 73) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:23:01) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 27) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:23:01) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 74) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:23:01) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 24) | 302 Found [http://test.host/session?email=&password=]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:23:01) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 76) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:23:01) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"0", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:23:01', `updated_at` = '2008-12-16 23:23:01' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 27) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;35;1mUser Load (51.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:23:02) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:23:02', `updated_at` = '2008-12-16 23:23:02' WHERE `user_id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 81) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:23:02) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"1", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:23:02', `updated_at` = '2008-12-16 23:23:02' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:23:02', `remember_token` = '885266e179957d4fc90cba98420bccbe2e84f0eb', `updated_at` = '2008-12-16 23:23:02' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=885266e179957d4fc90cba98420bccbe2e84f0eb; path=/; expires=Tue, 30 Dec 2008 23:23:02 GMT
Redirected to /
Completed in 7ms (DB: 25) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:23:02) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'c075fae1d6647675f5b8bf12ca8bedabd5d05913', `updated_at` = '2008-12-16 23:23:02' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:23:02 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/c075fae1d6647675f5b8bf12ca8bedabd5d05913

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 7ms (DB: 31) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '90dc2ca59b965437579c418ac649ac460921c975', `updated_at` = '2008-12-16 23:23:02' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:23:02' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 18:23:02) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"90dc2ca59b965437579c418ac649ac460921c975"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '90dc2ca59b965437579c418ac649ac460921c975') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-16 23:23:02', `state` = 'active', `updated_at` = '2008-12-16 23:23:02' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to actionindex
Completed in 6ms (DB: 80) | 302 Found [http://test.host/activate/90dc2ca59b965437579c418ac649ac460921c975?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 18:23:02) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 3, DB: 31) | 200 OK [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 18:23:02) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"new_email@foo.com"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'new_email@foo.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Create (0.2ms)[0m   [0mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-16 23:23:02', 1, 'first_name', 'last_name', '2008-12-16 23:23:02')[0m
  [4;36;1mPerson::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 23:23:02', NULL, 1, 'first_name', 15003, 'last_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15003) [0m


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:23:02) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '610cf1525cd945f4f772cb08bfbfe326e91f52a6', `updated_at` = '2008-12-16 23:23:02' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:23:02 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/610cf1525cd945f4f772cb08bfbfe326e91f52a6

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 8ms (DB: 108) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 18:23:02) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-16 23:23:02' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:23:02 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 2, DB: 80) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 18:23:02) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 23:23:02' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 30) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:23:02', `updated_at` = '2008-12-16 23:23:02' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 18:23:03) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"newfirst", "last_name"=>"newlast"}}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max(`ci_person_versions`.version) AS max_version FROM `ci_person_versions` WHERE (`ci_person_versions`.person_id = 1) [0m
  [4;36;1mPerson Update (0.2ms)[0m   [0;1mUPDATE `ci_people` SET `version` = 1, `last_name` = 'newlast', `first_name` = 'newfirst', `updated_at` = '2008-12-16 23:23:03' WHERE `person_id` = 1[0m
  [4;35;1mPerson::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 23:23:03', NULL, 1, 'newfirst', 1, 'newlast')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 11ms (DB: 93) | 302 Found [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=newfirst&user%5Bperson%5D%5Blast_name%5D=newlast]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '4ae3afa7a247d4077e4856884e8ca3df96f324b3', `updated_at` = '2008-12-16 23:23:03' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 18:23:03) [GET]
  Parameters: {"password_reset_code"=>"4ae3afa7a247d4077e4856884e8ca3df96f324b3"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '4ae3afa7a247d4077e4856884e8ca3df96f324b3') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 30) | 200 OK [http://test.host/reset_password/4ae3afa7a247d4077e4856884e8ca3df96f324b3]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '838c754a77fc3f3769f9abb929d46b50c84d38c9', `updated_at` = '2008-12-16 23:23:03' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:23:03' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 18:23:03) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"838c754a77fc3f3769f9abb929d46b50c84d38c9"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '838c754a77fc3f3769f9abb929d46b50c84d38c9') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 3, DB: 33) | 200 OK [http://test.host/activate/838c754a77fc3f3769f9abb929d46b50c84d38c9?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 18:23:03) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 82) | 302 Found [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 18:23:03) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>""}}
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.4ms)
Rendered shared/_email (0.4ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 3, DB: 24) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 18:23:03) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>""}, "uar_email"=>{"address"=>"new_email@foo.com"}}
Rendering user/request_account
Rendered shared/_header (0.8ms)
Rendered shared/_person (0.7ms)
Rendered shared/_email (0.4ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 4, DB: 88) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:23:03) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:23:03 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 28) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:23:03) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '34428d9b6df71ab1ed5d70468f73e3844b9d0c68', `updated_at` = '2008-12-16 23:23:03' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:23:03 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/34428d9b6df71ab1ed5d70468f73e3844b9d0c68

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 9ms (View: 2, DB: 82) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:23:03) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 24) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:23:04) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 86) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:23:04) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 22) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;35;1mUser Load (54.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 18:23:04) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 77) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 18:23:04) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 3, DB: 25) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 18:23:04) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.1ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 23) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 18:23:04) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 82) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 18:23:04) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 26) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 18:23:04) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"", "last_name"=>""}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering user/edit
Rendered shared/_header (0.8ms)
Rendered shared/_person (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 88) | 200 OK [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 18:23:04) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 27) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 18:23:04) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 85) | 200 OK [http://test.host/reset_password/]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'a210c7c5398fc59e44ebda1243c336de0bac0df7', `updated_at` = '2008-12-16 23:23:05' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 18:23:05) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"a210c7c5398fc59e44ebda1243c336de0bac0df7"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'a210c7c5398fc59e44ebda1243c336de0bac0df7') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 33) | 200 OK [http://test.host/reset_password/a210c7c5398fc59e44ebda1243c336de0bac0df7?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 18:23:05) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 92) | 200 OK [http://test.host/activate/randomgarbage]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'a9a2d745481482dae59d203fb240b901d960c2e9', `updated_at` = '2008-12-16 23:23:05' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 18:23:05) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"a9a2d745481482dae59d203fb240b901d960c2e9"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'a9a2d745481482dae59d203fb240b901d960c2e9') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-16 23:23:05' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 29) | 200 OK [http://test.host/reset_password/a9a2d745481482dae59d203fb240b901d960c2e9?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:23:05', `updated_at` = '2008-12-16 23:23:05' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 18:23:05) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"quentin@contactimprov.org"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '2ef429a3aaeb077773b28cd960e2a17dad6294f7', `updated_at` = '2008-12-16 23:23:05' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:23:05 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/2ef429a3aaeb077773b28cd960e2a17dad6294f7

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 11ms (DB: 33) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=quentin%40contactimprov.org&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 18:23:05) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"pending_user@contactimprov.org"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'pending_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'pending_user@contactimprov.org' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '0c0c17fa8fa44003003fea0460eb4cf7a3659492', `updated_at` = '2008-12-16 23:23:05' WHERE `user_id` = 8[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:23:05 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/0c0c17fa8fa44003003fea0460eb4cf7a3659492

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  pending_user@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 3, DB: 88) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=pending_user%40contactimprov.org&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '1fa7ca381e1ab747eea9524ceaf302457e4839b4', `updated_at` = '2008-12-16 23:23:05' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:23:05' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 18:23:05) [GET]
  Parameters: {"activation_code"=>"1fa7ca381e1ab747eea9524ceaf302457e4839b4"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '1fa7ca381e1ab747eea9524ceaf302457e4839b4') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 33) | 200 OK [http://test.host/activate/1fa7ca381e1ab747eea9524ceaf302457e4839b4]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 18:23:36) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-16 23:23:36", updated_at: "2008-12-16 23:23:36">}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 23:23:36', `state` = 'active', `email` = 'activate@contactquarterly.com', `updated_at` = '2008-12-16 23:23:36' WHERE `user_id` = 8[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:23:36 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Your ContactImprov.net account has been activated
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactQuarterly.com account has been created for you.  In 
order to use your account, just go to this page:

  https://community.contactquarterly.com/

and log in using your email address:

  activate@contactquarterly.com

and this password:

  test

You can change your password once you have logged in.

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionindex
Completed in 119ms (DB: 55) | 302 Found [http://test.host/admin/users/activate/8?user%5Bemail%5D=activate%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 18:23:36) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/edit
Rendered shared/admin/_header (1.8ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_person (2.2ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 7, DB: 33) | 200 OK [http://test.host/admin/users/edit/1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#index (for 0.0.0.0 at 2008-12-16 18:23:36) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` WHERE (state = 'active') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` WHERE (state = 'pending') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_user_account_requests` WHERE (state ='new') [0m
Rendering admin/users/index
Rendered shared/admin/_header (0.7ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 4, DB: 30) | 200 OK [http://test.host/admin/users]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list (for 0.0.0.0 at 2008-12-16 18:23:36) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` [0m
Rendering admin/users/list
Rendered shared/admin/_header (0.7ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 402) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 10) [0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 401) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
Rendered admin/users/_user_table (7.0ms)
Rendered admin/users/_user_table_js (0.2ms)
Rendered admin/users/_list_users (7.8ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 11ms (View: 10, DB: 88) | 200 OK [http://test.host/admin/users/list]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list_active (for 0.0.0.0 at 2008-12-16 18:23:36) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (state = 'active') [0m
Rendering admin/users/list_active
Rendered shared/admin/_header (0.6ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 402) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 10) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 401) [0m
Rendered admin/users/_user_table (4.1ms)
Rendered admin/users/_user_table_js (0.1ms)
Rendered admin/users/_list_users (4.5ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 6, DB: 29) | 200 OK [http://test.host/admin/users/list_active]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list_pending (for 0.0.0.0 at 2008-12-16 18:23:36) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (state = 'pending') [0m
Rendering admin/users/list_pending
Rendered shared/admin/_header (0.6ms)
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
Rendered admin/users/_user_table (1.6ms)
Rendered admin/users/_user_table_js (0.1ms)
Rendered admin/users/_list_users (2.1ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 81) | 200 OK [http://test.host/admin/users/list_pending]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#map (for 0.0.0.0 at 2008-12-16 18:23:37) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (geocode_precision IS NOT NULL) [0m
Rendering admin/users/map
Rendered shared/admin/_header (0.9ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 4ms (View: 2, DB: 26) | 200 OK [http://test.host/admin/users/map]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#new (for 0.0.0.0 at 2008-12-16 18:23:37) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.7ms)
Rendered shared/_person (0.7ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 4ms (View: 4, DB: 78) | 200 OK [http://test.host/admin/users/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 18:23:37) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.6ms)
  [4;36;1mPerson Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/admin/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 29) | 200 OK [http://test.host/admin/users/reset_password/1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 18:23:37) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com", "person"=>{"first_name"=>"Firstname", "last_name"=>"Lastname"}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: person
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;36;1mPerson Create (0.2ms)[0m   [0;1mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-16 23:23:37', 1, 'Firstname', 'Lastname', '2008-12-16 23:23:37')[0m
  [4;35;1mPerson::Version Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `ci_person_versions`[0m
  [4;36;1mPerson::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 23:23:37', NULL, 1, 'Firstname', 15002, 'Lastname')[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('e17be1b7df7e835a07b29a6e4ce88bc670e34d31', NULL, NULL, '2008-12-16 23:23:37', 'e346bf076b0b4e9cd2bdd6ad8af85d463cb632d1', NULL, 0, NULL, NULL, NULL, NULL, 15002, 'admin_users_create@contactquarterly.com', 'passive', '2008-12-16 23:23:37')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com' AND `ci_users`.user_id <> 15003) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'dfa595c8cab4c06519786dcd218e31211050fa29', `updated_at` = '2008-12-16 23:23:37' WHERE `user_id` = 15003[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:23:37' WHERE `user_id` = 15003[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:23:37 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Firstname Lastname -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/dfa595c8cab4c06519786dcd218e31211050fa29

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  admin_users_create@contactquarterly.com

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionindex
Completed in 22ms (DB: 110) | 302 Found [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test&user%5Bperson%5D%5Bfirst_name%5D=Firstname&user%5Bperson%5D%5Blast_name%5D=Lastname]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 18:23:37) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-16 23:23:37", updated_at: "2008-12-16 23:23:37">}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
Rendering admin/users/activate
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 9ms (View: 3, DB: 34) | 200 OK [http://test.host/admin/users/activate/8?user%5Bemail%5D=activate%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Load (50.8ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 18:23:37) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 81) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 18:23:37) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.7ms)
Rendered shared/_person (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 35) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 18:23:37) [PUT]
  Parameters: {"user"=>{"subscriber_address"=>{"postal_code"=>"60606", "street_address_line_1"=>"new_line_1", "street_address_line_2"=>"new_line_2", "city_name"=>"new_city", "us_state"=>{"name"=>"pa"}, "country_name"=>{"english_name"=>"United States"}}, "person"=>{"first_name"=>"", "last_name"=>""}}, "id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering admin/users/edit
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 33) | 200 OK [http://test.host/admin/users/edit/1?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=&user%5Bsubscriber_address%5D%5Bcity_name%5D=new_city&user%5Bsubscriber_address%5D%5Bcountry_name%5D%5Benglish_name%5D=United+States&user%5Bsubscriber_address%5D%5Bpostal_code%5D=60606&user%5Bsubscriber_address%5D%5Bstreet_address_line_1%5D=new_line_1&user%5Bsubscriber_address%5D%5Bstreet_address_line_2%5D=new_line_2&user%5Bsubscriber_address%5D%5Bus_state%5D%5Bname%5D=pa]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:23:38', `updated_at` = '2008-12-16 23:23:38' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 18:23:38) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"bad_password", "password"=>"new_password"}, "id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.7ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 2, DB: 88) | 200 OK [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=bad_password]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:23:38', `updated_at` = '2008-12-16 23:23:38' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m


Processing Admin::UsersController#process_account_request (for 0.0.0.0 at 2008-12-16 18:23:38) [PUT]
  Parameters: {"account_request_id"=>"1", "user_account_request"=>{"ci_notes"=>"updated_notes"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Update (0.2ms)[0m   [0;1mUPDATE `ci_user_account_requests` SET `ci_notes` = 'updated_notes', `updated_at` = '2008-12-16 23:23:38' WHERE `user_account_request_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionlist_account_requests
Completed in 3ms (DB: 35) | 302 Found [http://test.host/admin/users/process_account_request?account_request_id=1&user_account_request%5Bci_notes%5D=updated_notes]
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:23:38', `updated_at` = '2008-12-16 23:23:38' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 18:23:38) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 23:23:38' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:23:38 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: New password for your ContactImprov.net account
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have reset the password on your Contact Quarterly online account.

Your new password is:

  new_password

To log on to your account, just go to:

  http://community.contactquarterly.com/

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionshowid1
Completed in 10ms (DB: 92) | 302 Found [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:23:38', `updated_at` = '2008-12-16 23:23:38' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 18:23:38) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 34) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:23:38', `remember_token` = '486ce9eb60e0388468591d3ee9fd4e12fc9fdeb9', `updated_at` = '2008-12-16 23:23:38' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 18:23:38) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.9ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 80) | 200 OK [http://test.host/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:23:38', `remember_token` = '486ce9eb60e0388468591d3ee9fd4e12fc9fdeb9', `updated_at` = '2008-12-16 23:23:38' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 23:18:38', `updated_at` = '2008-12-16 23:23:38' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 18:23:38) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '486ce9eb60e0388468591d3ee9fd4e12fc9fdeb9') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 33) | 200 OK [http://test.host/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:23:38) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:23:38', `updated_at` = '2008-12-16 23:23:38' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 86) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:23:38) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:23:38', `updated_at` = '2008-12-16 23:23:38' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 34) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:23:38', `remember_token` = '486ce9eb60e0388468591d3ee9fd4e12fc9fdeb9', `updated_at` = '2008-12-16 23:23:38' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 18:23:38) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '486ce9eb60e0388468591d3ee9fd4e12fc9fdeb9') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:23:38', `updated_at` = '2008-12-16 23:23:38' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=486ce9eb60e0388468591d3ee9fd4e12fc9fdeb9; path=/; expires=Tue, 30 Dec 2008 23:23:38 GMT
Redirected to /
Completed in 3ms (DB: 33) | 302 Found [http://test.host/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 18:23:39) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 92) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:23:39) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 31) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:23:39) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '12ddcd96b8c2c910bfa5aa4e9ce23e99b370f2b8', `updated_at` = '2008-12-16 23:23:39' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:23:39 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/12ddcd96b8c2c910bfa5aa4e9ce23e99b370f2b8

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 85) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:23:39) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 30) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:23:39) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 85) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:23:39) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 29) | 302 Found [http://test.host/session?email=&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:23:39) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 75) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:23:39) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"0", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:23:39', `updated_at` = '2008-12-16 23:23:39' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 30) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;35;1mUser Load (51.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:23:39) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:23:39', `updated_at` = '2008-12-16 23:23:39' WHERE `user_id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 83) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:23:40) [POST]
  Parameters: {"password"=>"test", "remember_me"=>"1", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:23:40', `updated_at` = '2008-12-16 23:23:40' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:23:40', `remember_token` = '8cb33cc46707387a811a9794639d96f34af97f93', `updated_at` = '2008-12-16 23:23:40' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=8cb33cc46707387a811a9794639d96f34af97f93; path=/; expires=Tue, 30 Dec 2008 23:23:40 GMT
Redirected to /
Completed in 7ms (DB: 30) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:23:40) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'b1e9caa80dc457f1639fd7c6463d248a7c4d6e62', `updated_at` = '2008-12-16 23:23:40' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:23:40 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/b1e9caa80dc457f1639fd7c6463d248a7c4d6e62

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 7ms (DB: 25) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'f4dac6513c099cd86b9ac38d6bddab60569ecb9b', `updated_at` = '2008-12-16 23:23:40' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:23:40' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 18:23:40) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"f4dac6513c099cd86b9ac38d6bddab60569ecb9b"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'f4dac6513c099cd86b9ac38d6bddab60569ecb9b') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-16 23:23:40', `state` = 'active', `updated_at` = '2008-12-16 23:23:40' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to actionindex
Completed in 7ms (DB: 88) | 302 Found [http://test.host/activate/f4dac6513c099cd86b9ac38d6bddab60569ecb9b?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 18:23:40) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 3, DB: 31) | 200 OK [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 18:23:40) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"new_email@foo.com"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'new_email@foo.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Create (0.2ms)[0m   [0mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-16 23:23:40', 1, 'first_name', 'last_name', '2008-12-16 23:23:40')[0m
  [4;36;1mPerson::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 23:23:40', NULL, 1, 'first_name', 15003, 'last_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15003) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEmail Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mEmail Create (0.2ms)[0m   [0mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-16 23:23:40', 1, 1, 'new_email@foo.com', '2008-12-16 23:23:40')[0m
  [4;36;1mEmail::Version Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;35;1mEmail::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15000, NULL, '2008-12-16 23:23:40', 1, NULL, 1, 'new_email@foo.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Create (0.4ms)[0m   [0;1mINSERT INTO `ci_user_account_requests` (`ci_notes`, `email_id`, `updated_at`, `location_id`, `person_id`, `state`, `created_at`) VALUES(NULL, 15000, '2008-12-16 23:23:40', NULL, 15003, 'new', '2008-12-16 23:23:40')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:23:40 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Account request for first_name last_name (new_email@foo.com)
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

ACCOUNT REQUEST
---------------

NAME:   first_name last_name
EMAIL:  new_email@foo.com

To approve or deny this account request, please go to:

  https://www.contactimprov.net/admin/users/list_account_requests
Redirected to actionaccount_requested
Completed in 23ms (DB: 95) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;36;1mUserAccountRequest Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` ORDER BY ci_user_account_requests.user_account_request_id DESC LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15003) [0m
  [4;36;1mEmail Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (`ci_emails`.`email_id` = 15000) [0m


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:23:40) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.7ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = 'bf7fe07bd9965f2d327c570206756de910b96b1f', `updated_at` = '2008-12-16 23:23:40' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:23:40 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/bf7fe07bd9965f2d327c570206756de910b96b1f

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 9ms (DB: 160) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 18:23:40) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-16 23:23:40' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:23:40 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 12ms (View: 2, DB: 94) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 18:23:41) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 23:23:41' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 31) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:23:41', `updated_at` = '2008-12-16 23:23:41' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 18:23:41) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"newfirst", "last_name"=>"newlast"}}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max(`ci_person_versions`.version) AS max_version FROM `ci_person_versions` WHERE (`ci_person_versions`.person_id = 1) [0m
  [4;36;1mPerson Update (0.3ms)[0m   [0;1mUPDATE `ci_people` SET `version` = 1, `last_name` = 'newlast', `first_name` = 'newfirst', `updated_at` = '2008-12-16 23:23:41' WHERE `person_id` = 1[0m
  [4;35;1mPerson::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 23:23:41', NULL, 1, 'newfirst', 1, 'newlast')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 15ms (DB: 96) | 302 Found [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=newfirst&user%5Bperson%5D%5Blast_name%5D=newlast]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'fc80cce387479cede59ddd8f292aae9382609d5c', `updated_at` = '2008-12-16 23:23:41' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 18:23:41) [GET]
  Parameters: {"password_reset_code"=>"fc80cce387479cede59ddd8f292aae9382609d5c"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'fc80cce387479cede59ddd8f292aae9382609d5c') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 35) | 200 OK [http://test.host/reset_password/fc80cce387479cede59ddd8f292aae9382609d5c]
  [4;35;1mUser Load (55.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'd2a763044e5e39117410051ff3aa589325ab5854', `updated_at` = '2008-12-16 23:23:41' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:23:41' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 18:23:41) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"d2a763044e5e39117410051ff3aa589325ab5854"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'd2a763044e5e39117410051ff3aa589325ab5854') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 88) | 200 OK [http://test.host/activate/d2a763044e5e39117410051ff3aa589325ab5854?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 18:23:41) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 32) | 302 Found [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 18:23:41) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>""}}
Rendering user/request_account
Rendered shared/_header (0.5ms)
Rendered shared/_person (0.4ms)
Rendered shared/_email (0.4ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 3, DB: 31) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 18:23:41) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>""}, "uar_email"=>{"address"=>"new_email@foo.com"}}
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/_email (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 4, DB: 87) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:23:41) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:23:41 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 33) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:23:42) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'b786fb922a251bffaa5980a0683fcc6629cd08c1', `updated_at` = '2008-12-16 23:23:42' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:23:42 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/b786fb922a251bffaa5980a0683fcc6629cd08c1

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 10ms (View: 2, DB: 86) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:23:42) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 29) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:23:42) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 90) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:23:42) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 31) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 18:23:42) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 2, DB: 90) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 18:23:42) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 31) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 18:23:42) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 3, DB: 30) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 18:23:42) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 95) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 18:23:42) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 29) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 18:23:43) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"", "last_name"=>""}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering user/edit
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 86) | 200 OK [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 18:23:43) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 35) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 18:23:43) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 1, DB: 91) | 200 OK [http://test.host/reset_password/]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'd2eeac2e357f445bdc65331b29983ed7ce8b398e', `updated_at` = '2008-12-16 23:23:43' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 18:23:43) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"d2eeac2e357f445bdc65331b29983ed7ce8b398e"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'd2eeac2e357f445bdc65331b29983ed7ce8b398e') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 34) | 200 OK [http://test.host/reset_password/d2eeac2e357f445bdc65331b29983ed7ce8b398e?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 18:23:43) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 85) | 200 OK [http://test.host/activate/randomgarbage]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'b1faf27abbd810387e7b5560e5a37dec84c35b98', `updated_at` = '2008-12-16 23:23:43' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 18:23:43) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"b1faf27abbd810387e7b5560e5a37dec84c35b98"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'b1faf27abbd810387e7b5560e5a37dec84c35b98') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-16 23:23:43' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 37) | 200 OK [http://test.host/reset_password/b1faf27abbd810387e7b5560e5a37dec84c35b98?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:23:43', `updated_at` = '2008-12-16 23:23:43' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (67.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 18:23:43) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"quentin@contactimprov.org"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = 'eb074ac819c7add4e5406f1d37b5ecb9e28a69a6', `updated_at` = '2008-12-16 23:23:43' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:23:43 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/eb074ac819c7add4e5406f1d37b5ecb9e28a69a6

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 9ms (DB: 104) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=quentin%40contactimprov.org&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 18:23:43) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"pending_user@contactimprov.org"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'pending_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'pending_user@contactimprov.org' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '3ac421a3d7d53c5d269a9534d167a774843df77f', `updated_at` = '2008-12-16 23:23:43' WHERE `user_id` = 8[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:23:43 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/3ac421a3d7d53c5d269a9534d167a774843df77f

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  pending_user@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.4ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 3, DB: 32) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=pending_user%40contactimprov.org&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '6e50bfc53834ddf49cba46d5199e96d5e73b7324', `updated_at` = '2008-12-16 23:23:44' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:23:44' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 18:23:44) [GET]
  Parameters: {"activation_code"=>"6e50bfc53834ddf49cba46d5199e96d5e73b7324"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '6e50bfc53834ddf49cba46d5199e96d5e73b7324') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 33) | 200 OK [http://test.host/activate/6e50bfc53834ddf49cba46d5199e96d5e73b7324]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCompany Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `ci_companies`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCompany Create (0.2ms)[0m   [0;1mINSERT INTO `ci_companies` (`name`, `updated_at`, `version`, `created_at`) VALUES('Foo', '2008-12-16 23:24:14', 1, '2008-12-16 23:24:14')[0m
  [4;35;1mCompany::Version Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `ci_company_versions`[0m
  [4;36;1mCompany::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_company_versions` (`name`, `updated_at`, `company_version_id`, `version`, `company_id`) VALUES('Foo', '2008-12-16 23:24:14', NULL, 1, 15000)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEmail Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mEmail Create (0.2ms)[0m   [0mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-16 23:24:15', 1, 1, 'charman@acm.org', '2008-12-16 23:24:15')[0m
  [4;36;1mEmail::Version Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;35;1mEmail::Version Create (0.4ms)[0m   [0mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15000, NULL, '2008-12-16 23:24:15', 1, NULL, 1, 'charman@acm.org')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: 
City: City Name
State: 
Zip: 
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>City Name, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Holy Name (Es), King, ON, Canada</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>CA</CountryNameCode><CountryName>Canada</CountryName><AdministrativeArea><AdministrativeAreaName>ON</AdministrativeAreaName><Locality><LocalityName>King</LocalityName><PostalCode><PostalCodeNumber>L7B</PostalCodeNumber><AddressLine>Holy Name (Es)</AddressLine></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-79.5391900,43.9247060,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mLocation Create (0.3ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES(NULL, NULL, '2008-12-16 23:24:15', NULL, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2, '2008-12-16 23:24:15')[0m
  [4;36;1mLocation::Version Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES(NULL, NULL, NULL, '2008-12-16 23:24:16', NULL, 15000, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 1) [0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
Google geocoding. Address: 100 Spear St, San Francisco, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Spear St, San Francisco, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Spear St, San Francisco, CA 94105, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Spear St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94105</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-122.3940000,37.7921500,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPhoneNumber Create (0.2ms)[0m   [0;1mINSERT INTO `ci_phone_numbers` (`for_entity_id`, `updated_at`, `number`, `version`, `created_at`) VALUES(NULL, '2008-12-16 23:24:16', '585-275-4822', 1, '2008-12-16 23:24:16')[0m
  [4;35;1mPhoneNumber::Version Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `ci_phone_number_versions`[0m
  [4;36;1mPhoneNumber::Version Create (0.3ms)[0m   [0;1mINSERT INTO `ci_phone_number_versions` (`phone_number_id`, `for_entity_id`, `updated_at`, `number`, `version`, `phone_number_version_id`) VALUES(15000, NULL, '2008-12-16 23:24:16', '585-275-4822', 1, NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mStudio Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `ci_studios`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStudio Create (0.3ms)[0m   [0;1mINSERT INTO `ci_studios` (`name`, `updated_at`, `version`, `created_at`) VALUES('Foo', '2008-12-16 23:24:17', 1, '2008-12-16 23:24:17')[0m
  [4;35;1mStudio::Version Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `ci_studio_versions`[0m
  [4;36;1mStudio::Version Create (0.4ms)[0m   [0;1mINSERT INTO `ci_studio_versions` (`name`, `updated_at`, `studio_version_id`, `studio_id`, `version`) VALUES('Foo', '2008-12-16 23:24:17', NULL, 15000, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUrl Create (0.3ms)[0m   [0mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-16 23:24:17', 1, 'http://craigharman.net/', '2008-12-16 23:24:17')[0m
  [4;36;1mUrl::Version Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `ci_url_versions`[0m
  [4;35;1mUrl::Version Create (0.4ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15000, NULL, '2008-12-16 23:24:17', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUrl Create (0.2ms)[0m   [0;1mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-16 23:24:17', 1, 'http://craigharman.net/', '2008-12-16 23:24:17')[0m
  [4;35;1mUrl::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15001, NULL, '2008-12-16 23:24:17', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUrl Load (0.2ms)[0m   [0mSELECT * FROM `ci_urls` WHERE (`ci_urls`.`url_id` = 15001) [0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 23:24:18', `state` = 'active', `updated_at` = '2008-12-16 23:24:18' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:24:18', `updated_at` = '2008-12-16 23:24:18' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '7e9279a26e67d92d762963c15966ebb3514cb135', `updated_at` = '2008-12-16 23:24:18' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:24:18' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('1adc1ccf8879b815bed7a34b2c4c02ea2085d4a8', NULL, NULL, '2008-12-16 23:24:18', '0ca49a9c26f3aec5181a667ab2a0d3bd79c58230', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 23:24:18')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('57dcb37c07511109be758310e3d1b1435f990e1d', NULL, NULL, '2008-12-16 23:24:18', 'e404dfa58e4fbd6a7f53fa53a0e654440dd18afc', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 23:24:18')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 23:24:18', `state` = 'deleted', `updated_at` = '2008-12-16 23:24:18' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('b1713a11a4d789a2f09b8f6427469c747cf037db', NULL, NULL, '2008-12-16 23:24:19', '07e12afac4a303d3a4f58b9c20ac63aa2afb0eca', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 23:24:19')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15005) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 23:24:19' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:24:19', `updated_at` = '2008-12-16 23:24:19' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 23:24:19' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '80b493a079ddb7a87379397ece8bc83ea69b3ada', `updated_at` = '2008-12-16 23:24:19' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:24:19' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:24:19', `remember_token` = '252d7a9459b3c3e00d725f9d4cf4fceabda51427', `updated_at` = '2008-12-16 23:24:19' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 23:24:19', `remember_token` = 'cd02422c9471779ab167764a88846f3593ce04b7', `updated_at` = '2008-12-16 23:24:19' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 23:24:19', `remember_token` = 'cd02422c9471779ab167764a88846f3593ce04b7', `updated_at` = '2008-12-16 23:24:19' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 23:24:20' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:24:20', `updated_at` = '2008-12-16 23:24:20' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:24:20', `remember_token` = '9595b2a716b16507e74ed84351d80004aad8f996', `updated_at` = '2008-12-16 23:24:20' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 23:24:20' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (51.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:24:20', `remember_token` = '9595b2a716b16507e74ed84351d80004aad8f996', `updated_at` = '2008-12-16 23:24:20' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 23:24:20' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 23:24:20' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-16 23:24:20', `state` = 'active', `updated_at` = '2008-12-16 23:24:20' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 23:24:20' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = 'foo-bar' [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'aab214a2cf01b5e19fbebd5baa57670122cd7390', `updated_at` = '2008-12-16 23:24:20' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:24:20' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 23:24:20' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = NULL [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-16 23:24:20' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 23:24:20' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 18:28:25) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-16 23:28:25", updated_at: "2008-12-16 23:28:25">}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;36;1mUser Exists (0.6ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 23:28:26', `state` = 'active', `email` = 'activate@contactquarterly.com', `updated_at` = '2008-12-16 23:28:26' WHERE `user_id` = 8[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:28:26 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Your ContactImprov.net account has been activated
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactQuarterly.com account has been created for you.  In 
order to use your account, just go to this page:

  https://community.contactquarterly.com/

and log in using your email address:

  activate@contactquarterly.com

and this password:

  test

You can change your password once you have logged in.

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionindex
Completed in 186ms (DB: 51) | 302 Found [http://test.host/admin/users/activate/8?user%5Bemail%5D=activate%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 18:28:26) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/edit
Rendered shared/admin/_header (1.8ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_person (2.1ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 6, DB: 38) | 200 OK [http://test.host/admin/users/edit/1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#index (for 0.0.0.0 at 2008-12-16 18:28:26) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` WHERE (state = 'active') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` WHERE (state = 'pending') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_user_account_requests` WHERE (state ='new') [0m
Rendering admin/users/index
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 6ms (View: 4, DB: 32) | 200 OK [http://test.host/admin/users]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list (for 0.0.0.0 at 2008-12-16 18:28:26) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` [0m
Rendering admin/users/list
Rendered shared/admin/_header (0.7ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 402) [0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 10) [0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 401) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
Rendered admin/users/_user_table (6.9ms)
Rendered admin/users/_user_table_js (0.2ms)
Rendered admin/users/_list_users (7.7ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 11ms (View: 9, DB: 87) | 200 OK [http://test.host/admin/users/list]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list_active (for 0.0.0.0 at 2008-12-16 18:28:26) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (state = 'active') [0m
Rendering admin/users/list_active
Rendered shared/admin/_header (0.6ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 402) [0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 10) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 401) [0m
Rendered admin/users/_user_table (4.2ms)
Rendered admin/users/_user_table_js (0.1ms)
Rendered admin/users/_list_users (4.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 6, DB: 32) | 200 OK [http://test.host/admin/users/list_active]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list_pending (for 0.0.0.0 at 2008-12-16 18:28:26) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (state = 'pending') [0m
Rendering admin/users/list_pending
Rendered shared/admin/_header (0.7ms)
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
Rendered admin/users/_user_table (1.4ms)
Rendered admin/users/_user_table_js (0.1ms)
Rendered admin/users/_list_users (1.9ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 77) | 200 OK [http://test.host/admin/users/list_pending]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#map (for 0.0.0.0 at 2008-12-16 18:28:26) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (geocode_precision IS NOT NULL) [0m
Rendering admin/users/map
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 25) | 200 OK [http://test.host/admin/users/map]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#new (for 0.0.0.0 at 2008-12-16 18:28:26) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.7ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 69) | 200 OK [http://test.host/admin/users/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 18:28:26) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.6ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/admin/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 22) | 200 OK [http://test.host/admin/users/reset_password/1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUserAccountRequest Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m


Processing Admin::UsersController#show_account_request (for 0.0.0.0 at 2008-12-16 18:28:27) [GET]
  Parameters: {"id"=>#<UserAccountRequest user_account_request_id: 1, state: "new", ci_notes: nil, person_id: nil, email_id: nil, location_id: nil, created_at: "2008-12-16 23:28:27", updated_at: "2008-12-16 23:28:27">}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUserAccountRequest Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
Rendering admin/users/show_account_request
Rendered shared/admin/_header (0.7ms)
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 18:28:27) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com", "person"=>{"first_name"=>"Firstname", "last_name"=>"Lastname"}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: person
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;36;1mPerson Create (0.2ms)[0m   [0;1mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-16 23:28:27', 1, 'Firstname', 'Lastname', '2008-12-16 23:28:27')[0m
  [4;35;1mPerson::Version Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `ci_person_versions`[0m
  [4;36;1mPerson::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 23:28:27', NULL, 1, 'Firstname', 15003, 'Lastname')[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('c0ba227d95fce46c365542456e6c0ad5e24f62f8', NULL, NULL, '2008-12-16 23:28:27', '02dfc273794eef7132c7bd855d0497dc593397cf', NULL, 0, NULL, NULL, NULL, NULL, 15003, 'admin_users_create@contactquarterly.com', 'passive', '2008-12-16 23:28:27')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com' AND `ci_users`.user_id <> 15003) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'af71dfa55f6c3c194d653cb80e8d2b0ed20038b1', `updated_at` = '2008-12-16 23:28:27' WHERE `user_id` = 15003[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:28:27' WHERE `user_id` = 15003[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:28:27 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Firstname Lastname -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/af71dfa55f6c3c194d653cb80e8d2b0ed20038b1

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  admin_users_create@contactquarterly.com

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionindex
Completed in 21ms (DB: 26) | 302 Found [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test&user%5Bperson%5D%5Bfirst_name%5D=Firstname&user%5Bperson%5D%5Blast_name%5D=Lastname]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (53.7ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 18:28:27) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-16 23:28:27", updated_at: "2008-12-16 23:28:27">}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
Rendering admin/users/activate
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 79) | 200 OK [http://test.host/admin/users/activate/8?user%5Bemail%5D=activate%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 18:28:27) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.7ms)
Rendered shared/_person (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 25) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 18:28:27) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 25) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 18:28:27) [PUT]
  Parameters: {"user"=>{"subscriber_address"=>{"postal_code"=>"60606", "street_address_line_1"=>"new_line_1", "street_address_line_2"=>"new_line_2", "city_name"=>"new_city", "us_state"=>{"name"=>"pa"}, "country_name"=>{"english_name"=>"United States"}}, "person"=>{"first_name"=>"", "last_name"=>""}}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering admin/users/edit
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 82) | 200 OK [http://test.host/admin/users/edit/1?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=&user%5Bsubscriber_address%5D%5Bcity_name%5D=new_city&user%5Bsubscriber_address%5D%5Bcountry_name%5D%5Benglish_name%5D=United+States&user%5Bsubscriber_address%5D%5Bpostal_code%5D=60606&user%5Bsubscriber_address%5D%5Bstreet_address_line_1%5D=new_line_1&user%5Bsubscriber_address%5D%5Bstreet_address_line_2%5D=new_line_2&user%5Bsubscriber_address%5D%5Bus_state%5D%5Bname%5D=pa]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:28:27', `updated_at` = '2008-12-16 23:28:27' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 18:28:27) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"bad_password", "password"=>"new_password"}, "id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 2, DB: 23) | 200 OK [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=bad_password]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:28:27', `updated_at` = '2008-12-16 23:28:27' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUserAccountRequest Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m


Processing Admin::UsersController#process_account_request (for 0.0.0.0 at 2008-12-16 18:28:27) [PUT]
  Parameters: {"account_request_id"=>"1", "user_account_request"=>{"ci_notes"=>"updated_notes"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUserAccountRequest Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Update (0.2ms)[0m   [0;1mUPDATE `ci_user_account_requests` SET `ci_notes` = 'updated_notes', `updated_at` = '2008-12-16 23:28:27' WHERE `user_account_request_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Redirected to actionlist_account_requests
Completed in 4ms (DB: 76) | 302 Found [http://test.host/admin/users/process_account_request?account_request_id=1&user_account_request%5Bci_notes%5D=updated_notes]
  [4;36;1mUserAccountRequest Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:28:27', `updated_at` = '2008-12-16 23:28:27' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 18:28:27) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 23:28:27' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:28:27 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: New password for your ContactImprov.net account
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have reset the password on your Contact Quarterly online account.

Your new password is:

  new_password

To log on to your account, just go to:

  http://community.contactquarterly.com/

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionshowid1
Completed in 9ms (DB: 26) | 302 Found [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:28:27', `updated_at` = '2008-12-16 23:28:27' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 18:28:28) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 75) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:28:28', `remember_token` = 'bf3e2469d911b500d168d82bbfde6544c9854084', `updated_at` = '2008-12-16 23:28:28' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 18:28:28) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 28) | 200 OK [http://test.host/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:28:28', `remember_token` = 'bf3e2469d911b500d168d82bbfde6544c9854084', `updated_at` = '2008-12-16 23:28:28' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 23:23:28', `updated_at` = '2008-12-16 23:28:28' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 18:28:28) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'bf3e2469d911b500d168d82bbfde6544c9854084') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 79) | 200 OK [http://test.host/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:28:28) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:28:28', `updated_at` = '2008-12-16 23:28:28' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 26) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:28:28) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:28:28', `updated_at` = '2008-12-16 23:28:28' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 4ms (DB: 27) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:28:28', `remember_token` = 'bf3e2469d911b500d168d82bbfde6544c9854084', `updated_at` = '2008-12-16 23:28:28' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 18:28:28) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'bf3e2469d911b500d168d82bbfde6544c9854084') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:28:28', `updated_at` = '2008-12-16 23:28:28' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=bf3e2469d911b500d168d82bbfde6544c9854084; path=/; expires=Tue, 30 Dec 2008 23:28:28 GMT
Redirected to /
Completed in 3ms (DB: 78) | 302 Found [http://test.host/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 18:28:28) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 24) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:28:28) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 4ms (DB: 77) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:28:28) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '6a08c3e4b1ebfe306b594a59bbbab4452b7026ad', `updated_at` = '2008-12-16 23:28:28' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:28:28 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/6a08c3e4b1ebfe306b594a59bbbab4452b7026ad

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 30) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:28:29) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 92) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:28:29) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 34) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:28:29) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 79) | 302 Found [http://test.host/session?email=&password=]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:28:29) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 34) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;35;1mUser Load (51.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:28:29) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org", "remember_me"=>"0"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:28:29', `updated_at` = '2008-12-16 23:28:29' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 80) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:28:29) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:28:29', `updated_at` = '2008-12-16 23:28:29' WHERE `user_id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 25) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:28:29) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org", "remember_me"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:28:29', `updated_at` = '2008-12-16 23:28:29' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:28:29', `remember_token` = '06ad0564db4fd9411b4d1435536500259029af07', `updated_at` = '2008-12-16 23:28:29' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=06ad0564db4fd9411b4d1435536500259029af07; path=/; expires=Tue, 30 Dec 2008 23:28:29 GMT
Redirected to /
Completed in 7ms (DB: 29) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:28:29) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'c874bdf5144f8ec8a3f178671f5e79cfdb0a9c09', `updated_at` = '2008-12-16 23:28:29' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:28:29 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/c874bdf5144f8ec8a3f178671f5e79cfdb0a9c09

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 9ms (DB: 85) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '197568af2f5a07e775eb2b9d6cbe6add4709093e', `updated_at` = '2008-12-16 23:28:29' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:28:29' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 18:28:29) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"197568af2f5a07e775eb2b9d6cbe6add4709093e"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '197568af2f5a07e775eb2b9d6cbe6add4709093e') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-16 23:28:29', `state` = 'active', `updated_at` = '2008-12-16 23:28:29' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to actionindex
Completed in 6ms (DB: 32) | 302 Found [http://test.host/activate/197568af2f5a07e775eb2b9d6cbe6add4709093e?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 18:28:30) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 84) | 200 OK [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 18:28:30) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"new_email@foo.com"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'new_email@foo.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Create (0.2ms)[0m   [0mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-16 23:28:30', 1, 'first_name', 'last_name', '2008-12-16 23:28:30')[0m
  [4;36;1mPerson::Version Create (0.1ms)[0m   [0;1mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 23:28:30', NULL, 1, 'first_name', 15004, 'last_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15004) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEmail Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mEmail Create (0.2ms)[0m   [0mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-16 23:28:30', 1, 1, 'new_email@foo.com', '2008-12-16 23:28:30')[0m
  [4;36;1mEmail::Version Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;35;1mEmail::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15001, NULL, '2008-12-16 23:28:30', 1, NULL, 1, 'new_email@foo.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Create (0.2ms)[0m   [0;1mINSERT INTO `ci_user_account_requests` (`ci_notes`, `email_id`, `updated_at`, `location_id`, `person_id`, `state`, `created_at`) VALUES(NULL, 15001, '2008-12-16 23:28:30', NULL, 15004, 'new', '2008-12-16 23:28:30')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:28:30 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Account request for first_name last_name (new_email@foo.com)
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

ACCOUNT REQUEST
---------------

NAME:   first_name last_name
EMAIL:  new_email@foo.com

To approve or deny this account request, please go to:

  https://www.contactimprov.net/admin/users/list_account_requests
Redirected to actionaccount_requested
Completed in 21ms (DB: 31) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;36;1mUserAccountRequest Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` ORDER BY ci_user_account_requests.user_account_request_id DESC LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15004) [0m
  [4;36;1mEmail Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (`ci_emails`.`email_id` = 15001) [0m


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:28:30) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = 'a767ab9fe9916d175ac107d4db70df1cd284f7e5', `updated_at` = '2008-12-16 23:28:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:28:30 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/a767ab9fe9916d175ac107d4db70df1cd284f7e5

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 8ms (DB: 85) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 18:28:30) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-16 23:28:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:28:30 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 2, DB: 32) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 18:28:30) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 23:28:30' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 9ms (View: 2, DB: 82) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:28:30', `updated_at` = '2008-12-16 23:28:30' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 18:28:30) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"newfirst", "last_name"=>"newlast"}}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max(`ci_person_versions`.version) AS max_version FROM `ci_person_versions` WHERE (`ci_person_versions`.person_id = 1) [0m
  [4;36;1mPerson Update (0.1ms)[0m   [0;1mUPDATE `ci_people` SET `version` = 1, `last_name` = 'newlast', `first_name` = 'newfirst', `updated_at` = '2008-12-16 23:28:30' WHERE `person_id` = 1[0m
  [4;35;1mPerson::Version Create (0.1ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 23:28:30', NULL, 1, 'newfirst', 1, 'newlast')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 10ms (DB: 28) | 302 Found [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=newfirst&user%5Bperson%5D%5Blast_name%5D=newlast]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Load (55.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'a5b103c8c1974df71b9bb98a29f5b81f6555b509', `updated_at` = '2008-12-16 23:28:30' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 18:28:30) [GET]
  Parameters: {"password_reset_code"=>"a5b103c8c1974df71b9bb98a29f5b81f6555b509"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'a5b103c8c1974df71b9bb98a29f5b81f6555b509') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 2, DB: 78) | 200 OK [http://test.host/reset_password/a5b103c8c1974df71b9bb98a29f5b81f6555b509]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'b2b5ce26844e8943d6bc308239e220e86bc1cfce', `updated_at` = '2008-12-16 23:28:30' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:28:30' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 18:28:30) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"b2b5ce26844e8943d6bc308239e220e86bc1cfce"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'b2b5ce26844e8943d6bc308239e220e86bc1cfce') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 3, DB: 26) | 200 OK [http://test.host/activate/b2b5ce26844e8943d6bc308239e220e86bc1cfce?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 18:28:30) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 25) | 302 Found [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 18:28:31) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>""}}
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.4ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 3, DB: 78) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 18:28:31) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>""}, "uar_email"=>{"address"=>"new_email@foo.com"}}
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 3, DB: 24) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:28:31) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:28:31 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 457) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:28:31) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '93adaf37266e61793d33124fe08dd32b1d68af42', `updated_at` = '2008-12-16 23:28:31' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:28:31 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/93adaf37266e61793d33124fe08dd32b1d68af42

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 10ms (View: 2, DB: 34) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:28:31) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 89) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:28:31) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.9ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 3, DB: 30) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:28:32) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 88) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 18:28:32) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 2, DB: 30) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 18:28:32) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.9ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 32) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 18:28:32) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 85) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 18:28:32) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 27) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 18:28:32) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 84) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 18:28:32) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"", "last_name"=>""}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering user/edit
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 31) | 200 OK [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 18:28:32) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 87) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 18:28:32) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 29) | 200 OK [http://test.host/reset_password/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '2b80fb3f91305e78fc7d83777d0ee578a72219b9', `updated_at` = '2008-12-16 23:28:33' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 18:28:33) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"2b80fb3f91305e78fc7d83777d0ee578a72219b9"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '2b80fb3f91305e78fc7d83777d0ee578a72219b9') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 89) | 200 OK [http://test.host/reset_password/2b80fb3f91305e78fc7d83777d0ee578a72219b9?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 18:28:33) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 23) | 200 OK [http://test.host/activate/randomgarbage]
  [4;36;1mUser Load (58.8ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '4a2ed64fb409d9d09d6608b2888db82947f69778', `updated_at` = '2008-12-16 23:28:33' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 18:28:33) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"4a2ed64fb409d9d09d6608b2888db82947f69778"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '4a2ed64fb409d9d09d6608b2888db82947f69778') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-16 23:28:33' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 83) | 200 OK [http://test.host/reset_password/4a2ed64fb409d9d09d6608b2888db82947f69778?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:28:33', `updated_at` = '2008-12-16 23:28:33' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 18:28:33) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"quentin@contactimprov.org"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = 'e91042e9203b7779ed8582d67237cadac93c5108', `updated_at` = '2008-12-16 23:28:33' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:28:33 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/e91042e9203b7779ed8582d67237cadac93c5108

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 9ms (DB: 23) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=quentin%40contactimprov.org&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 18:28:33) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"pending_user@contactimprov.org"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'pending_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'pending_user@contactimprov.org' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '09ee106ea118fcf7b587c2336ec9af01e35fc615', `updated_at` = '2008-12-16 23:28:33' WHERE `user_id` = 8[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:28:33 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/09ee106ea118fcf7b587c2336ec9af01e35fc615

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  pending_user@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 3, DB: 25) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=pending_user%40contactimprov.org&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '82ad21c6b502bbea2c10f9a3ffcdea8b5a91d38b', `updated_at` = '2008-12-16 23:28:33' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:28:33' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 18:28:33) [GET]
  Parameters: {"activation_code"=>"82ad21c6b502bbea2c10f9a3ffcdea8b5a91d38b"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '82ad21c6b502bbea2c10f9a3ffcdea8b5a91d38b') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 86) | 200 OK [http://test.host/activate/82ad21c6b502bbea2c10f9a3ffcdea8b5a91d38b]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCompany Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `ci_companies`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCompany Create (0.2ms)[0m   [0;1mINSERT INTO `ci_companies` (`name`, `updated_at`, `version`, `created_at`) VALUES('Foo', '2008-12-16 23:30:34', 1, '2008-12-16 23:30:34')[0m
  [4;35;1mCompany::Version Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `ci_company_versions`[0m
  [4;36;1mCompany::Version Create (0.3ms)[0m   [0;1mINSERT INTO `ci_company_versions` (`name`, `updated_at`, `company_version_id`, `version`, `company_id`) VALUES('Foo', '2008-12-16 23:30:34', NULL, 1, 15000)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEmail Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mEmail Create (0.2ms)[0m   [0mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-16 23:30:34', 1, 1, 'charman@acm.org', '2008-12-16 23:30:34')[0m
  [4;36;1mEmail::Version Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;35;1mEmail::Version Create (0.4ms)[0m   [0mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15001, NULL, '2008-12-16 23:30:34', 1, NULL, 1, 'charman@acm.org')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: 
City: City Name
State: 
Zip: 
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>City Name, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Holy Name (Es), King, ON, Canada</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>CA</CountryNameCode><CountryName>Canada</CountryName><AdministrativeArea><AdministrativeAreaName>ON</AdministrativeAreaName><Locality><LocalityName>King</LocalityName><PostalCode><PostalCodeNumber>L7B</PostalCodeNumber><AddressLine>Holy Name (Es)</AddressLine></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-79.5391900,43.9247060,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mLocation Create (0.3ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES(NULL, NULL, '2008-12-16 23:30:35', NULL, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2, '2008-12-16 23:30:35')[0m
  [4;36;1mLocation::Version Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.4ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES(NULL, NULL, NULL, '2008-12-16 23:30:35', NULL, 15000, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 1) [0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
Google geocoding. Address: 100 Spear St, San Francisco, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Spear St, San Francisco, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Spear St, San Francisco, CA 94105, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Spear St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94105</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-122.3940000,37.7921500,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPhoneNumber Create (0.2ms)[0m   [0;1mINSERT INTO `ci_phone_numbers` (`for_entity_id`, `updated_at`, `number`, `version`, `created_at`) VALUES(NULL, '2008-12-16 23:30:36', '585-275-4822', 1, '2008-12-16 23:30:36')[0m
  [4;35;1mPhoneNumber::Version Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `ci_phone_number_versions`[0m
  [4;36;1mPhoneNumber::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_phone_number_versions` (`phone_number_id`, `for_entity_id`, `updated_at`, `number`, `version`, `phone_number_version_id`) VALUES(15000, NULL, '2008-12-16 23:30:36', '585-275-4822', 1, NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mStudio Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `ci_studios`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStudio Create (0.2ms)[0m   [0;1mINSERT INTO `ci_studios` (`name`, `updated_at`, `version`, `created_at`) VALUES('Foo', '2008-12-16 23:30:36', 1, '2008-12-16 23:30:36')[0m
  [4;35;1mStudio::Version Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `ci_studio_versions`[0m
  [4;36;1mStudio::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_studio_versions` (`name`, `updated_at`, `studio_version_id`, `studio_id`, `version`) VALUES('Foo', '2008-12-16 23:30:36', NULL, 15000, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUrl Create (0.1ms)[0m   [0mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-16 23:30:36', 1, 'http://craigharman.net/', '2008-12-16 23:30:36')[0m
  [4;36;1mUrl::Version Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `ci_url_versions`[0m
  [4;35;1mUrl::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15000, NULL, '2008-12-16 23:30:36', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUrl Create (0.1ms)[0m   [0;1mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-16 23:30:36', 1, 'http://craigharman.net/', '2008-12-16 23:30:36')[0m
  [4;35;1mUrl::Version Create (0.1ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15001, NULL, '2008-12-16 23:30:36', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUrl Load (0.2ms)[0m   [0mSELECT * FROM `ci_urls` WHERE (`ci_urls`.`url_id` = 15001) [0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 23:30:37', `state` = 'active', `updated_at` = '2008-12-16 23:30:37' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:30:37', `updated_at` = '2008-12-16 23:30:37' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'e974267506cd3d107ef87b533f04dc69f527872a', `updated_at` = '2008-12-16 23:30:37' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:30:37' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('e1eeb15b9994774948fabfbc000aebc0b198d63b', NULL, NULL, '2008-12-16 23:30:37', '7161a7bac9168be71cee8c38a4654d51b05e506e', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 23:30:37')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('8b0951c11678ac0aca0b72a6fdb65042173769be', NULL, NULL, '2008-12-16 23:30:37', 'e36291f350467f93f88dd0fac9792ad787d9a840', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 23:30:37')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 23:30:37', `state` = 'deleted', `updated_at` = '2008-12-16 23:30:37' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('a45821c6c31be32dfcba6906dae2a819bb73f313', NULL, NULL, '2008-12-16 23:30:38', '4169e67234053ae49ae6939e0cb360963dab13f9', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 23:30:38')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15005) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 23:30:38' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:30:38', `updated_at` = '2008-12-16 23:30:38' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 23:30:38' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '50e9ed1e41aa0c2e49f07e145d1e4422cfb392b2', `updated_at` = '2008-12-16 23:30:38' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:30:38' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:30:38', `remember_token` = '1ed024a70b82cb769fd818b6101d4cc8388e2278', `updated_at` = '2008-12-16 23:30:38' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 23:30:38', `remember_token` = '8fa4e1708d86cd2ad76c5bc1fb368a8b2bbdff04', `updated_at` = '2008-12-16 23:30:38' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 23:30:38', `remember_token` = '8fa4e1708d86cd2ad76c5bc1fb368a8b2bbdff04', `updated_at` = '2008-12-16 23:30:38' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 23:30:39' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:30:39', `updated_at` = '2008-12-16 23:30:39' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:30:39', `remember_token` = 'afbe2f2999919855dcae4c166f626b5aa620ceb3', `updated_at` = '2008-12-16 23:30:39' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 23:30:39' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (50.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:30:39', `remember_token` = 'afbe2f2999919855dcae4c166f626b5aa620ceb3', `updated_at` = '2008-12-16 23:30:39' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 23:30:39' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 23:30:39' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-16 23:30:39', `state` = 'active', `updated_at` = '2008-12-16 23:30:39' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 23:30:39' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = 'foo-bar' [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'd66628c2fa24f06ff6ca9b0f633db970a7e40cfb', `updated_at` = '2008-12-16 23:30:39' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:30:39' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 23:30:39' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = NULL [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-16 23:30:39' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 23:30:39' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 18:30:41) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-16 23:30:41", updated_at: "2008-12-16 23:30:41">}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;36;1mUser Exists (0.5ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 23:30:41', `state` = 'active', `email` = 'activate@contactquarterly.com', `updated_at` = '2008-12-16 23:30:41' WHERE `user_id` = 8[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:30:41 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Your ContactImprov.net account has been activated
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactQuarterly.com account has been created for you.  In 
order to use your account, just go to this page:

  https://community.contactquarterly.com/

and log in using your email address:

  activate@contactquarterly.com

and this password:

  test

You can change your password once you have logged in.

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionindex
Completed in 120ms (DB: 49) | 302 Found [http://test.host/admin/users/activate/8?user%5Bemail%5D=activate%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 18:30:41) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/edit
Rendered shared/admin/_header (1.8ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_person (2.1ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 7, DB: 22) | 200 OK [http://test.host/admin/users/edit/1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#index (for 0.0.0.0 at 2008-12-16 18:30:41) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` WHERE (state = 'active') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` WHERE (state = 'pending') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_user_account_requests` WHERE (state ='new') [0m
Rendering admin/users/index
Rendered shared/admin/_header (0.7ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 6ms (View: 4, DB: 27) | 200 OK [http://test.host/admin/users]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list (for 0.0.0.0 at 2008-12-16 18:30:41) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` [0m
Rendering admin/users/list
Rendered shared/admin/_header (0.6ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 402) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 10) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 401) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
Rendered admin/users/_user_table (6.7ms)
Rendered admin/users/_user_table_js (0.2ms)
Rendered admin/users/_list_users (7.4ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 11ms (View: 9, DB: 82) | 200 OK [http://test.host/admin/users/list]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list_active (for 0.0.0.0 at 2008-12-16 18:30:42) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (state = 'active') [0m
Rendering admin/users/list_active
Rendered shared/admin/_header (0.6ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 402) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 10) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 401) [0m
Rendered admin/users/_user_table (3.9ms)
Rendered admin/users/_user_table_js (0.1ms)
Rendered admin/users/_list_users (4.3ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 6, DB: 26) | 200 OK [http://test.host/admin/users/list_active]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list_pending (for 0.0.0.0 at 2008-12-16 18:30:42) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (state = 'pending') [0m
Rendering admin/users/list_pending
Rendered shared/admin/_header (1.2ms)
  [4;36;1mPerson Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
Rendered admin/users/_user_table (2.3ms)
Rendered admin/users/_user_table_js (0.1ms)
Rendered admin/users/_list_users (3.0ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 9ms (View: 6, DB: 80) | 200 OK [http://test.host/admin/users/list_pending]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#map (for 0.0.0.0 at 2008-12-16 18:30:42) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (geocode_precision IS NOT NULL) [0m
Rendering admin/users/map
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 23) | 200 OK [http://test.host/admin/users/map]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#new (for 0.0.0.0 at 2008-12-16 18:30:42) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.7ms)
Rendered shared/_person (0.7ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 72) | 200 OK [http://test.host/admin/users/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 18:30:42) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.6ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/admin/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 22) | 200 OK [http://test.host/admin/users/reset_password/1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m


Processing Admin::UsersController#show_account_request (for 0.0.0.0 at 2008-12-16 18:30:42) [GET]
  Parameters: {"id"=>#<UserAccountRequest user_account_request_id: 1, state: "new", ci_notes: nil, person_id: nil, email_id: nil, location_id: nil, created_at: "2008-12-16 23:30:42", updated_at: "2008-12-16 23:30:42">}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
Rendering admin/users/show_account_request
Rendered shared/admin/_header (0.7ms)
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 18:30:42) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com", "person"=>{"first_name"=>"Firstname", "last_name"=>"Lastname"}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: person
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;36;1mPerson Create (0.2ms)[0m   [0;1mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-16 23:30:42', 1, 'Firstname', 'Lastname', '2008-12-16 23:30:42')[0m
  [4;35;1mPerson::Version Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `ci_person_versions`[0m
  [4;36;1mPerson::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 23:30:42', NULL, 1, 'Firstname', 15003, 'Lastname')[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('16d2fa4689ec1fdbfcdcdcfc4216c1dce171d063', NULL, NULL, '2008-12-16 23:30:42', '90d16a31a7940005e739a32de059974ca9c36489', NULL, 0, NULL, NULL, NULL, NULL, 15003, 'admin_users_create@contactquarterly.com', 'passive', '2008-12-16 23:30:42')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com' AND `ci_users`.user_id <> 15006) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'e0474b4b5169b9d2825249532dc6d75217e0ae63', `updated_at` = '2008-12-16 23:30:42' WHERE `user_id` = 15006[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:30:42' WHERE `user_id` = 15006[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:30:42 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Firstname Lastname -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/e0474b4b5169b9d2825249532dc6d75217e0ae63

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  admin_users_create@contactquarterly.com

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionindex
Completed in 21ms (DB: 33) | 302 Found [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test&user%5Bperson%5D%5Bfirst_name%5D=Firstname&user%5Bperson%5D%5Blast_name%5D=Lastname]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (55.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 18:30:42) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-16 23:30:42", updated_at: "2008-12-16 23:30:42">}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
Rendering admin/users/activate
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 9ms (View: 3, DB: 83) | 200 OK [http://test.host/admin/users/activate/8?user%5Bemail%5D=activate%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 18:30:42) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 30) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 18:30:43) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 31) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 18:30:43) [PUT]
  Parameters: {"user"=>{"subscriber_address"=>{"postal_code"=>"60606", "street_address_line_1"=>"new_line_1", "street_address_line_2"=>"new_line_2", "city_name"=>"new_city", "us_state"=>{"name"=>"pa"}, "country_name"=>{"english_name"=>"United States"}}, "person"=>{"first_name"=>"", "last_name"=>""}}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering admin/users/edit
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 81) | 200 OK [http://test.host/admin/users/edit/1?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=&user%5Bsubscriber_address%5D%5Bcity_name%5D=new_city&user%5Bsubscriber_address%5D%5Bcountry_name%5D%5Benglish_name%5D=United+States&user%5Bsubscriber_address%5D%5Bpostal_code%5D=60606&user%5Bsubscriber_address%5D%5Bstreet_address_line_1%5D=new_line_1&user%5Bsubscriber_address%5D%5Bstreet_address_line_2%5D=new_line_2&user%5Bsubscriber_address%5D%5Bus_state%5D%5Bname%5D=pa]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:30:43', `updated_at` = '2008-12-16 23:30:43' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 18:30:43) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"bad_password", "password"=>"new_password"}, "id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 2, DB: 27) | 200 OK [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=bad_password]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:30:43', `updated_at` = '2008-12-16 23:30:43' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m


Processing Admin::UsersController#process_account_request (for 0.0.0.0 at 2008-12-16 18:30:43) [PUT]
  Parameters: {"account_request_id"=>"1", "user_account_request"=>{"ci_notes"=>"updated_notes"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Update (0.2ms)[0m   [0;1mUPDATE `ci_user_account_requests` SET `ci_notes` = 'updated_notes', `updated_at` = '2008-12-16 23:30:43' WHERE `user_account_request_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionlist_account_requests
Completed in 4ms (DB: 80) | 302 Found [http://test.host/admin/users/process_account_request?account_request_id=1&user_account_request%5Bci_notes%5D=updated_notes]
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:30:43', `updated_at` = '2008-12-16 23:30:43' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 18:30:43) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 23:30:43' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:30:43 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: New password for your ContactImprov.net account
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have reset the password on your Contact Quarterly online account.

Your new password is:

  new_password

To log on to your account, just go to:

  http://community.contactquarterly.com/

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionshowid1
Completed in 10ms (DB: 27) | 302 Found [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:30:43', `updated_at` = '2008-12-16 23:30:43' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 18:30:43) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 78) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:30:43', `remember_token` = '5ff1e9f725444c39d515abcb8ec398173643be73', `updated_at` = '2008-12-16 23:30:43' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 18:30:43) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 29) | 200 OK [http://test.host/session/new]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:30:43', `remember_token` = '5ff1e9f725444c39d515abcb8ec398173643be73', `updated_at` = '2008-12-16 23:30:43' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 23:25:43', `updated_at` = '2008-12-16 23:30:43' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 18:30:43) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '5ff1e9f725444c39d515abcb8ec398173643be73') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 83) | 200 OK [http://test.host/session/new]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:30:43) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:30:43', `updated_at` = '2008-12-16 23:30:43' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 8ms (DB: 35) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:30:44) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:30:44', `updated_at` = '2008-12-16 23:30:44' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 27) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:30:44', `remember_token` = '6057327096b8267c909846001d9d99435648e806', `updated_at` = '2008-12-16 23:30:44' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 18:30:44) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '6057327096b8267c909846001d9d99435648e806') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:30:44', `updated_at` = '2008-12-16 23:30:44' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=6057327096b8267c909846001d9d99435648e806; path=/; expires=Tue, 30 Dec 2008 23:30:44 GMT
Redirected to /
Completed in 3ms (DB: 83) | 302 Found [http://test.host/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 18:30:44) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 31) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:30:44) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 73) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:30:44) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '2e54bd7219c71cd121290523211be3d97feb13ad', `updated_at` = '2008-12-16 23:30:44' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:30:44 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/2e54bd7219c71cd121290523211be3d97feb13ad

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 26) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:30:44) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 73) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:30:44) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 26) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:30:44) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 73) | 302 Found [http://test.host/session?email=&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:30:44) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 26) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;35;1mUser Load (50.7ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:30:44) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org", "remember_me"=>"0"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:30:44', `updated_at` = '2008-12-16 23:30:44' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 75) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:30:45) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:30:45', `updated_at` = '2008-12-16 23:30:45' WHERE `user_id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 22) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:30:45) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org", "remember_me"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:30:45', `updated_at` = '2008-12-16 23:30:45' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:30:45', `remember_token` = 'f869fc84e668c4fc52f2da5cda50a5fd5b28d332', `updated_at` = '2008-12-16 23:30:45' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=f869fc84e668c4fc52f2da5cda50a5fd5b28d332; path=/; expires=Tue, 30 Dec 2008 23:30:45 GMT
Redirected to /
Completed in 7ms (DB: 24) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:30:45) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'd97563820bf517fd48e575a2b054b8c8d4438720', `updated_at` = '2008-12-16 23:30:45' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:30:45 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/d97563820bf517fd48e575a2b054b8c8d4438720

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 77) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '05ac7dfe6631394d1e6ce5f77cb6267ea1073b98', `updated_at` = '2008-12-16 23:30:45' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:30:45' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 18:30:45) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"05ac7dfe6631394d1e6ce5f77cb6267ea1073b98"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '05ac7dfe6631394d1e6ce5f77cb6267ea1073b98') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-16 23:30:45', `state` = 'active', `updated_at` = '2008-12-16 23:30:45' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to actionindex
Completed in 6ms (DB: 34) | 302 Found [http://test.host/activate/05ac7dfe6631394d1e6ce5f77cb6267ea1073b98?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 18:30:45) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 77) | 200 OK [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 18:30:45) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"new_email@foo.com"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'new_email@foo.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Create (0.2ms)[0m   [0mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-16 23:30:45', 1, 'first_name', 'last_name', '2008-12-16 23:30:45')[0m
  [4;36;1mPerson::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 23:30:45', NULL, 1, 'first_name', 15004, 'last_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15004) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEmail Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mEmail Create (0.2ms)[0m   [0mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-16 23:30:45', 1, 1, 'new_email@foo.com', '2008-12-16 23:30:45')[0m
  [4;36;1mEmail::Version Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;35;1mEmail::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15002, NULL, '2008-12-16 23:30:45', 1, NULL, 1, 'new_email@foo.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Create (0.2ms)[0m   [0;1mINSERT INTO `ci_user_account_requests` (`ci_notes`, `email_id`, `updated_at`, `location_id`, `person_id`, `state`, `created_at`) VALUES(NULL, 15002, '2008-12-16 23:30:45', NULL, 15004, 'new', '2008-12-16 23:30:45')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:30:45 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Account request for first_name last_name (new_email@foo.com)
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

ACCOUNT REQUEST
---------------

NAME:   first_name last_name
EMAIL:  new_email@foo.com

To approve or deny this account request, please go to:

  https://www.contactimprov.net/admin/users/list_account_requests
Redirected to actionaccount_requested
Completed in 21ms (DB: 33) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;36;1mUserAccountRequest Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` ORDER BY ci_user_account_requests.user_account_request_id DESC LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15004) [0m
  [4;36;1mEmail Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (`ci_emails`.`email_id` = 15002) [0m


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:30:45) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '4669a557895588ff8e1b3670525611e3d718c8eb', `updated_at` = '2008-12-16 23:30:45' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:30:45 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/4669a557895588ff8e1b3670525611e3d718c8eb

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 12ms (DB: 91) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 18:30:45) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-16 23:30:45' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:30:45 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 2, DB: 28) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 18:30:45) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 23:30:45' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 90) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:30:45', `updated_at` = '2008-12-16 23:30:45' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 18:30:46) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"newfirst", "last_name"=>"newlast"}}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max(`ci_person_versions`.version) AS max_version FROM `ci_person_versions` WHERE (`ci_person_versions`.person_id = 1) [0m
  [4;36;1mPerson Update (0.2ms)[0m   [0;1mUPDATE `ci_people` SET `version` = 1, `last_name` = 'newlast', `first_name` = 'newfirst', `updated_at` = '2008-12-16 23:30:46' WHERE `person_id` = 1[0m
  [4;35;1mPerson::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 23:30:46', NULL, 1, 'newfirst', 1, 'newlast')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 10ms (DB: 27) | 302 Found [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=newfirst&user%5Bperson%5D%5Blast_name%5D=newlast]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Load (55.6ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '92922cb8fb1f61f7ca21e8b67aceb3f740cc0543', `updated_at` = '2008-12-16 23:30:46' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 18:30:46) [GET]
  Parameters: {"password_reset_code"=>"92922cb8fb1f61f7ca21e8b67aceb3f740cc0543"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '92922cb8fb1f61f7ca21e8b67aceb3f740cc0543') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 2, DB: 81) | 200 OK [http://test.host/reset_password/92922cb8fb1f61f7ca21e8b67aceb3f740cc0543]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'c8bf910459ced21fc38b8beff63e6c646631a857', `updated_at` = '2008-12-16 23:30:46' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:30:46' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 18:30:46) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"c8bf910459ced21fc38b8beff63e6c646631a857"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'c8bf910459ced21fc38b8beff63e6c646631a857') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 3, DB: 26) | 200 OK [http://test.host/activate/c8bf910459ced21fc38b8beff63e6c646631a857?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 18:30:46) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 28) | 302 Found [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 18:30:46) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>""}}
Rendering user/request_account
Rendered shared/_header (0.9ms)
Rendered shared/_person (0.9ms)
Rendered shared/_email (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 9ms (View: 6, DB: 86) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 18:30:46) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>""}, "uar_email"=>{"address"=>"new_email@foo.com"}}
Rendering user/request_account
Rendered shared/_header (0.8ms)
Rendered shared/_person (0.4ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 3, DB: 32) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:30:46) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:30:46 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 2, DB: 85) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:30:46) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'ddd83da646aa0b3bb0f0bfafb833ac3b463860c9', `updated_at` = '2008-12-16 23:30:46' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:30:46 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/ddd83da646aa0b3bb0f0bfafb833ac3b463860c9

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 10ms (View: 2, DB: 31) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:30:46) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 93) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:30:47) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 22) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:30:47) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 76) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 18:30:47) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 2, DB: 27) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 18:30:47) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 24) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 18:30:47) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 82) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 18:30:47) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.1ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 25) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 18:30:47) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 80) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 18:30:47) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"", "last_name"=>""}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering user/edit
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 23) | 200 OK [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 18:30:47) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 82) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 18:30:47) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 25) | 200 OK [http://test.host/reset_password/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '86d3907b3717732d2446774d11aebad7fc33742e', `updated_at` = '2008-12-16 23:30:48' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 18:30:48) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"86d3907b3717732d2446774d11aebad7fc33742e"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '86d3907b3717732d2446774d11aebad7fc33742e') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 89) | 200 OK [http://test.host/reset_password/86d3907b3717732d2446774d11aebad7fc33742e?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 18:30:48) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 28) | 200 OK [http://test.host/activate/randomgarbage]
  [4;36;1mUser Load (58.9ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '2ba244ce2cf8f91dbbd7471f348cd879322a992a', `updated_at` = '2008-12-16 23:30:48' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 18:30:48) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"2ba244ce2cf8f91dbbd7471f348cd879322a992a"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '2ba244ce2cf8f91dbbd7471f348cd879322a992a') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-16 23:30:48' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 90) | 200 OK [http://test.host/reset_password/2ba244ce2cf8f91dbbd7471f348cd879322a992a?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:30:48', `updated_at` = '2008-12-16 23:30:48' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 18:30:48) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"quentin@contactimprov.org"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '30335fd45c78a7de10aace5a825563af05cf1571', `updated_at` = '2008-12-16 23:30:48' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:30:48 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/30335fd45c78a7de10aace5a825563af05cf1571

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 9ms (DB: 29) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=quentin%40contactimprov.org&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 18:30:48) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"pending_user@contactimprov.org"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'pending_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'pending_user@contactimprov.org' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '32a511b1acb23ba2df45bcdec7b2e697d99b3cb5', `updated_at` = '2008-12-16 23:30:48' WHERE `user_id` = 8[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:30:48 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/32a511b1acb23ba2df45bcdec7b2e697d99b3cb5

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  pending_user@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 3, DB: 25) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=pending_user%40contactimprov.org&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '9d3fd899293ddff9958b0d805df1e5a2b6d184de', `updated_at` = '2008-12-16 23:30:48' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:30:48' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 18:30:48) [GET]
  Parameters: {"activation_code"=>"9d3fd899293ddff9958b0d805df1e5a2b6d184de"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '9d3fd899293ddff9958b0d805df1e5a2b6d184de') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 91) | 200 OK [http://test.host/activate/9d3fd899293ddff9958b0d805df1e5a2b6d184de]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCompany Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `ci_companies`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mCompany Create (0.2ms)[0m   [0;1mINSERT INTO `ci_companies` (`name`, `updated_at`, `version`, `created_at`) VALUES('Foo', '2008-12-16 23:32:19', 1, '2008-12-16 23:32:19')[0m
  [4;35;1mCompany::Version Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `ci_company_versions`[0m
  [4;36;1mCompany::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_company_versions` (`name`, `updated_at`, `company_version_id`, `version`, `company_id`) VALUES('Foo', '2008-12-16 23:32:19', NULL, 1, 15000)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEmail Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mEmail Create (0.2ms)[0m   [0mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-16 23:32:20', 1, 1, 'charman@acm.org', '2008-12-16 23:32:20')[0m
  [4;36;1mEmail::Version Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;35;1mEmail::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15001, NULL, '2008-12-16 23:32:20', 1, NULL, 1, 'charman@acm.org')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: 
City: City Name
State: 
Zip: 
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>City Name, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Holy Name (Es), King, ON, Canada</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>CA</CountryNameCode><CountryName>Canada</CountryName><AdministrativeArea><AdministrativeAreaName>ON</AdministrativeAreaName><Locality><LocalityName>King</LocalityName><PostalCode><PostalCodeNumber>L7B</PostalCodeNumber><AddressLine>Holy Name (Es)</AddressLine></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-79.5391900,43.9247060,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mLocation Create (0.3ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES(NULL, NULL, '2008-12-16 23:32:21', NULL, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2, '2008-12-16 23:32:21')[0m
  [4;36;1mLocation::Version Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES(NULL, NULL, NULL, '2008-12-16 23:32:21', NULL, 15000, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 1) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
Google geocoding. Address: 100 Spear St, San Francisco, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Spear St, San Francisco, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Spear St, San Francisco, CA 94105, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Spear St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94105</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-122.3940000,37.7921500,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPhoneNumber Create (0.2ms)[0m   [0;1mINSERT INTO `ci_phone_numbers` (`for_entity_id`, `updated_at`, `number`, `version`, `created_at`) VALUES(NULL, '2008-12-16 23:32:21', '585-275-4822', 1, '2008-12-16 23:32:21')[0m
  [4;35;1mPhoneNumber::Version Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `ci_phone_number_versions`[0m
  [4;36;1mPhoneNumber::Version Create (0.3ms)[0m   [0;1mINSERT INTO `ci_phone_number_versions` (`phone_number_id`, `for_entity_id`, `updated_at`, `number`, `version`, `phone_number_version_id`) VALUES(15000, NULL, '2008-12-16 23:32:21', '585-275-4822', 1, NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mStudio Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `ci_studios`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStudio Create (0.3ms)[0m   [0;1mINSERT INTO `ci_studios` (`name`, `updated_at`, `version`, `created_at`) VALUES('Foo', '2008-12-16 23:32:22', 1, '2008-12-16 23:32:22')[0m
  [4;35;1mStudio::Version Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `ci_studio_versions`[0m
  [4;36;1mStudio::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_studio_versions` (`name`, `updated_at`, `studio_version_id`, `studio_id`, `version`) VALUES('Foo', '2008-12-16 23:32:22', NULL, 15000, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUrl Create (0.3ms)[0m   [0mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-16 23:32:22', 1, 'http://craigharman.net/', '2008-12-16 23:32:22')[0m
  [4;36;1mUrl::Version Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_url_versions`[0m
  [4;35;1mUrl::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15000, NULL, '2008-12-16 23:32:22', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUrl Create (0.2ms)[0m   [0;1mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-16 23:32:22', 1, 'http://craigharman.net/', '2008-12-16 23:32:22')[0m
  [4;35;1mUrl::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15001, NULL, '2008-12-16 23:32:22', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUrl Load (0.2ms)[0m   [0mSELECT * FROM `ci_urls` WHERE (`ci_urls`.`url_id` = 15001) [0m
  [4;36;1mUsState Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;35;1mUsState Load (0.3ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 23:32:23', `state` = 'active', `updated_at` = '2008-12-16 23:32:23' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:32:23', `updated_at` = '2008-12-16 23:32:23' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '5e780f9fba2a3c3a98ffd1cf93941df85d5dff8f', `updated_at` = '2008-12-16 23:32:23' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:32:23' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('7e97194bf99a1d6ea282fa8c694524623b9b46ee', NULL, NULL, '2008-12-16 23:32:23', '43a69aa9e15ee0ce0432af0e3164c27c72a70d34', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-16 23:32:23')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('38f5af9a3ba001fd51efffc417dee4cf1323394c', NULL, NULL, '2008-12-16 23:32:23', '17bd6d4e479d98143994b57e5b576233c76fba76', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-16 23:32:23')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `deleted_at` = '2008-12-16 23:32:24', `state` = 'deleted', `updated_at` = '2008-12-16 23:32:24' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('94184e53d157f71bc40a9c7c99e22ed76fd93b5d', NULL, NULL, '2008-12-16 23:32:24', '0fe2d0593cdffa125003d8c1b214221b24327af6', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-16 23:32:24')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15005) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-16 23:32:24' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:32:24', `updated_at` = '2008-12-16 23:32:24' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 23:32:25' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.8ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '25e5de55a2dd44130661c61b4312a09f091183de', `updated_at` = '2008-12-16 23:32:25' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:32:25' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:32:25', `remember_token` = '34f2628445d744d869eedd98bef3f8ed263b25d7', `updated_at` = '2008-12-16 23:32:25' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 23:32:25', `remember_token` = '9858f54e45a032c7702ad4fa2296e512cc4ea919', `updated_at` = '2008-12-16 23:32:25' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-23 23:32:25', `remember_token` = '9858f54e45a032c7702ad4fa2296e512cc4ea919', `updated_at` = '2008-12-16 23:32:25' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-16 23:32:26' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:32:26', `updated_at` = '2008-12-16 23:32:26' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:32:26', `remember_token` = '2341da95335d7dcc38ee1e15828f53fd73da7ee6', `updated_at` = '2008-12-16 23:32:26' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 23:32:26' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (49.9ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:32:26', `remember_token` = '2341da95335d7dcc38ee1e15828f53fd73da7ee6', `updated_at` = '2008-12-16 23:32:26' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-16 23:32:26' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 23:32:26' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-16 23:32:26', `state` = 'active', `updated_at` = '2008-12-16 23:32:26' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 23:32:26' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = 'foo-bar' [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '2cef68a0896132097d37c0124ecddd73032f9cc2', `updated_at` = '2008-12-16 23:32:26' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:32:26' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 23:32:26' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = NULL [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-16 23:32:26' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-16 23:32:26' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 18:32:28) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-16 23:32:28", updated_at: "2008-12-16 23:32:28">}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-16 23:32:28', `state` = 'active', `email` = 'activate@contactquarterly.com', `updated_at` = '2008-12-16 23:32:28' WHERE `user_id` = 8[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:32:28 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Your ContactImprov.net account has been activated
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactQuarterly.com account has been created for you.  In 
order to use your account, just go to this page:

  https://community.contactquarterly.com/

and log in using your email address:

  activate@contactquarterly.com

and this password:

  test

You can change your password once you have logged in.

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionindex
Completed in 119ms (DB: 44) | 302 Found [http://test.host/admin/users/activate/8?user%5Bemail%5D=activate%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 18:32:28) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/edit
Rendered shared/admin/_header (1.7ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_person (2.1ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 6, DB: 25) | 200 OK [http://test.host/admin/users/edit/1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#index (for 0.0.0.0 at 2008-12-16 18:32:28) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` WHERE (state = 'active') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` WHERE (state = 'pending') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_user_account_requests` WHERE (state ='new') [0m
Rendering admin/users/index
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 6ms (View: 4, DB: 22) | 200 OK [http://test.host/admin/users]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list (for 0.0.0.0 at 2008-12-16 18:32:29) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` [0m
Rendering admin/users/list
Rendered shared/admin/_header (0.6ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 402) [0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 10) [0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 401) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
Rendered admin/users/_user_table (7.5ms)
Rendered admin/users/_user_table_js (0.2ms)
Rendered admin/users/_list_users (8.2ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 12ms (View: 10, DB: 81) | 200 OK [http://test.host/admin/users/list]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list_active (for 0.0.0.0 at 2008-12-16 18:32:29) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (state = 'active') [0m
Rendering admin/users/list_active
Rendered shared/admin/_header (0.7ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 402) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 10) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 401) [0m
Rendered admin/users/_user_table (3.9ms)
Rendered admin/users/_user_table_js (0.1ms)
Rendered admin/users/_list_users (4.4ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 6, DB: 22) | 200 OK [http://test.host/admin/users/list_active]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list_pending (for 0.0.0.0 at 2008-12-16 18:32:29) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (state = 'pending') [0m
Rendering admin/users/list_pending
Rendered shared/admin/_header (0.6ms)
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
Rendered admin/users/_user_table (1.4ms)
Rendered admin/users/_user_table_js (0.1ms)
Rendered admin/users/_list_users (1.8ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 5ms (View: 3, DB: 71) | 200 OK [http://test.host/admin/users/list_pending]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#map (for 0.0.0.0 at 2008-12-16 18:32:29) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (geocode_precision IS NOT NULL) [0m
Rendering admin/users/map
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 22) | 200 OK [http://test.host/admin/users/map]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#new (for 0.0.0.0 at 2008-12-16 18:32:29) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.7ms)
Rendered shared/_person (0.7ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 69) | 200 OK [http://test.host/admin/users/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 18:32:29) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.7ms)
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/admin/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 25) | 200 OK [http://test.host/admin/users/reset_password/1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m


Processing Admin::UsersController#show_account_request (for 0.0.0.0 at 2008-12-16 18:32:29) [GET]
  Parameters: {"id"=>#<UserAccountRequest user_account_request_id: 1, state: "new", ci_notes: nil, person_id: 1, email_id: 101, location_id: nil, created_at: "2008-12-16 23:32:29", updated_at: "2008-12-16 23:32:29">}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
Rendering admin/users/show_account_request
Rendered shared/admin/_header (0.6ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mEmail Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (`ci_emails`.`email_id` = 101) [0m
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 6, DB: 79) | 200 OK [http://test.host/admin/users/show_account_request/1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 18:32:29) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com", "person"=>{"first_name"=>"Firstname", "last_name"=>"Lastname"}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: person
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;36;1mPerson Create (0.2ms)[0m   [0;1mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-16 23:32:29', 1, 'Firstname', 'Lastname', '2008-12-16 23:32:29')[0m
  [4;35;1mPerson::Version Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `ci_person_versions`[0m
  [4;36;1mPerson::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 23:32:29', NULL, 1, 'Firstname', 15003, 'Lastname')[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('1c0e91c988f28db663f534de0ac276cb56bbdd40', NULL, NULL, '2008-12-16 23:32:29', '92f28825bb054e04a4f9c3e57b30b88033474196', NULL, 0, NULL, NULL, NULL, NULL, 15003, 'admin_users_create@contactquarterly.com', 'passive', '2008-12-16 23:32:29')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com' AND `ci_users`.user_id <> 15006) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'e1fcf0a2b776c76810e57cb1300590d488f4c852', `updated_at` = '2008-12-16 23:32:29' WHERE `user_id` = 15006[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:32:29' WHERE `user_id` = 15006[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:32:29 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Firstname Lastname -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/e1fcf0a2b776c76810e57cb1300590d488f4c852

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  admin_users_create@contactquarterly.com

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionindex
Completed in 21ms (DB: 34) | 302 Found [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test&user%5Bperson%5D%5Bfirst_name%5D=Firstname&user%5Bperson%5D%5Blast_name%5D=Lastname]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (52.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 18:32:29) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-16 23:32:29", updated_at: "2008-12-16 23:32:29">}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
Rendering admin/users/activate
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 82) | 200 OK [http://test.host/admin/users/activate/8?user%5Bemail%5D=activate%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 18:32:30) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 26) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 18:32:30) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 34) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 18:32:30) [PUT]
  Parameters: {"user"=>{"subscriber_address"=>{"postal_code"=>"60606", "street_address_line_1"=>"new_line_1", "street_address_line_2"=>"new_line_2", "city_name"=>"new_city", "us_state"=>{"name"=>"pa"}, "country_name"=>{"english_name"=>"United States"}}, "person"=>{"first_name"=>"", "last_name"=>""}}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering admin/users/edit
Rendered shared/admin/_header (0.8ms)
Rendered shared/_person (0.5ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 83) | 200 OK [http://test.host/admin/users/edit/1?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=&user%5Bsubscriber_address%5D%5Bcity_name%5D=new_city&user%5Bsubscriber_address%5D%5Bcountry_name%5D%5Benglish_name%5D=United+States&user%5Bsubscriber_address%5D%5Bpostal_code%5D=60606&user%5Bsubscriber_address%5D%5Bstreet_address_line_1%5D=new_line_1&user%5Bsubscriber_address%5D%5Bstreet_address_line_2%5D=new_line_2&user%5Bsubscriber_address%5D%5Bus_state%5D%5Bname%5D=pa]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:32:30', `updated_at` = '2008-12-16 23:32:30' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 18:32:30) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"bad_password", "password"=>"new_password"}, "id"=>"1"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 45) | 200 OK [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=bad_password]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:32:30', `updated_at` = '2008-12-16 23:32:30' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m


Processing Admin::UsersController#process_account_request (for 0.0.0.0 at 2008-12-16 18:32:30) [PUT]
  Parameters: {"account_request_id"=>"1", "user_account_request"=>{"ci_notes"=>"updated_notes"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Update (0.2ms)[0m   [0;1mUPDATE `ci_user_account_requests` SET `ci_notes` = 'updated_notes', `updated_at` = '2008-12-16 23:32:30' WHERE `user_account_request_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionlist_account_requests
Completed in 3ms (DB: 85) | 302 Found [http://test.host/admin/users/process_account_request?account_request_id=1&user_account_request%5Bci_notes%5D=updated_notes]
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:32:30', `updated_at` = '2008-12-16 23:32:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 18:32:30) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 23:32:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:32:30 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: New password for your ContactImprov.net account
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have reset the password on your Contact Quarterly online account.

Your new password is:

  new_password

To log on to your account, just go to:

  http://community.contactquarterly.com/

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionshowid1
Completed in 10ms (DB: 28) | 302 Found [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:32:30', `updated_at` = '2008-12-16 23:32:30' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 18:32:30) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 82) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:32:30', `remember_token` = 'ed640bad45ff57a05c2ef13ef56147b027ec2660', `updated_at` = '2008-12-16 23:32:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 18:32:30) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 30) | 200 OK [http://test.host/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:32:30', `remember_token` = 'ed640bad45ff57a05c2ef13ef56147b027ec2660', `updated_at` = '2008-12-16 23:32:30' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-16 23:27:30', `updated_at` = '2008-12-16 23:32:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 18:32:30) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'ed640bad45ff57a05c2ef13ef56147b027ec2660') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 83) | 200 OK [http://test.host/session/new]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:32:31) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:32:31', `updated_at` = '2008-12-16 23:32:31' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 6ms (DB: 36) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:32:31) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:32:31', `updated_at` = '2008-12-16 23:32:31' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 8ms (DB: 30) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:32:31', `remember_token` = '20a3fc6edac43260999a2efb335338ff99434672', `updated_at` = '2008-12-16 23:32:31' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 18:32:31) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '20a3fc6edac43260999a2efb335338ff99434672') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:32:31', `updated_at` = '2008-12-16 23:32:31' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=20a3fc6edac43260999a2efb335338ff99434672; path=/; expires=Tue, 30 Dec 2008 23:32:31 GMT
Redirected to /
Completed in 3ms (DB: 82) | 302 Found [http://test.host/session/new]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 18:32:31) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 3ms (DB: 31) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:32:31) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 73) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:32:31) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '0fd59edf7e2bf5ea9c44281bf257c20dd44bb0ef', `updated_at` = '2008-12-16 23:32:31' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:32:31 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/0fd59edf7e2bf5ea9c44281bf257c20dd44bb0ef

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 23) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:32:31) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 73) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:32:31) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 22) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:32:31) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 74) | 302 Found [http://test.host/session?email=&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:32:31) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 26) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;35;1mUser Load (50.9ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:32:32) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org", "remember_me"=>"0"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:32:32', `updated_at` = '2008-12-16 23:32:32' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 74) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:32:32) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:32:32', `updated_at` = '2008-12-16 23:32:32' WHERE `user_id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 23) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:32:32) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org", "remember_me"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:32:32', `updated_at` = '2008-12-16 23:32:32' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-30 23:32:32', `remember_token` = 'fe60127d3d864554b991549969cb6b81a57c8924', `updated_at` = '2008-12-16 23:32:32' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=fe60127d3d864554b991549969cb6b81a57c8924; path=/; expires=Tue, 30 Dec 2008 23:32:32 GMT
Redirected to /
Completed in 7ms (DB: 23) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 18:32:32) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '3435babdcbccc91e368decb842f0ba5c140335e6', `updated_at` = '2008-12-16 23:32:32' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:32:32 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/3435babdcbccc91e368decb842f0ba5c140335e6

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 77) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'f84fbdb2d3e95add0901c4c1ccdb0de01661e9a1', `updated_at` = '2008-12-16 23:32:32' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:32:32' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 18:32:32) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"f84fbdb2d3e95add0901c4c1ccdb0de01661e9a1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'f84fbdb2d3e95add0901c4c1ccdb0de01661e9a1') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-16 23:32:32', `state` = 'active', `updated_at` = '2008-12-16 23:32:32' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to actionindex
Completed in 6ms (DB: 32) | 302 Found [http://test.host/activate/f84fbdb2d3e95add0901c4c1ccdb0de01661e9a1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 18:32:32) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 83) | 200 OK [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 18:32:32) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"new_email@foo.com"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'new_email@foo.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Create (0.2ms)[0m   [0mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-16 23:32:32', 1, 'first_name', 'last_name', '2008-12-16 23:32:32')[0m
  [4;36;1mPerson::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 23:32:32', NULL, 1, 'first_name', 15004, 'last_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15004) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEmail Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mEmail Create (0.2ms)[0m   [0mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-16 23:32:32', 1, 1, 'new_email@foo.com', '2008-12-16 23:32:32')[0m
  [4;36;1mEmail::Version Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;35;1mEmail::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15002, NULL, '2008-12-16 23:32:32', 1, NULL, 1, 'new_email@foo.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Create (0.2ms)[0m   [0;1mINSERT INTO `ci_user_account_requests` (`ci_notes`, `email_id`, `updated_at`, `location_id`, `person_id`, `state`, `created_at`) VALUES(NULL, 15002, '2008-12-16 23:32:32', NULL, 15004, 'new', '2008-12-16 23:32:32')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:32:32 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Account request for first_name last_name (new_email@foo.com)
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

ACCOUNT REQUEST
---------------

NAME:   first_name last_name
EMAIL:  new_email@foo.com

To approve or deny this account request, please go to:

  https://www.contactimprov.net/admin/users/list_account_requests
Redirected to actionaccount_requested
Completed in 20ms (DB: 33) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;36;1mUserAccountRequest Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` ORDER BY ci_user_account_requests.user_account_request_id DESC LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15004) [0m
  [4;36;1mEmail Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (`ci_emails`.`email_id` = 15002) [0m


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:32:32) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = 'cd55809115390aa7bc9faf99b0a16ae3a6e0323f', `updated_at` = '2008-12-16 23:32:32' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:32:32 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/cd55809115390aa7bc9faf99b0a16ae3a6e0323f

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 8ms (DB: 82) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 18:32:32) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-16 23:32:32' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:32:32 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 2, DB: 27) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 18:32:33) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-16 23:32:33' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 9ms (View: 2, DB: 82) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:32:33', `updated_at` = '2008-12-16 23:32:33' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 18:32:33) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"newfirst", "last_name"=>"newlast"}}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max(`ci_person_versions`.version) AS max_version FROM `ci_person_versions` WHERE (`ci_person_versions`.person_id = 1) [0m
  [4;36;1mPerson Update (0.2ms)[0m   [0;1mUPDATE `ci_people` SET `version` = 1, `last_name` = 'newlast', `first_name` = 'newfirst', `updated_at` = '2008-12-16 23:32:33' WHERE `person_id` = 1[0m
  [4;35;1mPerson::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-16 23:32:33', NULL, 1, 'newfirst', 1, 'newlast')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 10ms (DB: 30) | 302 Found [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=newfirst&user%5Bperson%5D%5Blast_name%5D=newlast]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Load (56.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '1e402207dccb7bf341c63c1a3563d66cec8087dc', `updated_at` = '2008-12-16 23:32:33' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 18:32:33) [GET]
  Parameters: {"password_reset_code"=>"1e402207dccb7bf341c63c1a3563d66cec8087dc"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '1e402207dccb7bf341c63c1a3563d66cec8087dc') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 2, DB: 85) | 200 OK [http://test.host/reset_password/1e402207dccb7bf341c63c1a3563d66cec8087dc]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '14b0cc6da1796f255a7a29b88356973374ab465e', `updated_at` = '2008-12-16 23:32:33' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:32:33' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 18:32:33) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"14b0cc6da1796f255a7a29b88356973374ab465e"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '14b0cc6da1796f255a7a29b88356973374ab465e') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 3, DB: 30) | 200 OK [http://test.host/activate/14b0cc6da1796f255a7a29b88356973374ab465e?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 18:32:33) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 28) | 302 Found [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 18:32:33) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>""}}
Rendering user/request_account
Rendered shared/_header (0.5ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.4ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 3, DB: 85) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 18:32:33) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>""}, "uar_email"=>{"address"=>"new_email@foo.com"}}
Rendering user/request_account
Rendered shared/_header (0.5ms)
Rendered shared/_person (0.4ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 3, DB: 25) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:32:33) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:32:33 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 84) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:32:33) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'be3e357ffd7e2d414e28ad4cf967994970966578', `updated_at` = '2008-12-16 23:32:33' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:32:33 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/be3e357ffd7e2d414e28ad4cf967994970966578

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 2, DB: 35) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:32:34) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 82) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:32:34) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 24) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 18:32:34) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 75) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 18:32:34) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 2, DB: 26) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 18:32:34) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.1ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 26) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 18:32:34) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 82) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 18:32:34) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;36;1mPerson Load (1.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (2.4ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 4, DB: 22) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 18:32:34) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 252) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 18:32:35) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"", "last_name"=>""}}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.3ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering user/edit
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 9ms (View: 3, DB: 26) | 200 OK [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 18:32:35) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 87) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 18:32:35) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 27) | 200 OK [http://test.host/reset_password/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '9d3dd61b871419674b35083a4e2775268c649e77', `updated_at` = '2008-12-16 23:32:35' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 18:32:35) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"9d3dd61b871419674b35083a4e2775268c649e77"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '9d3dd61b871419674b35083a4e2775268c649e77') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 88) | 200 OK [http://test.host/reset_password/9d3dd61b871419674b35083a4e2775268c649e77?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 18:32:35) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 30) | 200 OK [http://test.host/activate/randomgarbage]
  [4;36;1mUser Load (60.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '739837ad049369348ced886edeb43ed808a0eb23', `updated_at` = '2008-12-16 23:32:35' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 18:32:35) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"739837ad049369348ced886edeb43ed808a0eb23"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '739837ad049369348ced886edeb43ed808a0eb23') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-16 23:32:35' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 89) | 200 OK [http://test.host/reset_password/739837ad049369348ced886edeb43ed808a0eb23?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-16 23:32:35', `updated_at` = '2008-12-16 23:32:35' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 18:32:35) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"quentin@contactimprov.org"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '2615b27b975a0e068135990f23d7c1eed92ae63c', `updated_at` = '2008-12-16 23:32:35' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:32:35 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/2615b27b975a0e068135990f23d7c1eed92ae63c

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 9ms (DB: 31) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=quentin%40contactimprov.org&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 18:32:35) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"pending_user@contactimprov.org"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'pending_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'pending_user@contactimprov.org' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '2119df501ac1e414b768ad405fdeee9636373e6b', `updated_at` = '2008-12-16 23:32:35' WHERE `user_id` = 8[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 18:32:35 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/2119df501ac1e414b768ad405fdeee9636373e6b

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  pending_user@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.4ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 3, DB: 30) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=pending_user%40contactimprov.org&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '4263128cee6aa2652b6f20719052660d96aa2c6d', `updated_at` = '2008-12-16 23:32:35' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-16 23:32:35' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 18:32:35) [GET]
  Parameters: {"activation_code"=>"4263128cee6aa2652b6f20719052660d96aa2c6d"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '4263128cee6aa2652b6f20719052660d96aa2c6d') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 93) | 200 OK [http://test.host/activate/4263128cee6aa2652b6f20719052660d96aa2c6d]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCompany Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `ci_companies`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCompany Create (0.3ms)[0m   [0;1mINSERT INTO `ci_companies` (`name`, `updated_at`, `version`, `created_at`) VALUES('Foo', '2008-12-17 00:17:06', 1, '2008-12-17 00:17:06')[0m
  [4;35;1mCompany::Version Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `ci_company_versions`[0m
  [4;36;1mCompany::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_company_versions` (`name`, `updated_at`, `company_version_id`, `version`, `company_id`) VALUES('Foo', '2008-12-17 00:17:06', NULL, 1, 15000)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mContactEvent Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `ci_contact_events`[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;36;1mCountryName Load (37.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;35;1mCountryName Load (0.4ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mEmail Load (0.3ms)[0m   [0mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mEmail Create (0.2ms)[0m   [0;1mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-17 00:17:08', 1, 1, 'charman@acm.org', '2008-12-17 00:17:08')[0m
  [4;35;1mEmail::Version Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;36;1mEmail::Version Create (0.3ms)[0m   [0;1mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15001, NULL, '2008-12-17 00:17:08', 1, NULL, 1, 'charman@acm.org')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: 
City: City Name
State: 
Zip: 
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>City Name, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Holy Name (Es), King, ON, Canada</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>CA</CountryNameCode><CountryName>Canada</CountryName><AdministrativeArea><AdministrativeAreaName>ON</AdministrativeAreaName><Locality><LocalityName>King</LocalityName><PostalCode><PostalCodeNumber>L7B</PostalCodeNumber><AddressLine>Holy Name (Es)</AddressLine></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-79.5391900,43.9247060,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mLocation Create (0.3ms)[0m   [0;1mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES(NULL, NULL, '2008-12-17 00:17:08', NULL, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2, '2008-12-17 00:17:08')[0m
  [4;35;1mLocation::Version Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;36;1mLocation::Version Create (0.3ms)[0m   [0;1mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES(NULL, NULL, NULL, '2008-12-17 00:17:08', NULL, 15000, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mLocation Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
Google geocoding. Address: 100 Spear St, San Francisco, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Spear St, San Francisco, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Spear St, San Francisco, CA 94105, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Spear St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94105</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-122.3940000,37.7921500,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPhoneNumber Create (0.2ms)[0m   [0mINSERT INTO `ci_phone_numbers` (`for_entity_id`, `updated_at`, `number`, `version`, `created_at`) VALUES(NULL, '2008-12-17 00:17:09', '585-275-4822', 1, '2008-12-17 00:17:09')[0m
  [4;36;1mPhoneNumber::Version Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `ci_phone_number_versions`[0m
  [4;35;1mPhoneNumber::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_phone_number_versions` (`phone_number_id`, `for_entity_id`, `updated_at`, `number`, `version`, `phone_number_version_id`) VALUES(15000, NULL, '2008-12-17 00:17:09', '585-275-4822', 1, NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mStudio Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `ci_studios`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStudio Create (0.4ms)[0m   [0mINSERT INTO `ci_studios` (`name`, `updated_at`, `version`, `created_at`) VALUES('Foo', '2008-12-17 00:17:09', 1, '2008-12-17 00:17:09')[0m
  [4;36;1mStudio::Version Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `ci_studio_versions`[0m
  [4;35;1mStudio::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_studio_versions` (`name`, `updated_at`, `studio_version_id`, `studio_id`, `version`) VALUES('Foo', '2008-12-17 00:17:09', NULL, 15000, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUrl Create (0.2ms)[0m   [0;1mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-17 00:17:09', 1, 'http://craigharman.net/', '2008-12-17 00:17:09')[0m
  [4;35;1mUrl::Version Columns (42.9ms)[0m   [0mSHOW FIELDS FROM `ci_url_versions`[0m
  [4;36;1mUrl::Version Create (0.3ms)[0m   [0;1mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15000, NULL, '2008-12-17 00:17:09', 1, 'http://craigharman.net/')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUrl Create (0.1ms)[0m   [0mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-17 00:17:10', 1, 'http://craigharman.net/', '2008-12-17 00:17:10')[0m
  [4;36;1mUrl::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15001, NULL, '2008-12-17 00:17:10', 1, 'http://craigharman.net/')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUrl Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_urls` WHERE (`ci_urls`.`url_id` = 15001) [0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-17 00:17:10', `state` = 'active', `updated_at` = '2008-12-17 00:17:10' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 00:17:10', `updated_at` = '2008-12-17 00:17:10' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (41.7ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '788b92737cd91e9965a27fb351c836335249668c', `updated_at` = '2008-12-17 00:17:11' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 00:17:11' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('c2aa785d4649ec21d6df3a99b3b1c9ca80ea4ec8', NULL, NULL, '2008-12-17 00:17:11', '0040b790533dd513bd02c14d1f0ad6a966aca27b', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-17 00:17:11')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('5539e200740a894de1eb78ccc90fa28a22dade2e', NULL, NULL, '2008-12-17 00:17:11', 'f42d20785089b83f87117b3cc5d01d3c258f2683', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-17 00:17:11')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `deleted_at` = '2008-12-17 00:17:11', `state` = 'deleted', `updated_at` = '2008-12-17 00:17:11' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('ee78269fa31fc333872f54b0831f68afc685cc27', NULL, NULL, '2008-12-17 00:17:11', '3c7f212fe21039bd0191a32e29f71ae42de0ad16', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-17 00:17:11')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15005) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-17 00:17:11' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 00:17:11', `updated_at` = '2008-12-17 00:17:11' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-17 00:17:11' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '8a74190094bbf062b21038fdccf747824d625e59', `updated_at` = '2008-12-17 00:17:11' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 00:17:11' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 00:17:11', `remember_token` = 'c847ef0d18d29a3301d1e4219bad7447c09da137', `updated_at` = '2008-12-17 00:17:11' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-24 00:17:11', `remember_token` = '68c8b65e999ee3374a233bef69608ec4016c3d22', `updated_at` = '2008-12-17 00:17:11' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-24 00:17:11', `remember_token` = '68c8b65e999ee3374a233bef69608ec4016c3d22', `updated_at` = '2008-12-17 00:17:11' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-17 00:17:12' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 00:17:12', `updated_at` = '2008-12-17 00:17:12' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 00:17:12', `remember_token` = 'a971a8cd204765171667b369be6c06ea99b0bc24', `updated_at` = '2008-12-17 00:17:12' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-17 00:17:12' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 00:17:12', `remember_token` = 'a971a8cd204765171667b369be6c06ea99b0bc24', `updated_at` = '2008-12-17 00:17:12' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-17 00:17:12' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-17 00:17:12' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-17 00:17:12', `state` = 'active', `updated_at` = '2008-12-17 00:17:12' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-17 00:17:12' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = 'foo-bar' [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'cea4fabfc0db80470019150a990af7ed590ff087', `updated_at` = '2008-12-17 00:17:12' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 00:17:12' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-17 00:17:13' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = NULL [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-17 00:17:13' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-17 00:17:13' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 19:17:14) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-17 00:17:14", updated_at: "2008-12-17 00:17:14">}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-17 00:17:15', `state` = 'active', `email` = 'activate@contactquarterly.com', `updated_at` = '2008-12-17 00:17:15' WHERE `user_id` = 8[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 19:17:15 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Your ContactImprov.net account has been activated
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactQuarterly.com account has been created for you.  In 
order to use your account, just go to this page:

  https://community.contactquarterly.com/

and log in using your email address:

  activate@contactquarterly.com

and this password:

  test

You can change your password once you have logged in.

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionindex
Completed in 119ms (DB: 51) | 302 Found [http://test.host/admin/users/activate/8?user%5Bemail%5D=activate%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 19:17:15) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/edit
Rendered shared/admin/_header (1.7ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_person (2.1ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 6, DB: 27) | 200 OK [http://test.host/admin/users/edit/1]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#index (for 0.0.0.0 at 2008-12-16 19:17:15) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` WHERE (state = 'active') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` WHERE (state = 'pending') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_user_account_requests` WHERE (state ='new') [0m
Rendering admin/users/index
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 4, DB: 29) | 200 OK [http://test.host/admin/users]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list (for 0.0.0.0 at 2008-12-16 19:17:15) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` [0m
Rendering admin/users/list
Rendered shared/admin/_header (0.7ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 402) [0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 10) [0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 401) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
Rendered admin/users/_user_table (6.9ms)
Rendered admin/users/_user_table_js (0.2ms)
Rendered admin/users/_list_users (7.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 11ms (View: 9, DB: 28) | 200 OK [http://test.host/admin/users/list]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list_active (for 0.0.0.0 at 2008-12-16 19:17:15) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (state = 'active') [0m
Rendering admin/users/list_active
Rendered shared/admin/_header (0.6ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 402) [0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 10) [0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 401) [0m
Rendered admin/users/_user_table (4.3ms)
Rendered admin/users/_user_table_js (0.1ms)
Rendered admin/users/_list_users (4.8ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 6, DB: 29) | 200 OK [http://test.host/admin/users/list_active]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list_pending (for 0.0.0.0 at 2008-12-16 19:17:15) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (state = 'pending') [0m
Rendering admin/users/list_pending
Rendered shared/admin/_header (0.6ms)
  [4;36;1mPerson Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
Rendered admin/users/_user_table (1.6ms)
Rendered admin/users/_user_table_js (0.1ms)
Rendered admin/users/_list_users (2.1ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 79) | 200 OK [http://test.host/admin/users/list_pending]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#map (for 0.0.0.0 at 2008-12-16 19:17:15) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (geocode_precision IS NOT NULL) [0m
Rendering admin/users/map
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 25) | 200 OK [http://test.host/admin/users/map]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#new (for 0.0.0.0 at 2008-12-16 19:17:15) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.7ms)
Rendered shared/_person (0.7ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 73) | 200 OK [http://test.host/admin/users/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 19:17:15) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.7ms)
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/admin/_footer (0.1ms)
Completed in 5ms (View: 3, DB: 34) | 200 OK [http://test.host/admin/users/reset_password/1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m


Processing Admin::UsersController#show_account_request (for 0.0.0.0 at 2008-12-16 19:17:16) [GET]
  Parameters: {"id"=>#<UserAccountRequest user_account_request_id: 1, state: "new", ci_notes: nil, person_id: 1, email_id: 101, location_id: nil, created_at: "2008-12-17 00:17:16", updated_at: "2008-12-17 00:17:16">}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
Rendering admin/users/show_account_request
Rendered shared/admin/_header (0.7ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mEmail Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (`ci_emails`.`email_id` = 101) [0m
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 6, DB: 81) | 200 OK [http://test.host/admin/users/show_account_request/1]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 19:17:16) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com", "person"=>{"first_name"=>"Firstname", "last_name"=>"Lastname"}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: person
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;36;1mPerson Create (0.2ms)[0m   [0;1mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-17 00:17:16', 1, 'Firstname', 'Lastname', '2008-12-17 00:17:16')[0m
  [4;35;1mPerson::Version Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `ci_person_versions`[0m
  [4;36;1mPerson::Version Create (0.3ms)[0m   [0;1mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-17 00:17:16', NULL, 1, 'Firstname', 15003, 'Lastname')[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('c59c95c5a3d6e83ecd0d42821069148ac0e3e4dd', NULL, NULL, '2008-12-17 00:17:16', '1dd7b024de427dc3083dc7200bfeeaa8a59dd06a', NULL, 0, NULL, NULL, NULL, NULL, 15003, 'admin_users_create@contactquarterly.com', 'passive', '2008-12-17 00:17:16')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com' AND `ci_users`.user_id <> 15006) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '2c79e5175dd96e0a5bad291f75aba450671d4c0f', `updated_at` = '2008-12-17 00:17:16' WHERE `user_id` = 15006[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 00:17:16' WHERE `user_id` = 15006[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 19:17:16 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Firstname Lastname -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/2c79e5175dd96e0a5bad291f75aba450671d4c0f

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  admin_users_create@contactquarterly.com

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionindex
Completed in 21ms (DB: 37) | 302 Found [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test&user%5Bperson%5D%5Bfirst_name%5D=Firstname&user%5Bperson%5D%5Blast_name%5D=Lastname]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (50.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 19:17:16) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-17 00:17:16", updated_at: "2008-12-17 00:17:16">}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
Rendering admin/users/activate
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 9ms (View: 3, DB: 82) | 200 OK [http://test.host/admin/users/activate/8?user%5Bemail%5D=activate%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 19:17:16) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 29) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 19:17:16) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.8ms)
Rendered shared/_person (0.9ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 9ms (View: 4, DB: 30) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 19:17:16) [PUT]
  Parameters: {"user"=>{"subscriber_address"=>{"postal_code"=>"60606", "street_address_line_1"=>"new_line_1", "street_address_line_2"=>"new_line_2", "city_name"=>"new_city", "us_state"=>{"name"=>"pa"}, "country_name"=>{"english_name"=>"United States"}}, "person"=>{"first_name"=>"", "last_name"=>""}}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering admin/users/edit
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 87) | 200 OK [http://test.host/admin/users/edit/1?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=&user%5Bsubscriber_address%5D%5Bcity_name%5D=new_city&user%5Bsubscriber_address%5D%5Bcountry_name%5D%5Benglish_name%5D=United+States&user%5Bsubscriber_address%5D%5Bpostal_code%5D=60606&user%5Bsubscriber_address%5D%5Bstreet_address_line_1%5D=new_line_1&user%5Bsubscriber_address%5D%5Bstreet_address_line_2%5D=new_line_2&user%5Bsubscriber_address%5D%5Bus_state%5D%5Bname%5D=pa]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 00:17:16', `updated_at` = '2008-12-17 00:17:16' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 19:17:16) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"bad_password", "password"=>"new_password"}, "id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 2, DB: 29) | 200 OK [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=bad_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 00:17:16', `updated_at` = '2008-12-17 00:17:16' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m


Processing Admin::UsersController#process_account_request (for 0.0.0.0 at 2008-12-16 19:17:16) [PUT]
  Parameters: {"account_request_id"=>"1", "user_account_request"=>{"ci_notes"=>"updated_notes"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Update (0.2ms)[0m   [0;1mUPDATE `ci_user_account_requests` SET `ci_notes` = 'updated_notes', `updated_at` = '2008-12-17 00:17:16' WHERE `user_account_request_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionlist_account_requests
Completed in 3ms (DB: 83) | 302 Found [http://test.host/admin/users/process_account_request?account_request_id=1&user_account_request%5Bci_notes%5D=updated_notes]
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 00:17:17', `updated_at` = '2008-12-17 00:17:17' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 19:17:17) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-17 00:17:17' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 19:17:17 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: New password for your ContactImprov.net account
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have reset the password on your Contact Quarterly online account.

Your new password is:

  new_password

To log on to your account, just go to:

  http://community.contactquarterly.com/

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionshowid1
Completed in 9ms (DB: 29) | 302 Found [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 00:17:17', `updated_at` = '2008-12-17 00:17:17' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 19:17:17) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 87) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 00:17:17', `remember_token` = '7d2fb76cd02c9f537e2ffd7f7f5ee815bb18d822', `updated_at` = '2008-12-17 00:17:17' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 19:17:17) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 24) | 200 OK [http://test.host/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 00:17:17', `remember_token` = '7d2fb76cd02c9f537e2ffd7f7f5ee815bb18d822', `updated_at` = '2008-12-17 00:17:17' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-17 00:12:17', `updated_at` = '2008-12-17 00:17:17' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 19:17:17) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '7d2fb76cd02c9f537e2ffd7f7f5ee815bb18d822') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 75) | 200 OK [http://test.host/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 19:17:17) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 00:17:17', `updated_at` = '2008-12-17 00:17:17' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 25) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 19:17:17) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 00:17:17', `updated_at` = '2008-12-17 00:17:17' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 27) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 00:17:17', `remember_token` = '7d2fb76cd02c9f537e2ffd7f7f5ee815bb18d822', `updated_at` = '2008-12-17 00:17:17' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 19:17:17) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '7d2fb76cd02c9f537e2ffd7f7f5ee815bb18d822') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 00:17:17', `updated_at` = '2008-12-17 00:17:17' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=7d2fb76cd02c9f537e2ffd7f7f5ee815bb18d822; path=/; expires=Wed, 31 Dec 2008 00:17:17 GMT
Redirected to /
Completed in 3ms (DB: 79) | 302 Found [http://test.host/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 19:17:17) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 25) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 19:17:17) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 76) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 19:17:17) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '8cd60b29623fe8805cf8250ac6a223e9a6ae284c', `updated_at` = '2008-12-17 00:17:17' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 19:17:17 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/8cd60b29623fe8805cf8250ac6a223e9a6ae284c

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 27) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 19:17:18) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 4ms (DB: 89) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 19:17:18) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 25) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 19:17:18) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 81) | 302 Found [http://test.host/session?email=&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 19:17:18) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 27) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;35;1mUser Load (50.7ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 19:17:18) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org", "remember_me"=>"0"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 00:17:18', `updated_at` = '2008-12-17 00:17:18' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 83) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 19:17:18) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 00:17:18', `updated_at` = '2008-12-17 00:17:18' WHERE `user_id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 25) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 19:17:18) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org", "remember_me"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 00:17:18', `updated_at` = '2008-12-17 00:17:18' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 00:17:18', `remember_token` = 'ce8f368d512b75f6ed48db52834e9413a1e3cac5', `updated_at` = '2008-12-17 00:17:18' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=ce8f368d512b75f6ed48db52834e9413a1e3cac5; path=/; expires=Wed, 31 Dec 2008 00:17:18 GMT
Redirected to /
Completed in 6ms (DB: 32) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 19:17:18) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '0d36231e43316eea8948609f6b4ee8b130cb03a4', `updated_at` = '2008-12-17 00:17:18' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 19:17:18 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/0d36231e43316eea8948609f6b4ee8b130cb03a4

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 84) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '1603bb0e42cc98ca55373c2a2ac52099b9ebc569', `updated_at` = '2008-12-17 00:17:18' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 00:17:18' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 19:17:18) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"1603bb0e42cc98ca55373c2a2ac52099b9ebc569"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '1603bb0e42cc98ca55373c2a2ac52099b9ebc569') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-17 00:17:18', `state` = 'active', `updated_at` = '2008-12-17 00:17:18' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to actionindex
Completed in 6ms (DB: 30) | 302 Found [http://test.host/activate/1603bb0e42cc98ca55373c2a2ac52099b9ebc569?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 19:17:19) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.4ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 89) | 200 OK [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 19:17:19) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"new_email@foo.com"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'new_email@foo.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Create (0.2ms)[0m   [0mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-17 00:17:19', 1, 'first_name', 'last_name', '2008-12-17 00:17:19')[0m
  [4;36;1mPerson::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-17 00:17:19', NULL, 1, 'first_name', 15004, 'last_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15004) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEmail Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mEmail Create (0.2ms)[0m   [0mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-17 00:17:19', 1, 1, 'new_email@foo.com', '2008-12-17 00:17:19')[0m
  [4;36;1mEmail::Version Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;35;1mEmail::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15002, NULL, '2008-12-17 00:17:19', 1, NULL, 1, 'new_email@foo.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Create (0.2ms)[0m   [0;1mINSERT INTO `ci_user_account_requests` (`ci_notes`, `email_id`, `updated_at`, `location_id`, `person_id`, `state`, `created_at`) VALUES(NULL, 15002, '2008-12-17 00:17:19', NULL, 15004, 'new', '2008-12-17 00:17:19')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 19:17:19 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Account request for first_name last_name (new_email@foo.com)
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

ACCOUNT REQUEST
---------------

NAME:   first_name last_name
EMAIL:  new_email@foo.com

To approve or deny this account request, please go to:

  https://www.contactimprov.net/admin/users/list_account_requests
Redirected to actionaccount_requested
Completed in 21ms (DB: 35) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;36;1mUserAccountRequest Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` ORDER BY ci_user_account_requests.user_account_request_id DESC LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15004) [0m
  [4;36;1mEmail Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (`ci_emails`.`email_id` = 15002) [0m


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 19:17:19) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '2aa38267235e3c8ae8f03c2c5f0aee8af883c7bc', `updated_at` = '2008-12-17 00:17:19' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 19:17:19 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/2aa38267235e3c8ae8f03c2c5f0aee8af883c7bc

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 9ms (DB: 88) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 19:17:19) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-17 00:17:19' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 19:17:19 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (1.0ms)
Rendered shared/_footer (0.1ms)
Completed in 17ms (View: 4, DB: 32) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 19:17:19) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-17 00:17:19' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 9ms (View: 2, DB: 91) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 00:17:19', `updated_at` = '2008-12-17 00:17:19' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 19:17:19) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"newfirst", "last_name"=>"newlast"}}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max(`ci_person_versions`.version) AS max_version FROM `ci_person_versions` WHERE (`ci_person_versions`.person_id = 1) [0m
  [4;36;1mPerson Update (0.2ms)[0m   [0;1mUPDATE `ci_people` SET `version` = 1, `last_name` = 'newlast', `first_name` = 'newfirst', `updated_at` = '2008-12-17 00:17:19' WHERE `person_id` = 1[0m
  [4;35;1mPerson::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-17 00:17:19', NULL, 1, 'newfirst', 1, 'newlast')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 10ms (DB: 29) | 302 Found [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=newfirst&user%5Bperson%5D%5Blast_name%5D=newlast]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Load (59.6ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '1b89207ddc4887aa655fca0c6c28467d123d95e3', `updated_at` = '2008-12-17 00:17:19' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 19:17:19) [GET]
  Parameters: {"password_reset_code"=>"1b89207ddc4887aa655fca0c6c28467d123d95e3"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '1b89207ddc4887aa655fca0c6c28467d123d95e3') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 2, DB: 129) | 200 OK [http://test.host/reset_password/1b89207ddc4887aa655fca0c6c28467d123d95e3]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'a9002ae68f70983423732a3e20d683af97f6c523', `updated_at` = '2008-12-17 00:17:19' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 00:17:19' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 19:17:19) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"a9002ae68f70983423732a3e20d683af97f6c523"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'a9002ae68f70983423732a3e20d683af97f6c523') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 33) | 200 OK [http://test.host/activate/a9002ae68f70983423732a3e20d683af97f6c523?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 19:17:19) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 26) | 302 Found [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 19:17:20) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>""}}
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.9ms)
Rendered shared/_email (0.4ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 4, DB: 93) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 19:17:20) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>""}, "uar_email"=>{"address"=>"new_email@foo.com"}}
Rendering user/request_account
Rendered shared/_header (0.9ms)
Rendered shared/_person (0.7ms)
Rendered shared/_email (0.4ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 5, DB: 29) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 19:17:20) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 19:17:20 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 2, DB: 88) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 19:17:20) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '6d4a98cf2658c48211ead467e77447a72e08b483', `updated_at` = '2008-12-17 00:17:20' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 19:17:20 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/6d4a98cf2658c48211ead467e77447a72e08b483

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 10ms (View: 2, DB: 30) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 19:17:20) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 95) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 19:17:20) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 30) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 19:17:20) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 91) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 19:17:20) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 2, DB: 33) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 19:17:21) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 25) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 19:17:21) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.5ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 96) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 19:17:21) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 3, DB: 29) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 19:17:21) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 85) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 19:17:21) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"", "last_name"=>""}}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering user/edit
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 28) | 200 OK [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 19:17:21) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 95) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 19:17:21) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 1, DB: 24) | 200 OK [http://test.host/reset_password/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '16278bc75b92db71018de0129996b93784ea0ff5', `updated_at` = '2008-12-17 00:17:21' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 19:17:21) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"16278bc75b92db71018de0129996b93784ea0ff5"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '16278bc75b92db71018de0129996b93784ea0ff5') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 96) | 200 OK [http://test.host/reset_password/16278bc75b92db71018de0129996b93784ea0ff5?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 19:17:21) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 32) | 200 OK [http://test.host/activate/randomgarbage]
  [4;36;1mUser Load (58.5ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '1d71015d502143b73ad09ab3e6cc522f7951729d', `updated_at` = '2008-12-17 00:17:22' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 19:17:22) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"1d71015d502143b73ad09ab3e6cc522f7951729d"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '1d71015d502143b73ad09ab3e6cc522f7951729d') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-17 00:17:22' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 91) | 200 OK [http://test.host/reset_password/1d71015d502143b73ad09ab3e6cc522f7951729d?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 00:17:22', `updated_at` = '2008-12-17 00:17:22' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 19:17:22) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"quentin@contactimprov.org"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '0a28f7317b8d3c206899ae9bb736da7eb6ee03c8', `updated_at` = '2008-12-17 00:17:22' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 19:17:22 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/0a28f7317b8d3c206899ae9bb736da7eb6ee03c8

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 9ms (DB: 30) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=quentin%40contactimprov.org&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 19:17:22) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"pending_user@contactimprov.org"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'pending_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'pending_user@contactimprov.org' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '1daaed13486fd095eb13fab014f3a321460f9189', `updated_at` = '2008-12-17 00:17:22' WHERE `user_id` = 8[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 19:17:22 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/1daaed13486fd095eb13fab014f3a321460f9189

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  pending_user@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 3, DB: 34) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=pending_user%40contactimprov.org&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '95f0ff072e3ebfd04947ffd43c6dfb9327cfa0e9', `updated_at` = '2008-12-17 00:17:22' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 00:17:22' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 19:17:22) [GET]
  Parameters: {"activation_code"=>"95f0ff072e3ebfd04947ffd43c6dfb9327cfa0e9"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '95f0ff072e3ebfd04947ffd43c6dfb9327cfa0e9') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 97) | 200 OK [http://test.host/activate/95f0ff072e3ebfd04947ffd43c6dfb9327cfa0e9]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCompany Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `ci_companies`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mCompany Create (0.3ms)[0m   [0;1mINSERT INTO `ci_companies` (`name`, `updated_at`, `version`, `created_at`) VALUES('Foo', '2008-12-17 00:18:39', 1, '2008-12-17 00:18:39')[0m
  [4;35;1mCompany::Version Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `ci_company_versions`[0m
  [4;36;1mCompany::Version Create (0.3ms)[0m   [0;1mINSERT INTO `ci_company_versions` (`name`, `updated_at`, `company_version_id`, `version`, `company_id`) VALUES('Foo', '2008-12-17 00:18:39', NULL, 1, 15000)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mContactEvent Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `ci_contact_events`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mContactEvent Create (0.3ms)[0m   [0;1mINSERT INTO `ci_contact_events` (`start_date`, `end_date`, `phone_number_id`, `url_id`, `email_id`, `ci_notes`, `updated_at`, `title`, `studio_id`, `version`, `subtitle`, `description`, `company_id`, `person_id`, `created_at`) VALUES('2008-12-16 19:18:40', '2008-12-16 19:18:40', NULL, NULL, NULL, NULL, '2008-12-17 00:18:40', 'New Event', NULL, 1, NULL, 'Fantastic new event', NULL, NULL, '2008-12-17 00:18:40')[0m
  [4;35;1mContactEvent::Version Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `ci_contact_event_versions`[0m
  [4;36;1mContactEvent::Version Create (0.3ms)[0m   [0;1mINSERT INTO `ci_contact_event_versions` (`start_date`, `end_date`, `phone_number_id`, `url_id`, `email_id`, `ci_notes`, `updated_at`, `title`, `studio_id`, `contact_event_version_id`, `version`, `subtitle`, `description`, `company_id`, `contact_event_id`, `person_id`) VALUES('2008-12-16 19:18:40', '2008-12-16 19:18:40', NULL, NULL, NULL, NULL, '2008-12-17 00:18:40', 'New Event', NULL, NULL, 1, NULL, 'Fantastic new event', NULL, 15000, NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEmail Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mEmail Create (0.2ms)[0m   [0mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-17 00:18:40', 1, 1, 'charman@acm.org', '2008-12-17 00:18:40')[0m
  [4;36;1mEmail::Version Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;35;1mEmail::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15000, NULL, '2008-12-17 00:18:40', 1, NULL, 1, 'charman@acm.org')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: 
City: City Name
State: 
Zip: 
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>City Name, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Holy Name (Es), King, ON, Canada</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>CA</CountryNameCode><CountryName>Canada</CountryName><AdministrativeArea><AdministrativeAreaName>ON</AdministrativeAreaName><Locality><LocalityName>King</LocalityName><PostalCode><PostalCodeNumber>L7B</PostalCodeNumber><AddressLine>Holy Name (Es)</AddressLine></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-79.5391900,43.9247060,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mLocation Create (0.3ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES(NULL, NULL, '2008-12-17 00:18:41', NULL, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2, '2008-12-17 00:18:41')[0m
  [4;36;1mLocation::Version Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES(NULL, NULL, NULL, '2008-12-17 00:18:41', NULL, 15000, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mLocation Load (0.3ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 1) [0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
Google geocoding. Address: 100 Spear St, San Francisco, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Spear St, San Francisco, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Spear St, San Francisco, CA 94105, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Spear St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94105</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-122.3940000,37.7921500,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPhoneNumber Create (0.2ms)[0m   [0;1mINSERT INTO `ci_phone_numbers` (`for_entity_id`, `updated_at`, `number`, `version`, `created_at`) VALUES(NULL, '2008-12-17 00:18:42', '585-275-4822', 1, '2008-12-17 00:18:42')[0m
  [4;35;1mPhoneNumber::Version Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `ci_phone_number_versions`[0m
  [4;36;1mPhoneNumber::Version Create (0.3ms)[0m   [0;1mINSERT INTO `ci_phone_number_versions` (`phone_number_id`, `for_entity_id`, `updated_at`, `number`, `version`, `phone_number_version_id`) VALUES(15000, NULL, '2008-12-17 00:18:42', '585-275-4822', 1, NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mStudio Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `ci_studios`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStudio Create (0.2ms)[0m   [0;1mINSERT INTO `ci_studios` (`name`, `updated_at`, `version`, `created_at`) VALUES('Foo', '2008-12-17 00:18:42', 1, '2008-12-17 00:18:42')[0m
  [4;35;1mStudio::Version Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `ci_studio_versions`[0m
  [4;36;1mStudio::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_studio_versions` (`name`, `updated_at`, `studio_version_id`, `studio_id`, `version`) VALUES('Foo', '2008-12-17 00:18:42', NULL, 15000, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUrl Create (0.2ms)[0m   [0mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-17 00:18:42', 1, 'http://craigharman.net/', '2008-12-17 00:18:42')[0m
  [4;36;1mUrl::Version Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_url_versions`[0m
  [4;35;1mUrl::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15000, NULL, '2008-12-17 00:18:42', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUrl Create (0.2ms)[0m   [0;1mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-17 00:18:42', 1, 'http://craigharman.net/', '2008-12-17 00:18:42')[0m
  [4;35;1mUrl::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15001, NULL, '2008-12-17 00:18:42', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUrl Load (0.2ms)[0m   [0mSELECT * FROM `ci_urls` WHERE (`ci_urls`.`url_id` = 15001) [0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-17 00:18:43', `state` = 'active', `updated_at` = '2008-12-17 00:18:43' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 00:18:43', `updated_at` = '2008-12-17 00:18:43' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'c9ca4877cf07f616dcb1d74785241c579e96110a', `updated_at` = '2008-12-17 00:18:43' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 00:18:43' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('8d827c952a2d37503c42ac4cec8621547aee8232', NULL, NULL, '2008-12-17 00:18:43', 'd547529e7531f02f52752e292fb4854795160f9b', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-17 00:18:43')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('c3f732c37ee4b5eb91cf7dc22aea6be767398cad', NULL, NULL, '2008-12-17 00:18:43', '1114d0cbfc0df9819bb4567fbc7d2c955d49d80e', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-17 00:18:43')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `deleted_at` = '2008-12-17 00:18:44', `state` = 'deleted', `updated_at` = '2008-12-17 00:18:44' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('f5d75981fb041a1c686eb46ec43772de99242ffb', NULL, NULL, '2008-12-17 00:18:44', 'ab54d1e55aa16783eae21361a558c0a32cc43efa', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-17 00:18:44')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15004) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-17 00:18:44' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 00:18:44', `updated_at` = '2008-12-17 00:18:44' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-17 00:18:44' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '60cdffbc34fe9e4ba000b651ee958f63da09b0c8', `updated_at` = '2008-12-17 00:18:44' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 00:18:44' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 00:18:44', `remember_token` = '6a0bc14f9ca0435a230d485a003a86fe039769b9', `updated_at` = '2008-12-17 00:18:44' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-24 00:18:44', `remember_token` = '28c2ed7dac9aeceab8bad44899a77780aea190d6', `updated_at` = '2008-12-17 00:18:44' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-24 00:18:44', `remember_token` = '28c2ed7dac9aeceab8bad44899a77780aea190d6', `updated_at` = '2008-12-17 00:18:44' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-17 00:18:45' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 00:18:45', `updated_at` = '2008-12-17 00:18:45' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 00:18:45', `remember_token` = 'f0c7d3df88034b47f1134ce8198c6300c6734f9a', `updated_at` = '2008-12-17 00:18:45' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-17 00:18:45' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (51.5ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 00:18:45', `remember_token` = 'f0c7d3df88034b47f1134ce8198c6300c6734f9a', `updated_at` = '2008-12-17 00:18:45' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-17 00:18:45' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-17 00:18:45' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-17 00:18:45', `state` = 'active', `updated_at` = '2008-12-17 00:18:45' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-17 00:18:45' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = 'foo-bar' [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '98a368b294e13fc56be176a7123a94af69f054ed', `updated_at` = '2008-12-17 00:18:45' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 00:18:45' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-17 00:18:45' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = NULL, `activation_code` = NULL [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-17 00:18:45' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-17 00:18:45' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 19:18:47) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-17 00:18:47", updated_at: "2008-12-17 00:18:47">}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-17 00:18:47', `state` = 'active', `email` = 'activate@contactquarterly.com', `updated_at` = '2008-12-17 00:18:47' WHERE `user_id` = 8[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 19:18:47 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Your ContactImprov.net account has been activated
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactQuarterly.com account has been created for you.  In 
order to use your account, just go to this page:

  https://community.contactquarterly.com/

and log in using your email address:

  activate@contactquarterly.com

and this password:

  test

You can change your password once you have logged in.

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionindex
Completed in 119ms (DB: 48) | 302 Found [http://test.host/admin/users/activate/8?user%5Bemail%5D=activate%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 19:18:47) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/edit
Rendered shared/admin/_header (1.8ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_person (2.2ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 7, DB: 28) | 200 OK [http://test.host/admin/users/edit/1]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#index (for 0.0.0.0 at 2008-12-16 19:18:47) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` WHERE (state = 'active') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` WHERE (state = 'pending') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_user_account_requests` WHERE (state ='new') [0m
Rendering admin/users/index
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 6ms (View: 4, DB: 29) | 200 OK [http://test.host/admin/users]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list (for 0.0.0.0 at 2008-12-16 19:18:48) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` [0m
Rendering admin/users/list
Rendered shared/admin/_header (0.6ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 402) [0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 10) [0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 401) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
Rendered admin/users/_user_table (6.9ms)
Rendered admin/users/_user_table_js (0.2ms)
Rendered admin/users/_list_users (7.7ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 11ms (View: 9, DB: 32) | 200 OK [http://test.host/admin/users/list]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list_active (for 0.0.0.0 at 2008-12-16 19:18:48) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (state = 'active') [0m
Rendering admin/users/list_active
Rendered shared/admin/_header (0.6ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 402) [0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 10) [0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 401) [0m
Rendered admin/users/_user_table (4.4ms)
Rendered admin/users/_user_table_js (0.1ms)
Rendered admin/users/_list_users (4.8ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 6, DB: 30) | 200 OK [http://test.host/admin/users/list_active]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list_pending (for 0.0.0.0 at 2008-12-16 19:18:48) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (state = 'pending') [0m
Rendering admin/users/list_pending
Rendered shared/admin/_header (0.6ms)
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
Rendered admin/users/_user_table (1.5ms)
Rendered admin/users/_user_table_js (0.1ms)
Rendered admin/users/_list_users (1.9ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 77) | 200 OK [http://test.host/admin/users/list_pending]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#map (for 0.0.0.0 at 2008-12-16 19:18:48) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (geocode_precision IS NOT NULL) [0m
Rendering admin/users/map
Rendered shared/admin/_header (0.7ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 24) | 200 OK [http://test.host/admin/users/map]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#new (for 0.0.0.0 at 2008-12-16 19:18:48) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.7ms)
Rendered shared/_person (0.7ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 70) | 200 OK [http://test.host/admin/users/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 19:18:48) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.6ms)
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/admin/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 22) | 200 OK [http://test.host/admin/users/reset_password/1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUserAccountRequest Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m


Processing Admin::UsersController#show_account_request (for 0.0.0.0 at 2008-12-16 19:18:48) [GET]
  Parameters: {"id"=>#<UserAccountRequest user_account_request_id: 1, state: "new", ci_notes: nil, person_id: 1, email_id: 101, location_id: nil, created_at: "2008-12-17 00:18:48", updated_at: "2008-12-17 00:18:48">}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUserAccountRequest Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
Rendering admin/users/show_account_request
Rendered shared/admin/_header (0.7ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mEmail Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (`ci_emails`.`email_id` = 101) [0m
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 6, DB: 73) | 200 OK [http://test.host/admin/users/show_account_request/1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 19:18:48) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com", "person"=>{"first_name"=>"Firstname", "last_name"=>"Lastname"}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: person
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;36;1mPerson Create (0.2ms)[0m   [0;1mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-17 00:18:48', 1, 'Firstname', 'Lastname', '2008-12-17 00:18:48')[0m
  [4;35;1mPerson::Version Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `ci_person_versions`[0m
  [4;36;1mPerson::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-17 00:18:48', NULL, 1, 'Firstname', 15002, 'Lastname')[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('7d26199d30e6612c4374c275030c34c6b36235e5', NULL, NULL, '2008-12-17 00:18:48', 'd43757f40f804037cf2ad607e8cbe4d1048691b5', NULL, 0, NULL, NULL, NULL, NULL, 15002, 'admin_users_create@contactquarterly.com', 'passive', '2008-12-17 00:18:48')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com' AND `ci_users`.user_id <> 15005) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'ac16f4739642db85152af002e06df71427523363', `updated_at` = '2008-12-17 00:18:48' WHERE `user_id` = 15005[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 00:18:48' WHERE `user_id` = 15005[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 19:18:48 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Firstname Lastname -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/ac16f4739642db85152af002e06df71427523363

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  admin_users_create@contactquarterly.com

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionindex
Completed in 21ms (DB: 28) | 302 Found [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test&user%5Bperson%5D%5Bfirst_name%5D=Firstname&user%5Bperson%5D%5Blast_name%5D=Lastname]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (50.8ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 19:18:48) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-17 00:18:48", updated_at: "2008-12-17 00:18:48">}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
Rendering admin/users/activate
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 77) | 200 OK [http://test.host/admin/users/activate/8?user%5Bemail%5D=activate%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 19:18:49) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 23) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 19:18:49) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.8ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 23) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 19:18:49) [PUT]
  Parameters: {"user"=>{"subscriber_address"=>{"postal_code"=>"60606", "street_address_line_1"=>"new_line_1", "street_address_line_2"=>"new_line_2", "city_name"=>"new_city", "us_state"=>{"name"=>"pa"}, "country_name"=>{"english_name"=>"United States"}}, "person"=>{"first_name"=>"", "last_name"=>""}}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering admin/users/edit
Rendered shared/admin/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 78) | 200 OK [http://test.host/admin/users/edit/1?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=&user%5Bsubscriber_address%5D%5Bcity_name%5D=new_city&user%5Bsubscriber_address%5D%5Bcountry_name%5D%5Benglish_name%5D=United+States&user%5Bsubscriber_address%5D%5Bpostal_code%5D=60606&user%5Bsubscriber_address%5D%5Bstreet_address_line_1%5D=new_line_1&user%5Bsubscriber_address%5D%5Bstreet_address_line_2%5D=new_line_2&user%5Bsubscriber_address%5D%5Bus_state%5D%5Bname%5D=pa]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 00:18:49', `updated_at` = '2008-12-17 00:18:49' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 19:18:49) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"bad_password", "password"=>"new_password"}, "id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 2, DB: 31) | 200 OK [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=bad_password]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 00:18:49', `updated_at` = '2008-12-17 00:18:49' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m


Processing Admin::UsersController#process_account_request (for 0.0.0.0 at 2008-12-16 19:18:49) [PUT]
  Parameters: {"account_request_id"=>"1", "user_account_request"=>{"ci_notes"=>"updated_notes"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Update (0.2ms)[0m   [0;1mUPDATE `ci_user_account_requests` SET `ci_notes` = 'updated_notes', `updated_at` = '2008-12-17 00:18:49' WHERE `user_account_request_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionlist_account_requests
Completed in 4ms (DB: 83) | 302 Found [http://test.host/admin/users/process_account_request?account_request_id=1&user_account_request%5Bci_notes%5D=updated_notes]
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 00:18:49', `updated_at` = '2008-12-17 00:18:49' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 19:18:49) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-17 00:18:49' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 19:18:49 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: New password for your ContactImprov.net account
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have reset the password on your Contact Quarterly online account.

Your new password is:

  new_password

To log on to your account, just go to:

  http://community.contactquarterly.com/

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionshowid1
Completed in 9ms (DB: 31) | 302 Found [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 00:18:49', `updated_at` = '2008-12-17 00:18:49' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 19:18:49) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 77) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 00:18:49', `remember_token` = 'bb6de3b9b3316b515e1beb84c17914ebb400b8ec', `updated_at` = '2008-12-17 00:18:49' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 19:18:49) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 29) | 200 OK [http://test.host/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 00:18:49', `remember_token` = 'bb6de3b9b3316b515e1beb84c17914ebb400b8ec', `updated_at` = '2008-12-17 00:18:49' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-17 00:13:49', `updated_at` = '2008-12-17 00:18:49' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 19:18:49) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'bb6de3b9b3316b515e1beb84c17914ebb400b8ec') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 81) | 200 OK [http://test.host/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 19:18:50) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 00:18:50', `updated_at` = '2008-12-17 00:18:50' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 31) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 19:18:50) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 00:18:50', `updated_at` = '2008-12-17 00:18:50' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 31) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 00:18:50', `remember_token` = '8d1e093b8aa7d36ac7416ddf5443beb889280887', `updated_at` = '2008-12-17 00:18:50' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 19:18:50) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '8d1e093b8aa7d36ac7416ddf5443beb889280887') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 00:18:50', `updated_at` = '2008-12-17 00:18:50' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=8d1e093b8aa7d36ac7416ddf5443beb889280887; path=/; expires=Wed, 31 Dec 2008 00:18:50 GMT
Redirected to /
Completed in 3ms (DB: 82) | 302 Found [http://test.host/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 19:18:50) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 28) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 19:18:50) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 82) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 19:18:50) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '083638c979d091f2113ebaaba6be508e11cb06d7', `updated_at` = '2008-12-17 00:18:50' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 19:18:50 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/083638c979d091f2113ebaaba6be508e11cb06d7

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 25) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 19:18:50) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 76) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 19:18:50) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 25) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 19:18:50) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 76) | 302 Found [http://test.host/session?email=&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 19:18:50) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 25) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;35;1mUser Load (51.5ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 19:18:51) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org", "remember_me"=>"0"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 00:18:51', `updated_at` = '2008-12-17 00:18:51' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 78) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 19:18:51) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 00:18:51', `updated_at` = '2008-12-17 00:18:51' WHERE `user_id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 22) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 19:18:51) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org", "remember_me"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 00:18:51', `updated_at` = '2008-12-17 00:18:51' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 00:18:51', `remember_token` = 'af8e6c4a830aaadcffc3669b14bb6e80f3a7d500', `updated_at` = '2008-12-17 00:18:51' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=af8e6c4a830aaadcffc3669b14bb6e80f3a7d500; path=/; expires=Wed, 31 Dec 2008 00:18:51 GMT
Redirected to /
Completed in 6ms (DB: 23) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 19:18:51) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '52d6128553661625ede28ee3afaabd87171e3764', `updated_at` = '2008-12-17 00:18:51' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 19:18:51 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/52d6128553661625ede28ee3afaabd87171e3764

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 79) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '31bb6f6a776e133ed0995702b9fa69d133dfdb21', `updated_at` = '2008-12-17 00:18:51' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 00:18:51' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 19:18:51) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"31bb6f6a776e133ed0995702b9fa69d133dfdb21"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '31bb6f6a776e133ed0995702b9fa69d133dfdb21') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-17 00:18:51', `state` = 'active', `updated_at` = '2008-12-17 00:18:51' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to actionindex
Completed in 6ms (DB: 23) | 302 Found [http://test.host/activate/31bb6f6a776e133ed0995702b9fa69d133dfdb21?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 19:18:51) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 78) | 200 OK [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 19:18:51) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"new_email@foo.com"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'new_email@foo.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Create (0.1ms)[0m   [0mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-17 00:18:51', 1, 'first_name', 'last_name', '2008-12-17 00:18:51')[0m
  [4;36;1mPerson::Version Create (0.1ms)[0m   [0;1mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-17 00:18:51', NULL, 1, 'first_name', 15003, 'last_name')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15003) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mEmail Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mEmail Create (0.1ms)[0m   [0mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-17 00:18:51', 1, 1, 'new_email@foo.com', '2008-12-17 00:18:51')[0m
  [4;36;1mEmail::Version Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;35;1mEmail::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15001, NULL, '2008-12-17 00:18:51', 1, NULL, 1, 'new_email@foo.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Create (0.1ms)[0m   [0;1mINSERT INTO `ci_user_account_requests` (`ci_notes`, `email_id`, `updated_at`, `location_id`, `person_id`, `state`, `created_at`) VALUES(NULL, 15001, '2008-12-17 00:18:51', NULL, 15003, 'new', '2008-12-17 00:18:51')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 19:18:51 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Account request for first_name last_name (new_email@foo.com)
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

ACCOUNT REQUEST
---------------

NAME:   first_name last_name
EMAIL:  new_email@foo.com

To approve or deny this account request, please go to:

  https://www.contactimprov.net/admin/users/list_account_requests
Redirected to actionaccount_requested
Completed in 20ms (DB: 33) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;36;1mUserAccountRequest Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` ORDER BY ci_user_account_requests.user_account_request_id DESC LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15003) [0m
  [4;36;1mEmail Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (`ci_emails`.`email_id` = 15001) [0m


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 19:18:51) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '8347f53126fa5a22de5be72ea0bfdd830f56d978', `updated_at` = '2008-12-17 00:18:51' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 19:18:51 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/8347f53126fa5a22de5be72ea0bfdd830f56d978

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 8ms (DB: 77) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 19:18:51) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-17 00:18:51' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 19:18:51 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 2, DB: 28) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 19:18:51) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-17 00:18:51' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 78) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 00:18:52', `updated_at` = '2008-12-17 00:18:52' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 19:18:52) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"newfirst", "last_name"=>"newlast"}}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max(`ci_person_versions`.version) AS max_version FROM `ci_person_versions` WHERE (`ci_person_versions`.person_id = 1) [0m
  [4;36;1mPerson Update (0.2ms)[0m   [0;1mUPDATE `ci_people` SET `version` = 1, `last_name` = 'newlast', `first_name` = 'newfirst', `updated_at` = '2008-12-17 00:18:52' WHERE `person_id` = 1[0m
  [4;35;1mPerson::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-17 00:18:52', NULL, 1, 'newfirst', 1, 'newlast')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 10ms (DB: 29) | 302 Found [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=newfirst&user%5Bperson%5D%5Blast_name%5D=newlast]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Load (56.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '6b5c090547ce5d1d25c6af3d1be08ed822028bce', `updated_at` = '2008-12-17 00:18:52' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 19:18:52) [GET]
  Parameters: {"password_reset_code"=>"6b5c090547ce5d1d25c6af3d1be08ed822028bce"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '6b5c090547ce5d1d25c6af3d1be08ed822028bce') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 2, DB: 87) | 200 OK [http://test.host/reset_password/6b5c090547ce5d1d25c6af3d1be08ed822028bce]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '0bff00e450de86337e37b8bc8214485add3ccfdc', `updated_at` = '2008-12-17 00:18:52' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 00:18:52' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 19:18:52) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"0bff00e450de86337e37b8bc8214485add3ccfdc"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '0bff00e450de86337e37b8bc8214485add3ccfdc') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 3, DB: 33) | 200 OK [http://test.host/activate/0bff00e450de86337e37b8bc8214485add3ccfdc?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 19:18:52) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 26) | 302 Found [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 19:18:52) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>""}}
Rendering user/request_account
Rendered shared/_header (0.5ms)
Rendered shared/_person (0.4ms)
Rendered shared/_email (0.4ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 3, DB: 85) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 19:18:52) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>""}, "uar_email"=>{"address"=>"new_email@foo.com"}}
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.4ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 3, DB: 29) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 19:18:52) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 19:18:52 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 2, DB: 89) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 19:18:52) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.3ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '32a00242a706442e80bf6b0bd088ccb19367a556', `updated_at` = '2008-12-17 00:18:52' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 19:18:52 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/32a00242a706442e80bf6b0bd088ccb19367a556

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 15ms (View: 2, DB: 31) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 19:18:53) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 93) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 19:18:53) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 24) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 19:18:53) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 86) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 19:18:53) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 28) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 19:18:53) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 3, DB: 29) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 19:18:53) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 84) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 19:18:53) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.2ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 2, DB: 31) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 19:18:53) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 82) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 19:18:53) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"", "last_name"=>""}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering user/edit
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 26) | 200 OK [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 19:18:53) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 81) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 19:18:54) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 23) | 200 OK [http://test.host/reset_password/]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'ec218a259075943e52eb50fef33a3110f2c17d8c', `updated_at` = '2008-12-17 00:18:54' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 19:18:54) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"ec218a259075943e52eb50fef33a3110f2c17d8c"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'ec218a259075943e52eb50fef33a3110f2c17d8c') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 84) | 200 OK [http://test.host/reset_password/ec218a259075943e52eb50fef33a3110f2c17d8c?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 19:18:54) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 1, DB: 25) | 200 OK [http://test.host/activate/randomgarbage]
  [4;36;1mUser Load (59.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '62f7c41c10e33eafa292560202f585c2aa61e9f2', `updated_at` = '2008-12-17 00:18:54' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 19:18:54) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"62f7c41c10e33eafa292560202f585c2aa61e9f2"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '62f7c41c10e33eafa292560202f585c2aa61e9f2') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-17 00:18:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.6ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 85) | 200 OK [http://test.host/reset_password/62f7c41c10e33eafa292560202f585c2aa61e9f2?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 00:18:54', `updated_at` = '2008-12-17 00:18:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 19:18:54) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"quentin@contactimprov.org"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '3b6c58a8339940546f84dd0374dafa44315fbc58', `updated_at` = '2008-12-17 00:18:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 19:18:54 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/3b6c58a8339940546f84dd0374dafa44315fbc58

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 9ms (DB: 26) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=quentin%40contactimprov.org&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 19:18:54) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"pending_user@contactimprov.org"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'pending_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'pending_user@contactimprov.org' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'daf47bbc6a7d8cd4b656fd5f19e54d96d4c2f91b', `updated_at` = '2008-12-17 00:18:54' WHERE `user_id` = 8[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 19:18:54 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/daf47bbc6a7d8cd4b656fd5f19e54d96d4c2f91b

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  pending_user@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_account
Rendered shared/_header (0.6ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 3, DB: 26) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=pending_user%40contactimprov.org&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'cc1ada8b8689d4e5d035be85df5f41e936f74d29', `updated_at` = '2008-12-17 00:18:54' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 00:18:54' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 19:18:54) [GET]
  Parameters: {"activation_code"=>"cc1ada8b8689d4e5d035be85df5f41e936f74d29"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'cc1ada8b8689d4e5d035be85df5f41e936f74d29') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 89) | 200 OK [http://test.host/activate/cc1ada8b8689d4e5d035be85df5f41e936f74d29]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCompany Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `ci_companies`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCompany Create (0.2ms)[0m   [0;1mINSERT INTO `ci_companies` (`name`, `updated_at`, `version`, `created_at`) VALUES('Foo', '2008-12-17 01:19:48', 1, '2008-12-17 01:19:48')[0m
  [4;35;1mCompany::Version Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `ci_company_versions`[0m
  [4;36;1mCompany::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_company_versions` (`name`, `updated_at`, `company_version_id`, `version`, `company_id`) VALUES('Foo', '2008-12-17 01:19:48', NULL, 1, 15000)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mContactEvent Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_contact_events`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mContactEvent Create (0.3ms)[0m   [0;1mINSERT INTO `ci_contact_events` (`start_date`, `end_date`, `phone_number_id`, `url_id`, `email_id`, `ci_notes`, `updated_at`, `title`, `studio_id`, `version`, `subtitle`, `description`, `company_id`, `person_id`, `created_at`) VALUES('2008-12-16 20:19:49', '2008-12-16 20:19:49', NULL, NULL, NULL, NULL, '2008-12-17 01:19:49', 'New Event', NULL, 1, NULL, 'Fantastic new event', NULL, NULL, '2008-12-17 01:19:49')[0m
  [4;35;1mContactEvent::Version Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `ci_contact_event_versions`[0m
  [4;36;1mContactEvent::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_contact_event_versions` (`start_date`, `end_date`, `phone_number_id`, `url_id`, `email_id`, `ci_notes`, `updated_at`, `title`, `studio_id`, `contact_event_version_id`, `version`, `subtitle`, `description`, `company_id`, `contact_event_id`, `person_id`) VALUES('2008-12-16 20:19:49', '2008-12-16 20:19:49', NULL, NULL, NULL, NULL, '2008-12-17 01:19:49', 'New Event', NULL, NULL, 1, NULL, 'Fantastic new event', NULL, 15000, NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEmail Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mEmail Create (0.2ms)[0m   [0mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-17 01:19:49', 1, 1, 'charman@acm.org', '2008-12-17 01:19:49')[0m
  [4;36;1mEmail::Version Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;35;1mEmail::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15000, NULL, '2008-12-17 01:19:49', 1, NULL, 1, 'charman@acm.org')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: 
City: City Name
State: 
Zip: 
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>City Name, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Holy Name (Es), King, ON, Canada</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>CA</CountryNameCode><CountryName>Canada</CountryName><AdministrativeArea><AdministrativeAreaName>ON</AdministrativeAreaName><Locality><LocalityName>King</LocalityName><PostalCode><PostalCodeNumber>L7B</PostalCodeNumber><AddressLine>Holy Name (Es)</AddressLine></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-79.5391900,43.9247060,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mLocation Create (0.3ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES(NULL, NULL, '2008-12-17 01:19:50', NULL, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2, '2008-12-17 01:19:50')[0m
  [4;36;1mLocation::Version Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES(NULL, NULL, NULL, '2008-12-17 01:19:50', NULL, 15000, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 1) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
Google geocoding. Address: 100 Spear St, San Francisco, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Spear St, San Francisco, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Spear St, San Francisco, CA 94105, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Spear St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94105</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-122.3940000,37.7921500,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPhoneNumber Create (0.2ms)[0m   [0;1mINSERT INTO `ci_phone_numbers` (`for_entity_id`, `updated_at`, `number`, `version`, `created_at`) VALUES(NULL, '2008-12-17 01:19:51', '585-275-4822', 1, '2008-12-17 01:19:51')[0m
  [4;35;1mPhoneNumber::Version Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `ci_phone_number_versions`[0m
  [4;36;1mPhoneNumber::Version Create (0.3ms)[0m   [0;1mINSERT INTO `ci_phone_number_versions` (`phone_number_id`, `for_entity_id`, `updated_at`, `number`, `version`, `phone_number_version_id`) VALUES(15000, NULL, '2008-12-17 01:19:51', '585-275-4822', 1, NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mStudio Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `ci_studios`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStudio Create (0.2ms)[0m   [0;1mINSERT INTO `ci_studios` (`name`, `updated_at`, `version`, `created_at`) VALUES('Foo', '2008-12-17 01:19:51', 1, '2008-12-17 01:19:51')[0m
  [4;35;1mStudio::Version Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `ci_studio_versions`[0m
  [4;36;1mStudio::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_studio_versions` (`name`, `updated_at`, `studio_version_id`, `studio_id`, `version`) VALUES('Foo', '2008-12-17 01:19:51', NULL, 15000, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUrl Create (0.2ms)[0m   [0mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-17 01:19:51', 1, 'http://craigharman.net/', '2008-12-17 01:19:51')[0m
  [4;36;1mUrl::Version Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `ci_url_versions`[0m
  [4;35;1mUrl::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15000, NULL, '2008-12-17 01:19:51', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUrl Create (0.2ms)[0m   [0;1mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-17 01:19:51', 1, 'http://craigharman.net/', '2008-12-17 01:19:51')[0m
  [4;35;1mUrl::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15001, NULL, '2008-12-17 01:19:51', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUrl Load (0.2ms)[0m   [0mSELECT * FROM `ci_urls` WHERE (`ci_urls`.`url_id` = 15001) [0m
  [4;36;1mUsState Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.3ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-17 01:19:52', `state` = 'active', `updated_at` = '2008-12-17 01:19:52' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:19:52', `updated_at` = '2008-12-17 01:19:52' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '83521cf87e549ca4d60533c32aa1795f27563f19', `updated_at` = '2008-12-17 01:19:52' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 01:19:52' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('83d8cb9f7724d9907f496fe34e53911b1b996a83', NULL, NULL, '2008-12-17 01:19:53', '3ddd2826f14e22c04d1912842ea2ba8a4717c2ef', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-17 01:19:53')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('331135133c7f82b7be6755e26e27a3f230e59ef7', NULL, NULL, '2008-12-17 01:19:53', '928e9e34851f75ddbc0dfde07077790ced400527', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-17 01:19:53')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `deleted_at` = '2008-12-17 01:19:53', `state` = 'deleted', `updated_at` = '2008-12-17 01:19:53' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('8dc7548ec763bcc1bd5a77760e5cffb305e7c4e8', NULL, NULL, '2008-12-17 01:19:53', '3fd8ec0ef963f8daeebf235f9b83391d34ab8ea1', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-17 01:19:53')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15004) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-17 01:19:53' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:19:53', `updated_at` = '2008-12-17 01:19:53' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-17 01:19:53' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'd63383ad439cddd733f568f80382ac4029f42945', `updated_at` = '2008-12-17 01:19:53' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 01:19:53' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 01:19:53', `remember_token` = '21fe6056216a35a380944e24a5e2b8038f226b02', `updated_at` = '2008-12-17 01:19:53' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-24 01:19:53', `remember_token` = '05f2facd427aca02efe55f5bae3e642b1f6ca02f', `updated_at` = '2008-12-17 01:19:53' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-24 01:19:53', `remember_token` = '05f2facd427aca02efe55f5bae3e642b1f6ca02f', `updated_at` = '2008-12-17 01:19:53' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-17 01:19:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:19:54', `updated_at` = '2008-12-17 01:19:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 01:19:54', `remember_token` = '779187431a6bfd0a19986848803d735a4dccd48f', `updated_at` = '2008-12-17 01:19:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-17 01:19:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (72.5ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 01:19:54', `remember_token` = '779187431a6bfd0a19986848803d735a4dccd48f', `updated_at` = '2008-12-17 01:19:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-17 01:19:54' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-17 01:19:54' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-17 01:19:54', `state` = 'active', `updated_at` = '2008-12-17 01:19:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-17 01:19:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'foo-bar', `activated_at` = NULL [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '8d162848fd7762686e2b8c7388a226fa35380c1f', `updated_at` = '2008-12-17 01:19:54' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 01:19:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-17 01:19:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = NULL, `activated_at` = NULL [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-17 01:19:54' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-17 01:19:55' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 20:19:56) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-17 01:19:56", updated_at: "2008-12-17 01:19:56">}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-17 01:19:56', `state` = 'active', `email` = 'activate@contactquarterly.com', `updated_at` = '2008-12-17 01:19:56' WHERE `user_id` = 8[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:19:56 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Your ContactImprov.net account has been activated
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactQuarterly.com account has been created for you.  In 
order to use your account, just go to this page:

  https://community.contactquarterly.com/

and log in using your email address:

  activate@contactquarterly.com

and this password:

  test

You can change your password once you have logged in.

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionindex
Completed in 119ms (DB: 44) | 302 Found [http://test.host/admin/users/activate/8?user%5Bemail%5D=activate%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 20:19:57) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/edit
Rendered shared/admin/_header (2.4ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_person (2.1ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 7, DB: 22) | 200 OK [http://test.host/admin/users/edit/1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#index (for 0.0.0.0 at 2008-12-16 20:19:57) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` WHERE (state = 'active') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` WHERE (state = 'pending') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_user_account_requests` WHERE (state ='new') [0m
Rendering admin/users/index
Rendered shared/admin/_header (0.9ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 6ms (View: 4, DB: 26) | 200 OK [http://test.host/admin/users]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list (for 0.0.0.0 at 2008-12-16 20:19:57) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` [0m
Rendering admin/users/list
Rendered shared/admin/_header (0.8ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 402) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 10) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 401) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
Rendered admin/users/_user_table (6.8ms)
Rendered admin/users/_user_table_js (0.2ms)
Rendered admin/users/_list_users (7.5ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 11ms (View: 9, DB: 25) | 200 OK [http://test.host/admin/users/list]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list_active (for 0.0.0.0 at 2008-12-16 20:19:57) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (state = 'active') [0m
Rendering admin/users/list_active
Rendered shared/admin/_header (0.8ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 402) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 10) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 401) [0m
Rendered admin/users/_user_table (4.0ms)
Rendered admin/users/_user_table_js (0.1ms)
Rendered admin/users/_list_users (4.4ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 6, DB: 23) | 200 OK [http://test.host/admin/users/list_active]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list_pending (for 0.0.0.0 at 2008-12-16 20:19:57) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (state = 'pending') [0m
Rendering admin/users/list_pending
Rendered shared/admin/_header (0.8ms)
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
Rendered admin/users/_user_table (1.5ms)
Rendered admin/users/_user_table_js (0.1ms)
Rendered admin/users/_list_users (1.9ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 73) | 200 OK [http://test.host/admin/users/list_pending]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#map (for 0.0.0.0 at 2008-12-16 20:19:57) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (geocode_precision IS NOT NULL) [0m
Rendering admin/users/map
Rendered shared/admin/_header (0.8ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 24) | 200 OK [http://test.host/admin/users/map]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#new (for 0.0.0.0 at 2008-12-16 20:19:57) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.8ms)
Rendered shared/_person (0.7ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 72) | 200 OK [http://test.host/admin/users/new]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 20:19:57) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.8ms)
  [4;36;1mPerson Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/admin/_footer (0.1ms)
Completed in 5ms (View: 3, DB: 32) | 200 OK [http://test.host/admin/users/reset_password/1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUserAccountRequest Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m


Processing Admin::UsersController#show_account_request (for 0.0.0.0 at 2008-12-16 20:19:57) [GET]
  Parameters: {"id"=>#<UserAccountRequest user_account_request_id: 1, state: "new", ci_notes: nil, person_id: 1, email_id: 101, location_id: nil, created_at: "2008-12-17 01:19:57", updated_at: "2008-12-17 01:19:57">}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUserAccountRequest Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
Rendering admin/users/show_account_request
Rendered shared/admin/_header (0.9ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mEmail Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (`ci_emails`.`email_id` = 101) [0m
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 6, DB: 86) | 200 OK [http://test.host/admin/users/show_account_request/1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 20:19:58) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com", "person"=>{"first_name"=>"Firstname", "last_name"=>"Lastname"}}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: person
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;36;1mPerson Create (0.2ms)[0m   [0;1mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-17 01:19:58', 1, 'Firstname', 'Lastname', '2008-12-17 01:19:58')[0m
  [4;35;1mPerson::Version Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `ci_person_versions`[0m
  [4;36;1mPerson::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-17 01:19:58', NULL, 1, 'Firstname', 15002, 'Lastname')[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('3bf1fefdf6519a84d084fe26cda68a8d146396d0', NULL, NULL, '2008-12-17 01:19:58', 'a0638fbcb99ae9914717c34481a1cc806db27e95', NULL, 0, NULL, NULL, NULL, NULL, 15002, 'admin_users_create@contactquarterly.com', 'passive', '2008-12-17 01:19:58')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com' AND `ci_users`.user_id <> 15005) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '0a3e393ccb491fa16a191b52048c1c2f99e811f1', `updated_at` = '2008-12-17 01:19:58' WHERE `user_id` = 15005[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 01:19:58' WHERE `user_id` = 15005[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:19:58 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Firstname Lastname -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/0a3e393ccb491fa16a191b52048c1c2f99e811f1

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  admin_users_create@contactquarterly.com

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionindex
Completed in 22ms (DB: 33) | 302 Found [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test&user%5Bperson%5D%5Bfirst_name%5D=Firstname&user%5Bperson%5D%5Blast_name%5D=Lastname]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 20:19:58) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-17 01:19:58", updated_at: "2008-12-17 01:19:58">}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
Rendering admin/users/activate
Rendered shared/admin/_header (0.9ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 9ms (View: 3, DB: 83) | 200 OK [http://test.host/admin/users/activate/8?user%5Bemail%5D=activate%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 20:19:58) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (1.4ms)
Rendered shared/_person (1.0ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 13ms (View: 5, DB: 35) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (51.9ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 20:19:58) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.8ms)
Rendered shared/_person (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 78) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 20:19:58) [PUT]
  Parameters: {"user"=>{"subscriber_address"=>{"postal_code"=>"60606", "street_address_line_1"=>"new_line_1", "street_address_line_2"=>"new_line_2", "city_name"=>"new_city", "us_state"=>{"name"=>"pa"}, "country_name"=>{"english_name"=>"United States"}}, "person"=>{"first_name"=>"", "last_name"=>""}}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering admin/users/edit
Rendered shared/admin/_header (0.8ms)
Rendered shared/_person (0.5ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 30) | 200 OK [http://test.host/admin/users/edit/1?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=&user%5Bsubscriber_address%5D%5Bcity_name%5D=new_city&user%5Bsubscriber_address%5D%5Bcountry_name%5D%5Benglish_name%5D=United+States&user%5Bsubscriber_address%5D%5Bpostal_code%5D=60606&user%5Bsubscriber_address%5D%5Bstreet_address_line_1%5D=new_line_1&user%5Bsubscriber_address%5D%5Bstreet_address_line_2%5D=new_line_2&user%5Bsubscriber_address%5D%5Bus_state%5D%5Bname%5D=pa]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:19:58', `updated_at` = '2008-12-17 01:19:58' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 20:19:58) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"bad_password", "password"=>"new_password"}, "id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.8ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 31) | 200 OK [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=bad_password]
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:19:58', `updated_at` = '2008-12-17 01:19:58' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUserAccountRequest Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m


Processing Admin::UsersController#process_account_request (for 0.0.0.0 at 2008-12-16 20:19:58) [PUT]
  Parameters: {"account_request_id"=>"1", "user_account_request"=>{"ci_notes"=>"updated_notes"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUserAccountRequest Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Update (0.2ms)[0m   [0;1mUPDATE `ci_user_account_requests` SET `ci_notes` = 'updated_notes', `updated_at` = '2008-12-17 01:19:58' WHERE `user_account_request_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionlist_account_requests
Completed in 3ms (DB: 82) | 302 Found [http://test.host/admin/users/process_account_request?account_request_id=1&user_account_request%5Bci_notes%5D=updated_notes]
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:19:58', `updated_at` = '2008-12-17 01:19:58' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 20:19:58) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-17 01:19:58' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:19:58 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: New password for your ContactImprov.net account
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have reset the password on your Contact Quarterly online account.

Your new password is:

  new_password

To log on to your account, just go to:

  http://community.contactquarterly.com/

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionshowid1
Completed in 9ms (DB: 25) | 302 Found [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:19:58', `updated_at` = '2008-12-17 01:19:58' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 20:19:59) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 3ms (DB: 99) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 01:19:59', `remember_token` = '4a0c604e74352cfab6351f850f172114753aa770', `updated_at` = '2008-12-17 01:19:59' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 20:19:59) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (1.1ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 3, DB: 72) | 200 OK [http://test.host/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 01:19:59', `remember_token` = '4a0c604e74352cfab6351f850f172114753aa770', `updated_at` = '2008-12-17 01:19:59' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-17 01:14:59', `updated_at` = '2008-12-17 01:19:59' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 20:19:59) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '4a0c604e74352cfab6351f850f172114753aa770') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 26) | 200 OK [http://test.host/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:19:59) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:19:59', `updated_at` = '2008-12-17 01:19:59' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 73) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:19:59) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:19:59', `updated_at` = '2008-12-17 01:19:59' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 23) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 01:19:59', `remember_token` = '4a0c604e74352cfab6351f850f172114753aa770', `updated_at` = '2008-12-17 01:19:59' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 20:19:59) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '4a0c604e74352cfab6351f850f172114753aa770') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 01:19:59', `updated_at` = '2008-12-17 01:19:59' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=4a0c604e74352cfab6351f850f172114753aa770; path=/; expires=Wed, 31 Dec 2008 01:19:59 GMT
Redirected to /
Completed in 3ms (DB: 23) | 302 Found [http://test.host/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 20:19:59) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 75) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:19:59) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 22) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:19:59) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'f78aad1c5ec03b44a8dd82cc7c3979050ceb183b', `updated_at` = '2008-12-17 01:19:59' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:19:59 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/f78aad1c5ec03b44a8dd82cc7c3979050ceb183b

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 77) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:19:59) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 30) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:20:00) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 3ms (DB: 80) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:20:00) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 25) | 302 Found [http://test.host/session?email=&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:20:00) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 78) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:20:00) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org", "remember_me"=>"0"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:20:00', `updated_at` = '2008-12-17 01:20:00' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 34) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;35;1mUser Load (51.8ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:20:00) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:20:00', `updated_at` = '2008-12-17 01:20:00' WHERE `user_id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 81) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:20:00) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org", "remember_me"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:20:00', `updated_at` = '2008-12-17 01:20:00' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 01:20:00', `remember_token` = '7f3ba5c9bf87b8643f85012bd653c977ba7a6862', `updated_at` = '2008-12-17 01:20:00' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=7f3ba5c9bf87b8643f85012bd653c977ba7a6862; path=/; expires=Wed, 31 Dec 2008 01:20:00 GMT
Redirected to /
Completed in 7ms (DB: 30) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:20:00) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '242821242788bac63ccfd992669d1809cf74fbe9', `updated_at` = '2008-12-17 01:20:00' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:20:00 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/242821242788bac63ccfd992669d1809cf74fbe9

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 30) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'cd078faf8f41e282b846da283d4f1adcd13fb870', `updated_at` = '2008-12-17 01:20:00' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 01:20:00' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 20:20:00) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"cd078faf8f41e282b846da283d4f1adcd13fb870"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'cd078faf8f41e282b846da283d4f1adcd13fb870') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-17 01:20:00', `state` = 'active', `updated_at` = '2008-12-17 01:20:00' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to actionindex
Completed in 6ms (DB: 84) | 302 Found [http://test.host/activate/cd078faf8f41e282b846da283d4f1adcd13fb870?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 20:20:00) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.4ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 22) | 200 OK [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 20:20:01) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"new_email@foo.com"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'new_email@foo.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Create (0.1ms)[0m   [0mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-17 01:20:01', 1, 'first_name', 'last_name', '2008-12-17 01:20:01')[0m
  [4;36;1mPerson::Version Create (0.1ms)[0m   [0;1mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-17 01:20:01', NULL, 1, 'first_name', 15003, 'last_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15003) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEmail Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mEmail Create (0.2ms)[0m   [0mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-17 01:20:01', 1, 1, 'new_email@foo.com', '2008-12-17 01:20:01')[0m
  [4;36;1mEmail::Version Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;35;1mEmail::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15001, NULL, '2008-12-17 01:20:01', 1, NULL, 1, 'new_email@foo.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Create (0.2ms)[0m   [0;1mINSERT INTO `ci_user_account_requests` (`ci_notes`, `email_id`, `updated_at`, `location_id`, `person_id`, `state`, `created_at`) VALUES(NULL, 15001, '2008-12-17 01:20:01', NULL, 15003, 'new', '2008-12-17 01:20:01')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:20:01 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Account request for first_name last_name (new_email@foo.com)
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

ACCOUNT REQUEST
---------------

NAME:   first_name last_name
EMAIL:  new_email@foo.com

To approve or deny this account request, please go to:

  https://www.contactimprov.net/admin/users/list_account_requests
Redirected to actionaccount_requested
Completed in 20ms (DB: 84) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` ORDER BY ci_user_account_requests.user_account_request_id DESC LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15003) [0m
  [4;36;1mEmail Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (`ci_emails`.`email_id` = 15001) [0m


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 20:20:01) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '48ceae01b927a59d044938366de6e102fc3138f0', `updated_at` = '2008-12-17 01:20:01' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:20:01 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/48ceae01b927a59d044938366de6e102fc3138f0

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 8ms (DB: 22) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 20:20:01) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-17 01:20:01' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:20:01 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.9ms)
Rendered shared/_footer (0.1ms)
Completed in 12ms (View: 3, DB: 77) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 20:20:01) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-17 01:20:01' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 23) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:20:01', `updated_at` = '2008-12-17 01:20:01' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 20:20:01) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"newfirst", "last_name"=>"newlast"}}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max(`ci_person_versions`.version) AS max_version FROM `ci_person_versions` WHERE (`ci_person_versions`.person_id = 1) [0m
  [4;36;1mPerson Update (0.2ms)[0m   [0;1mUPDATE `ci_people` SET `version` = 1, `last_name` = 'newlast', `first_name` = 'newfirst', `updated_at` = '2008-12-17 01:20:01' WHERE `person_id` = 1[0m
  [4;35;1mPerson::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-17 01:20:01', NULL, 1, 'newfirst', 1, 'newlast')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 10ms (DB: 91) | 302 Found [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=newfirst&user%5Bperson%5D%5Blast_name%5D=newlast]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '77b31f6f8ffed045b8ad9f25ee5ef3844012a354', `updated_at` = '2008-12-17 01:20:01' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 20:20:01) [GET]
  Parameters: {"password_reset_code"=>"77b31f6f8ffed045b8ad9f25ee5ef3844012a354"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '77b31f6f8ffed045b8ad9f25ee5ef3844012a354') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 2, DB: 23) | 200 OK [http://test.host/reset_password/77b31f6f8ffed045b8ad9f25ee5ef3844012a354]
  [4;35;1mUser Load (56.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'e11966caac64de5ab587c5e5a2afd191cadfa74a', `updated_at` = '2008-12-17 01:20:01' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 01:20:01' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 20:20:01) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"e11966caac64de5ab587c5e5a2afd191cadfa74a"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'e11966caac64de5ab587c5e5a2afd191cadfa74a') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 85) | 200 OK [http://test.host/activate/e11966caac64de5ab587c5e5a2afd191cadfa74a?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 20:20:01) [GET]
Rendering user/index
Rendered shared/_header (0.8ms)


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 20:20:01) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>""}}
Rendering user/request_account
Rendered shared/_header (1.4ms)
Rendered shared/_person (0.8ms)
Rendered shared/_email (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 10ms (View: 6, DB: 34) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 20:20:02) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>""}, "uar_email"=>{"address"=>"new_email@foo.com"}}
Rendering user/request_account
Rendered shared/_header (1.1ms)
Rendered shared/_person (0.7ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 4, DB: 97) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 20:20:02) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:20:02 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 4, DB: 30) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 20:20:02) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '07ecd50d1fadbd5834f4b0ec3b268b76fad50e74', `updated_at` = '2008-12-17 01:20:02' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:20:02 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/07ecd50d1fadbd5834f4b0ec3b268b76fad50e74

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (1.4ms)
Rendered shared/_footer (0.1ms)
Completed in 16ms (View: 3, DB: 89) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 20:20:02) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 29) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 20:20:02) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 80) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 20:20:02) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 28) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 20:20:02) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 3, DB: 95) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 20:20:02) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.4ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 30) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 20:20:02) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.5ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 24) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 20:20:03) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.5ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 84) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 20:20:03) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 25) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 20:20:03) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"", "last_name"=>""}}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering user/edit
Rendered shared/_header (0.9ms)
Rendered shared/_person (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 81) | 200 OK [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 20:20:03) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 25) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 20:20:03) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 81) | 200 OK [http://test.host/reset_password/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '6f7b086fcfffc959607c161d63e22a733e6ff06b', `updated_at` = '2008-12-17 01:20:03' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 20:20:03) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"6f7b086fcfffc959607c161d63e22a733e6ff06b"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '6f7b086fcfffc959607c161d63e22a733e6ff06b') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 3, DB: 23) | 200 OK [http://test.host/reset_password/6f7b086fcfffc959607c161d63e22a733e6ff06b?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 20:20:03) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 81) | 200 OK [http://test.host/activate/randomgarbage]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '8ecb54a7be75b86633c91faf5c283da5facb6f3a', `updated_at` = '2008-12-17 01:20:03' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 20:20:03) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"8ecb54a7be75b86633c91faf5c283da5facb6f3a"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '8ecb54a7be75b86633c91faf5c283da5facb6f3a') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-17 01:20:03' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 24) | 200 OK [http://test.host/reset_password/8ecb54a7be75b86633c91faf5c283da5facb6f3a?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:20:03', `updated_at` = '2008-12-17 01:20:03' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (61.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 20:20:03) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"quentin@contactimprov.org"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.5ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '7249441d3355ba1ca8572bc4469651c0ea0a7c65', `updated_at` = '2008-12-17 01:20:03' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:20:03 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/7249441d3355ba1ca8572bc4469651c0ea0a7c65

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 10ms (DB: 92) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=quentin%40contactimprov.org&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 20:20:04) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"pending_user@contactimprov.org"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'pending_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'pending_user@contactimprov.org' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '7a9b77f1baaa7db5b988d16f81ad6af954210c0e', `updated_at` = '2008-12-17 01:20:04' WHERE `user_id` = 8[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:20:04 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/7a9b77f1baaa7db5b988d16f81ad6af954210c0e

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  pending_user@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_account
Rendered shared/_header (0.8ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 3, DB: 25) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=pending_user%40contactimprov.org&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '8b79ed1dd789e020ba6d0b2d093fea62b0ef8af2', `updated_at` = '2008-12-17 01:20:04' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 01:20:04' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 20:20:04) [GET]
  Parameters: {"activation_code"=>"8b79ed1dd789e020ba6d0b2d093fea62b0ef8af2"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '8b79ed1dd789e020ba6d0b2d093fea62b0ef8af2') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 31) | 200 OK [http://test.host/activate/8b79ed1dd789e020ba6d0b2d093fea62b0ef8af2]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCompany Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `ci_companies`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mCompany Create (0.3ms)[0m   [0;1mINSERT INTO `ci_companies` (`name`, `updated_at`, `version`, `created_at`) VALUES('Foo', '2008-12-17 01:23:31', 1, '2008-12-17 01:23:31')[0m
  [4;35;1mCompany::Version Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `ci_company_versions`[0m
  [4;36;1mCompany::Version Create (0.3ms)[0m   [0;1mINSERT INTO `ci_company_versions` (`name`, `updated_at`, `company_version_id`, `version`, `company_id`) VALUES('Foo', '2008-12-17 01:23:31', NULL, 1, 15000)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mContactEvent Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_contact_events`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mContactEvent Create (0.3ms)[0m   [0;1mINSERT INTO `ci_contact_events` (`start_date`, `end_date`, `phone_number_id`, `url_id`, `email_id`, `ci_notes`, `updated_at`, `title`, `studio_id`, `version`, `subtitle`, `description`, `company_id`, `person_id`, `created_at`) VALUES('2008-12-16 20:23:31', '2008-12-16 20:23:31', NULL, NULL, NULL, NULL, '2008-12-17 01:23:31', 'New Event', NULL, 1, NULL, 'Fantastic new event', NULL, NULL, '2008-12-17 01:23:31')[0m
  [4;35;1mContactEvent::Version Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `ci_contact_event_versions`[0m
  [4;36;1mContactEvent::Version Create (0.3ms)[0m   [0;1mINSERT INTO `ci_contact_event_versions` (`start_date`, `end_date`, `phone_number_id`, `url_id`, `email_id`, `ci_notes`, `updated_at`, `title`, `studio_id`, `contact_event_version_id`, `version`, `subtitle`, `description`, `company_id`, `contact_event_id`, `person_id`) VALUES('2008-12-16 20:23:31', '2008-12-16 20:23:31', NULL, NULL, NULL, NULL, '2008-12-17 01:23:31', 'New Event', NULL, NULL, 1, NULL, 'Fantastic new event', NULL, 15000, NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEmail Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mEmail Create (0.2ms)[0m   [0mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-17 01:23:32', 1, 1, 'charman@acm.org', '2008-12-17 01:23:32')[0m
  [4;36;1mEmail::Version Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;35;1mEmail::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15000, NULL, '2008-12-17 01:23:32', 1, NULL, 1, 'charman@acm.org')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: 
City: City Name
State: 
Zip: 
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>City Name, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Holy Name (Es), King, ON, Canada</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>CA</CountryNameCode><CountryName>Canada</CountryName><AdministrativeArea><AdministrativeAreaName>ON</AdministrativeAreaName><Locality><LocalityName>King</LocalityName><PostalCode><PostalCodeNumber>L7B</PostalCodeNumber><AddressLine>Holy Name (Es)</AddressLine></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-79.5391900,43.9247060,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mLocation Create (0.3ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES(NULL, NULL, '2008-12-17 01:23:33', NULL, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2, '2008-12-17 01:23:33')[0m
  [4;36;1mLocation::Version Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES(NULL, NULL, NULL, '2008-12-17 01:23:33', NULL, 15000, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 1) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
Google geocoding. Address: 100 Spear St, San Francisco, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Spear St, San Francisco, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Spear St, San Francisco, CA 94105, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Spear St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94105</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-122.3940000,37.7921500,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPhoneNumber Create (0.2ms)[0m   [0;1mINSERT INTO `ci_phone_numbers` (`for_entity_id`, `updated_at`, `number`, `version`, `created_at`) VALUES(NULL, '2008-12-17 01:23:33', '585-275-4822', 1, '2008-12-17 01:23:33')[0m
  [4;35;1mPhoneNumber::Version Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `ci_phone_number_versions`[0m
  [4;36;1mPhoneNumber::Version Create (0.3ms)[0m   [0;1mINSERT INTO `ci_phone_number_versions` (`phone_number_id`, `for_entity_id`, `updated_at`, `number`, `version`, `phone_number_version_id`) VALUES(15000, NULL, '2008-12-17 01:23:33', '585-275-4822', 1, NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mStudio Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `ci_studios`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStudio Create (0.3ms)[0m   [0;1mINSERT INTO `ci_studios` (`name`, `updated_at`, `version`, `created_at`) VALUES('Foo', '2008-12-17 01:23:34', 1, '2008-12-17 01:23:34')[0m
  [4;35;1mStudio::Version Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `ci_studio_versions`[0m
  [4;36;1mStudio::Version Create (0.3ms)[0m   [0;1mINSERT INTO `ci_studio_versions` (`name`, `updated_at`, `studio_version_id`, `studio_id`, `version`) VALUES('Foo', '2008-12-17 01:23:34', NULL, 15000, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUrl Create (0.2ms)[0m   [0mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-17 01:23:34', 1, 'http://craigharman.net/', '2008-12-17 01:23:34')[0m
  [4;36;1mUrl::Version Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `ci_url_versions`[0m
  [4;35;1mUrl::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15000, NULL, '2008-12-17 01:23:34', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUrl Create (0.2ms)[0m   [0;1mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-17 01:23:34', 1, 'http://craigharman.net/', '2008-12-17 01:23:34')[0m
  [4;35;1mUrl::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15001, NULL, '2008-12-17 01:23:34', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUrl Load (0.2ms)[0m   [0mSELECT * FROM `ci_urls` WHERE (`ci_urls`.`url_id` = 15001) [0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-17 01:23:35', `state` = 'active', `updated_at` = '2008-12-17 01:23:35' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:23:35', `updated_at` = '2008-12-17 01:23:35' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'ed416ba2de7ff8cfc72eb4d453c7145ec63b89c9', `updated_at` = '2008-12-17 01:23:35' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 01:23:35' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('a16d5bd39591802f73a05a4fe1a12846ac8eb17b', NULL, NULL, '2008-12-17 01:23:35', 'd38b2eae52d25398a43a5801cb1175eb6401cb65', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-17 01:23:35')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('aa86391f17fcfc652b8601e52e87faae550fa87c', NULL, NULL, '2008-12-17 01:23:35', 'f2dd63da3c777b94b79f5944f4115355ceefef72', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-17 01:23:35')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `deleted_at` = '2008-12-17 01:23:35', `state` = 'deleted', `updated_at` = '2008-12-17 01:23:35' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('8cee7aff0c965b79c09aafa88d0caf8a556bca6d', NULL, NULL, '2008-12-17 01:23:35', 'a1034fc843082336658238d0204507bf37e69ae5', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-17 01:23:35')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15004) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-17 01:23:36' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:23:36', `updated_at` = '2008-12-17 01:23:36' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-17 01:23:36' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'b5b507f7d9373845444e6e18cccd6071184eb1cc', `updated_at` = '2008-12-17 01:23:36' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 01:23:36' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 01:23:36', `remember_token` = 'b0f68510ce71e1f4344866fcedd898f202aa26e9', `updated_at` = '2008-12-17 01:23:36' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-24 01:23:36', `remember_token` = 'c7a02c2977f9c769a6abd523091c2791867caab5', `updated_at` = '2008-12-17 01:23:36' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-24 01:23:36', `remember_token` = 'c7a02c2977f9c769a6abd523091c2791867caab5', `updated_at` = '2008-12-17 01:23:36' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-17 01:23:36' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:23:36', `updated_at` = '2008-12-17 01:23:36' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 01:23:37', `remember_token` = '0e9bb0975a7c6ee558525f616c2fc3a721ee2f05', `updated_at` = '2008-12-17 01:23:37' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-17 01:23:37' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (52.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 01:23:37', `remember_token` = '0e9bb0975a7c6ee558525f616c2fc3a721ee2f05', `updated_at` = '2008-12-17 01:23:37' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-17 01:23:37' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-17 01:23:37' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-17 01:23:37', `state` = 'active', `updated_at` = '2008-12-17 01:23:37' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-17 01:23:37' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.7ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'foo-bar', `activated_at` = NULL [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'daaf2ee52e071bdaa873ec6af163acbbabff7fac', `updated_at` = '2008-12-17 01:23:37' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 01:23:37' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-17 01:23:37' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = NULL, `activated_at` = NULL [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-17 01:23:37' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-17 01:23:37' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 20:23:39) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-17 01:23:39", updated_at: "2008-12-17 01:23:39">}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;36;1mUser Exists (0.5ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-17 01:23:39', `state` = 'active', `email` = 'activate@contactquarterly.com', `updated_at` = '2008-12-17 01:23:39' WHERE `user_id` = 8[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:23:39 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Your ContactImprov.net account has been activated
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactQuarterly.com account has been created for you.  In 
order to use your account, just go to this page:

  https://community.contactquarterly.com/

and log in using your email address:

  activate@contactquarterly.com

and this password:

  test

You can change your password once you have logged in.

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionindex
Completed in 119ms (DB: 49) | 302 Found [http://test.host/admin/users/activate/8?user%5Bemail%5D=activate%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 20:23:39) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/edit
Rendered shared/admin/_header (2.6ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_person (2.1ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 9ms (View: 7, DB: 33) | 200 OK [http://test.host/admin/users/edit/1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#index (for 0.0.0.0 at 2008-12-16 20:23:39) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` WHERE (state = 'active') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` WHERE (state = 'pending') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_user_account_requests` WHERE (state ='new') [0m
Rendering admin/users/index
Rendered shared/admin/_header (0.9ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 4, DB: 28) | 200 OK [http://test.host/admin/users]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list (for 0.0.0.0 at 2008-12-16 20:23:39) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` [0m
Rendering admin/users/list
Rendered shared/admin/_header (0.8ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 402) [0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 10) [0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 401) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
Rendered admin/users/_user_table (6.8ms)
Rendered admin/users/_user_table_js (0.2ms)
Rendered admin/users/_list_users (7.5ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 11ms (View: 9, DB: 31) | 200 OK [http://test.host/admin/users/list]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list_active (for 0.0.0.0 at 2008-12-16 20:23:40) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (state = 'active') [0m
Rendering admin/users/list_active
Rendered shared/admin/_header (0.8ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 402) [0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 10) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 401) [0m
Rendered admin/users/_user_table (4.1ms)
Rendered admin/users/_user_table_js (0.1ms)
Rendered admin/users/_list_users (4.5ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 6, DB: 32) | 200 OK [http://test.host/admin/users/list_active]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list_pending (for 0.0.0.0 at 2008-12-16 20:23:40) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (state = 'pending') [0m
Rendering admin/users/list_pending
Rendered shared/admin/_header (0.9ms)
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
Rendered admin/users/_user_table (1.4ms)
Rendered admin/users/_user_table_js (0.1ms)
Rendered admin/users/_list_users (1.8ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 76) | 200 OK [http://test.host/admin/users/list_pending]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#map (for 0.0.0.0 at 2008-12-16 20:23:40) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (geocode_precision IS NOT NULL) [0m
Rendering admin/users/map
Rendered shared/admin/_header (0.8ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 25) | 200 OK [http://test.host/admin/users/map]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#new (for 0.0.0.0 at 2008-12-16 20:23:40) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.9ms)
Rendered shared/_person (0.7ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 79) | 200 OK [http://test.host/admin/users/new]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 20:23:40) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.9ms)
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/admin/_footer (0.1ms)
Completed in 5ms (View: 3, DB: 27) | 200 OK [http://test.host/admin/users/reset_password/1]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUserAccountRequest Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m


Processing Admin::UsersController#show_account_request (for 0.0.0.0 at 2008-12-16 20:23:40) [GET]
  Parameters: {"id"=>#<UserAccountRequest user_account_request_id: 1, state: "new", ci_notes: nil, person_id: 1, email_id: 101, location_id: nil, created_at: "2008-12-17 01:23:40", updated_at: "2008-12-17 01:23:40">}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUserAccountRequest Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
Rendering admin/users/show_account_request
Rendered shared/admin/_header (1.4ms)
  [4;35;1mPerson Load (0.3ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mEmail Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (`ci_emails`.`email_id` = 101) [0m
Rendered shared/admin/_footer (0.1ms)
Completed in 11ms (View: 8, DB: 84) | 200 OK [http://test.host/admin/users/show_account_request/1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 20:23:40) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com", "person"=>{"first_name"=>"Firstname", "last_name"=>"Lastname"}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: person
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;36;1mPerson Create (0.2ms)[0m   [0;1mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-17 01:23:40', 1, 'Firstname', 'Lastname', '2008-12-17 01:23:40')[0m
  [4;35;1mPerson::Version Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `ci_person_versions`[0m
  [4;36;1mPerson::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-17 01:23:40', NULL, 1, 'Firstname', 15002, 'Lastname')[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('940bcc3a33d32af708874319f511de45bd8f89bc', NULL, NULL, '2008-12-17 01:23:40', '7b42620cd193bf4ab2049df9f34b0352a938c8af', NULL, 0, NULL, NULL, NULL, NULL, 15002, 'admin_users_create@contactquarterly.com', 'passive', '2008-12-17 01:23:40')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com' AND `ci_users`.user_id <> 15005) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'f3f4f1179782b482eda9101ad9e6c2c45b3e13af', `updated_at` = '2008-12-17 01:23:40' WHERE `user_id` = 15005[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 01:23:40' WHERE `user_id` = 15005[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:23:40 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Firstname Lastname -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/f3f4f1179782b482eda9101ad9e6c2c45b3e13af

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  admin_users_create@contactquarterly.com

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionindex
Completed in 22ms (DB: 35) | 302 Found [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test&user%5Bperson%5D%5Bfirst_name%5D=Firstname&user%5Bperson%5D%5Blast_name%5D=Lastname]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 20:23:40) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-17 01:23:40", updated_at: "2008-12-17 01:23:40">}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
Rendering admin/users/activate
Rendered shared/admin/_header (0.9ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 9ms (View: 3, DB: 75) | 200 OK [http://test.host/admin/users/activate/8?user%5Bemail%5D=activate%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 20:23:40) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.9ms)
Rendered shared/_person (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 23) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (52.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 20:23:41) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.8ms)
Rendered shared/_person (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 79) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 20:23:41) [PUT]
  Parameters: {"user"=>{"subscriber_address"=>{"postal_code"=>"60606", "street_address_line_1"=>"new_line_1", "street_address_line_2"=>"new_line_2", "city_name"=>"new_city", "us_state"=>{"name"=>"pa"}, "country_name"=>{"english_name"=>"United States"}}, "person"=>{"first_name"=>"", "last_name"=>""}}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering admin/users/edit
Rendered shared/admin/_header (0.8ms)
Rendered shared/_person (0.5ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 25) | 200 OK [http://test.host/admin/users/edit/1?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=&user%5Bsubscriber_address%5D%5Bcity_name%5D=new_city&user%5Bsubscriber_address%5D%5Bcountry_name%5D%5Benglish_name%5D=United+States&user%5Bsubscriber_address%5D%5Bpostal_code%5D=60606&user%5Bsubscriber_address%5D%5Bstreet_address_line_1%5D=new_line_1&user%5Bsubscriber_address%5D%5Bstreet_address_line_2%5D=new_line_2&user%5Bsubscriber_address%5D%5Bus_state%5D%5Bname%5D=pa]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:23:41', `updated_at` = '2008-12-17 01:23:41' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 20:23:41) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"bad_password", "password"=>"new_password"}, "id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.8ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 24) | 200 OK [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=bad_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:23:41', `updated_at` = '2008-12-17 01:23:41' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUserAccountRequest Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m


Processing Admin::UsersController#process_account_request (for 0.0.0.0 at 2008-12-16 20:23:41) [PUT]
  Parameters: {"account_request_id"=>"1", "user_account_request"=>{"ci_notes"=>"updated_notes"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUserAccountRequest Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Update (0.2ms)[0m   [0;1mUPDATE `ci_user_account_requests` SET `ci_notes` = 'updated_notes', `updated_at` = '2008-12-17 01:23:41' WHERE `user_account_request_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionlist_account_requests
Completed in 3ms (DB: 84) | 302 Found [http://test.host/admin/users/process_account_request?account_request_id=1&user_account_request%5Bci_notes%5D=updated_notes]
  [4;36;1mUserAccountRequest Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:23:41', `updated_at` = '2008-12-17 01:23:41' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 20:23:41) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-17 01:23:41' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:23:41 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: New password for your ContactImprov.net account
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have reset the password on your Contact Quarterly online account.

Your new password is:

  new_password

To log on to your account, just go to:

  http://community.contactquarterly.com/

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionshowid1
Completed in 9ms (DB: 27) | 302 Found [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:23:41', `updated_at` = '2008-12-17 01:23:41' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 20:23:41) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 113) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 01:23:41', `remember_token` = 'a181a53604f513819f7c43df340bfc69193ad24b', `updated_at` = '2008-12-17 01:23:41' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 20:23:41) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (1.0ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 75) | 200 OK [http://test.host/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 01:23:41', `remember_token` = 'a181a53604f513819f7c43df340bfc69193ad24b', `updated_at` = '2008-12-17 01:23:41' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-17 01:18:41', `updated_at` = '2008-12-17 01:23:41' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 20:23:41) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'a181a53604f513819f7c43df340bfc69193ad24b') LIMIT 1[0m
Rendering sessions/new
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 25) | 200 OK [http://test.host/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:23:42) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:23:42', `updated_at` = '2008-12-17 01:23:42' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 79) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:23:42) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:23:42', `updated_at` = '2008-12-17 01:23:42' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 26) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 01:23:42', `remember_token` = '689aef8290bfc1afc62dc70a78e37c69cef72b86', `updated_at` = '2008-12-17 01:23:42' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 20:23:42) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '689aef8290bfc1afc62dc70a78e37c69cef72b86') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 01:23:42', `updated_at` = '2008-12-17 01:23:42' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=689aef8290bfc1afc62dc70a78e37c69cef72b86; path=/; expires=Wed, 31 Dec 2008 01:23:42 GMT
Redirected to /
Completed in 4ms (DB: 31) | 302 Found [http://test.host/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 20:23:42) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 77) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:23:42) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 27) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:23:42) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '5fcbe594fce58ad9b3420a0ddc42504099c46a4a', `updated_at` = '2008-12-17 01:23:42' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:23:42 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/5fcbe594fce58ad9b3420a0ddc42504099c46a4a

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 82) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:23:42) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 29) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:23:42) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 76) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:23:42) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 27) | 302 Found [http://test.host/session?email=&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:23:42) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 79) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:23:43) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org", "remember_me"=>"0"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:23:43', `updated_at` = '2008-12-17 01:23:43' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 8ms (DB: 31) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;35;1mUser Load (51.6ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:23:43) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:23:43', `updated_at` = '2008-12-17 01:23:43' WHERE `user_id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 82) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:23:43) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org", "remember_me"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:23:43', `updated_at` = '2008-12-17 01:23:43' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 01:23:43', `remember_token` = '9e37075ceb1604b17e81ed765cf44ec21222e79b', `updated_at` = '2008-12-17 01:23:43' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=9e37075ceb1604b17e81ed765cf44ec21222e79b; path=/; expires=Wed, 31 Dec 2008 01:23:43 GMT
Redirected to /
Completed in 7ms (DB: 27) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:23:43) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '87f3bcbfa2b9bcdf44890a12774250d7527afafd', `updated_at` = '2008-12-17 01:23:43' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:23:43 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/87f3bcbfa2b9bcdf44890a12774250d7527afafd

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 32) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '92cdfa8d902a5a4b89117977d7ebd7b5265943a3', `updated_at` = '2008-12-17 01:23:43' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 01:23:43' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 20:23:43) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"92cdfa8d902a5a4b89117977d7ebd7b5265943a3"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '92cdfa8d902a5a4b89117977d7ebd7b5265943a3') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-17 01:23:43', `state` = 'active', `updated_at` = '2008-12-17 01:23:43' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to actionindex
Completed in 6ms (DB: 82) | 302 Found [http://test.host/activate/92cdfa8d902a5a4b89117977d7ebd7b5265943a3?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 20:23:43) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.4ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 24) | 200 OK [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 20:23:43) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"new_email@foo.com"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'new_email@foo.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Create (0.1ms)[0m   [0mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-17 01:23:43', 1, 'first_name', 'last_name', '2008-12-17 01:23:43')[0m
  [4;36;1mPerson::Version Create (0.1ms)[0m   [0;1mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-17 01:23:43', NULL, 1, 'first_name', 15003, 'last_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15003) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEmail Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mEmail Create (0.2ms)[0m   [0mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-17 01:23:43', 1, 1, 'new_email@foo.com', '2008-12-17 01:23:43')[0m
  [4;36;1mEmail::Version Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;35;1mEmail::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15001, NULL, '2008-12-17 01:23:43', 1, NULL, 1, 'new_email@foo.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Create (0.1ms)[0m   [0;1mINSERT INTO `ci_user_account_requests` (`ci_notes`, `email_id`, `updated_at`, `location_id`, `person_id`, `state`, `created_at`) VALUES(NULL, 15001, '2008-12-17 01:23:43', NULL, 15003, 'new', '2008-12-17 01:23:43')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:23:43 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Account request for first_name last_name (new_email@foo.com)
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

ACCOUNT REQUEST
---------------

NAME:   first_name last_name
EMAIL:  new_email@foo.com

To approve or deny this account request, please go to:

  https://www.contactimprov.net/admin/users/list_account_requests
Redirected to actionaccount_requested
Completed in 19ms (DB: 80) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;36;1mUserAccountRequest Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` ORDER BY ci_user_account_requests.user_account_request_id DESC LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15003) [0m
  [4;36;1mEmail Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (`ci_emails`.`email_id` = 15001) [0m


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 20:23:43) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '47079660d39410dbdd1ffbe17b98121bd807a14d', `updated_at` = '2008-12-17 01:23:43' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:23:43 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/47079660d39410dbdd1ffbe17b98121bd807a14d

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 8ms (DB: 23) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 20:23:43) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-17 01:23:43' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:23:43 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.9ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 3, DB: 78) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 20:23:43) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-17 01:23:43' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 23) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:23:43', `updated_at` = '2008-12-17 01:23:43' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 20:23:44) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"newfirst", "last_name"=>"newlast"}}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max(`ci_person_versions`.version) AS max_version FROM `ci_person_versions` WHERE (`ci_person_versions`.person_id = 1) [0m
  [4;36;1mPerson Update (0.2ms)[0m   [0;1mUPDATE `ci_people` SET `version` = 1, `last_name` = 'newlast', `first_name` = 'newfirst', `updated_at` = '2008-12-17 01:23:44' WHERE `person_id` = 1[0m
  [4;35;1mPerson::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-17 01:23:44', NULL, 1, 'newfirst', 1, 'newlast')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 10ms (DB: 89) | 302 Found [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=newfirst&user%5Bperson%5D%5Blast_name%5D=newlast]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '4b25acc03dae147fda45e1394b4010cac5daf3ae', `updated_at` = '2008-12-17 01:23:44' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 20:23:44) [GET]
  Parameters: {"password_reset_code"=>"4b25acc03dae147fda45e1394b4010cac5daf3ae"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '4b25acc03dae147fda45e1394b4010cac5daf3ae') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 23) | 200 OK [http://test.host/reset_password/4b25acc03dae147fda45e1394b4010cac5daf3ae]
  [4;35;1mUser Load (56.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'da0d2293b7b06595bcc567f88acef2862dae382d', `updated_at` = '2008-12-17 01:23:44' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 01:23:44' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 20:23:44) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"da0d2293b7b06595bcc567f88acef2862dae382d"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'da0d2293b7b06595bcc567f88acef2862dae382d') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 79) | 200 OK [http://test.host/activate/da0d2293b7b06595bcc567f88acef2862dae382d?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 20:23:44) [GET]
Rendering user/index
Rendered shared/_header (0.8ms)


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 20:23:44) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>""}}
Rendering user/request_account
Rendered shared/_header (1.2ms)
Rendered shared/_person (0.8ms)
Rendered shared/_email (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 10ms (View: 6, DB: 29) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 20:23:44) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>""}, "uar_email"=>{"address"=>"new_email@foo.com"}}
Rendering user/request_account
Rendered shared/_header (0.7ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 3, DB: 87) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 20:23:44) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:23:44 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 31) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 20:23:44) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '544a183e0bececd8ee357d035b7d6bd74adef6f6', `updated_at` = '2008-12-17 01:23:44' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:23:44 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/544a183e0bececd8ee357d035b7d6bd74adef6f6

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (1.6ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 3, DB: 88) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 20:23:45) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 28) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 20:23:45) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 81) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 20:23:45) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 27) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 20:23:45) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 3, DB: 82) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 20:23:45) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.5ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 27) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 20:23:45) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.5ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 24) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 20:23:45) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.6ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 93) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 20:23:45) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.9ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 24) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 20:23:45) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"", "last_name"=>""}}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering user/edit
Rendered shared/_header (0.8ms)
Rendered shared/_person (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 84) | 200 OK [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 20:23:45) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 24) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 20:23:46) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (1.1ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 2, DB: 101) | 200 OK [http://test.host/reset_password/]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '5242c59dd38567a70a1f601d2372dd21518ad2c9', `updated_at` = '2008-12-17 01:23:46' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 20:23:46) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"5242c59dd38567a70a1f601d2372dd21518ad2c9"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '5242c59dd38567a70a1f601d2372dd21518ad2c9') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 3, DB: 33) | 200 OK [http://test.host/reset_password/5242c59dd38567a70a1f601d2372dd21518ad2c9?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 20:23:46) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 92) | 200 OK [http://test.host/activate/randomgarbage]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '6c7618607578b01158be9ab3e678d997955db69c', `updated_at` = '2008-12-17 01:23:46' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 20:23:46) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"6c7618607578b01158be9ab3e678d997955db69c"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '6c7618607578b01158be9ab3e678d997955db69c') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-17 01:23:46' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.9ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 27) | 200 OK [http://test.host/reset_password/6c7618607578b01158be9ab3e678d997955db69c?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:23:46', `updated_at` = '2008-12-17 01:23:46' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (60.8ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 20:23:46) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"quentin@contactimprov.org"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '4f0d0ff7e72979376e26c5238e79b573bf791c27', `updated_at` = '2008-12-17 01:23:46' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:23:46 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/4f0d0ff7e72979376e26c5238e79b573bf791c27

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 9ms (DB: 87) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=quentin%40contactimprov.org&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 20:23:46) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"pending_user@contactimprov.org"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'pending_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'pending_user@contactimprov.org' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '1f257b5679c4e29558ad9173df00622b7e143b13', `updated_at` = '2008-12-17 01:23:46' WHERE `user_id` = 8[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:23:46 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/1f257b5679c4e29558ad9173df00622b7e143b13

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  pending_user@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_account
Rendered shared/_header (0.7ms)
Rendered shared/_person (0.4ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 3, DB: 23) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=pending_user%40contactimprov.org&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '33383d9067eb551b433e60a9cd008243f8728819', `updated_at` = '2008-12-17 01:23:46' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 01:23:46' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 20:23:46) [GET]
  Parameters: {"activation_code"=>"33383d9067eb551b433e60a9cd008243f8728819"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '33383d9067eb551b433e60a9cd008243f8728819') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.7ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 22) | 200 OK [http://test.host/activate/33383d9067eb551b433e60a9cd008243f8728819]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCompany Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `ci_companies`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mCompany Create (0.3ms)[0m   [0;1mINSERT INTO `ci_companies` (`name`, `updated_at`, `version`, `created_at`) VALUES('Foo', '2008-12-17 01:25:19', 1, '2008-12-17 01:25:19')[0m
  [4;35;1mCompany::Version Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `ci_company_versions`[0m
  [4;36;1mCompany::Version Create (0.3ms)[0m   [0;1mINSERT INTO `ci_company_versions` (`name`, `updated_at`, `company_version_id`, `version`, `company_id`) VALUES('Foo', '2008-12-17 01:25:19', NULL, 1, 15000)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mContactEvent Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_contact_events`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mContactEvent Create (0.3ms)[0m   [0;1mINSERT INTO `ci_contact_events` (`start_date`, `end_date`, `phone_number_id`, `url_id`, `email_id`, `ci_notes`, `updated_at`, `title`, `studio_id`, `version`, `subtitle`, `description`, `company_id`, `person_id`, `created_at`) VALUES('2008-12-16 20:25:20', '2008-12-16 20:25:20', NULL, NULL, NULL, NULL, '2008-12-17 01:25:20', 'New Event', NULL, 1, NULL, 'Fantastic new event', NULL, NULL, '2008-12-17 01:25:20')[0m
  [4;35;1mContactEvent::Version Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `ci_contact_event_versions`[0m
  [4;36;1mContactEvent::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_contact_event_versions` (`start_date`, `end_date`, `phone_number_id`, `url_id`, `email_id`, `ci_notes`, `updated_at`, `title`, `studio_id`, `contact_event_version_id`, `version`, `subtitle`, `description`, `company_id`, `contact_event_id`, `person_id`) VALUES('2008-12-16 20:25:20', '2008-12-16 20:25:20', NULL, NULL, NULL, NULL, '2008-12-17 01:25:20', 'New Event', NULL, NULL, 1, NULL, 'Fantastic new event', NULL, 15000, NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.4ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEmail Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mEmail Create (0.2ms)[0m   [0mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-17 01:25:21', 1, 1, 'charman@acm.org', '2008-12-17 01:25:21')[0m
  [4;36;1mEmail::Version Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;35;1mEmail::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15000, NULL, '2008-12-17 01:25:21', 1, NULL, 1, 'charman@acm.org')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: 
City: City Name
State: 
Zip: 
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>City Name, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Holy Name (Es), King, ON, Canada</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>CA</CountryNameCode><CountryName>Canada</CountryName><AdministrativeArea><AdministrativeAreaName>ON</AdministrativeAreaName><Locality><LocalityName>King</LocalityName><PostalCode><PostalCodeNumber>L7B</PostalCodeNumber><AddressLine>Holy Name (Es)</AddressLine></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-79.5391900,43.9247060,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mLocation Create (0.3ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES(NULL, NULL, '2008-12-17 01:25:22', NULL, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2, '2008-12-17 01:25:22')[0m
  [4;36;1mLocation::Version Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES(NULL, NULL, NULL, '2008-12-17 01:25:22', NULL, 15000, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 1) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
Google geocoding. Address: 100 Spear St, San Francisco, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Spear St, San Francisco, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Spear St, San Francisco, CA 94105, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Spear St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94105</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-122.3940000,37.7921500,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPhoneNumber Create (0.1ms)[0m   [0;1mINSERT INTO `ci_phone_numbers` (`for_entity_id`, `updated_at`, `number`, `version`, `created_at`) VALUES(NULL, '2008-12-17 01:25:22', '585-275-4822', 1, '2008-12-17 01:25:22')[0m
  [4;35;1mPhoneNumber::Version Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `ci_phone_number_versions`[0m
  [4;36;1mPhoneNumber::Version Create (0.3ms)[0m   [0;1mINSERT INTO `ci_phone_number_versions` (`phone_number_id`, `for_entity_id`, `updated_at`, `number`, `version`, `phone_number_version_id`) VALUES(15000, NULL, '2008-12-17 01:25:22', '585-275-4822', 1, NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mStudio Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `ci_studios`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStudio Create (0.2ms)[0m   [0;1mINSERT INTO `ci_studios` (`name`, `updated_at`, `version`, `created_at`) VALUES('Foo', '2008-12-17 01:25:23', 1, '2008-12-17 01:25:23')[0m
  [4;35;1mStudio::Version Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `ci_studio_versions`[0m
  [4;36;1mStudio::Version Create (0.3ms)[0m   [0;1mINSERT INTO `ci_studio_versions` (`name`, `updated_at`, `studio_version_id`, `studio_id`, `version`) VALUES('Foo', '2008-12-17 01:25:23', NULL, 15000, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUrl Create (0.2ms)[0m   [0mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-17 01:25:23', 1, 'http://craigharman.net/', '2008-12-17 01:25:23')[0m
  [4;36;1mUrl::Version Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_url_versions`[0m
  [4;35;1mUrl::Version Create (0.3ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15000, NULL, '2008-12-17 01:25:23', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUrl Create (0.2ms)[0m   [0;1mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-17 01:25:23', 1, 'http://craigharman.net/', '2008-12-17 01:25:23')[0m
  [4;35;1mUrl::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15001, NULL, '2008-12-17 01:25:23', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUrl Load (0.2ms)[0m   [0mSELECT * FROM `ci_urls` WHERE (`ci_urls`.`url_id` = 15001) [0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-17 01:25:24', `state` = 'active', `updated_at` = '2008-12-17 01:25:24' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:25:24', `updated_at` = '2008-12-17 01:25:24' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '451e12147b2af671f947acbedee42dfb8619fa9a', `updated_at` = '2008-12-17 01:25:24' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 01:25:24' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('ca00afcc9d69f5da10c379d372187acead331df0', NULL, NULL, '2008-12-17 01:25:24', '028d9f52bbf50b2c4c4e56f7c2783445a36f7634', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-17 01:25:24')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('855c992de76d9af10eeb954ba814efd9aa104ff7', NULL, NULL, '2008-12-17 01:25:24', 'a03906e43c4fe22bd1673bdb925d3730aad1a794', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-17 01:25:24')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `deleted_at` = '2008-12-17 01:25:24', `state` = 'deleted', `updated_at` = '2008-12-17 01:25:24' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('bd866c0551030c09487f5d1a96a478437e4d764d', NULL, NULL, '2008-12-17 01:25:24', '15189bdb4a59a82f690509e950c6a482cfb620e7', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-17 01:25:24')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15004) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-17 01:25:24' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:25:24', `updated_at` = '2008-12-17 01:25:24' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.5ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-17 01:25:25' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'cd1a24cb0487188024675291345bb4cf2378605b', `updated_at` = '2008-12-17 01:25:25' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 01:25:25' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 01:25:25', `remember_token` = 'd8d2f4e33bb7695fd8eeb0fed28a0d2a28eaed76', `updated_at` = '2008-12-17 01:25:25' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-24 01:25:25', `remember_token` = '8ceb0239dc9ead1b2d219176be3351fc50411d51', `updated_at` = '2008-12-17 01:25:25' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-24 01:25:25', `remember_token` = '8ceb0239dc9ead1b2d219176be3351fc50411d51', `updated_at` = '2008-12-17 01:25:25' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-17 01:25:25' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:25:25', `updated_at` = '2008-12-17 01:25:25' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 01:25:26', `remember_token` = '2d45c4ed9a2bb83b184abfac9f4acc443bc351a8', `updated_at` = '2008-12-17 01:25:26' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-17 01:25:26' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (54.7ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 01:25:26', `remember_token` = '2d45c4ed9a2bb83b184abfac9f4acc443bc351a8', `updated_at` = '2008-12-17 01:25:26' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-17 01:25:26' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-17 01:25:26' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-17 01:25:26', `state` = 'active', `updated_at` = '2008-12-17 01:25:26' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-17 01:25:26' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'foo-bar', `activated_at` = NULL [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'd84b0723a917b02c6522f7e272714b1e3cedbceb', `updated_at` = '2008-12-17 01:25:26' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 01:25:26' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-17 01:25:26' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = NULL, `activated_at` = NULL [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-17 01:25:26' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-17 01:25:26' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 20:25:28) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-17 01:25:28", updated_at: "2008-12-17 01:25:28">}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-17 01:25:28', `state` = 'active', `email` = 'activate@contactquarterly.com', `updated_at` = '2008-12-17 01:25:28' WHERE `user_id` = 8[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:25:28 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Your ContactImprov.net account has been activated
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactQuarterly.com account has been created for you.  In 
order to use your account, just go to this page:

  https://community.contactquarterly.com/

and log in using your email address:

  activate@contactquarterly.com

and this password:

  test

You can change your password once you have logged in.

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionindex
Completed in 123ms (DB: 47) | 302 Found [http://test.host/admin/users/activate/8?user%5Bemail%5D=activate%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 20:25:28) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/edit
Rendered shared/admin/_header (2.4ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_person (2.1ms)
Rendered shared/admin/_footer (0.2ms)
Completed in 8ms (View: 7, DB: 24) | 200 OK [http://test.host/admin/users/edit/1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#index (for 0.0.0.0 at 2008-12-16 20:25:28) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` WHERE (state = 'active') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` WHERE (state = 'pending') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_user_account_requests` WHERE (state ='new') [0m
Rendering admin/users/index
Rendered shared/admin/_header (0.9ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 4, DB: 24) | 200 OK [http://test.host/admin/users]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list (for 0.0.0.0 at 2008-12-16 20:25:28) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` [0m
Rendering admin/users/list
Rendered shared/admin/_header (0.8ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 402) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 10) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 401) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
Rendered admin/users/_user_table (6.5ms)
Rendered admin/users/_user_table_js (0.2ms)
Rendered admin/users/_list_users (7.2ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 11ms (View: 9, DB: 26) | 200 OK [http://test.host/admin/users/list]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list_active (for 0.0.0.0 at 2008-12-16 20:25:28) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (state = 'active') [0m
Rendering admin/users/list_active
Rendered shared/admin/_header (0.9ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 402) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 10) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 401) [0m
Rendered admin/users/_user_table (3.9ms)
Rendered admin/users/_user_table_js (0.1ms)
Rendered admin/users/_list_users (4.3ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 6, DB: 25) | 200 OK [http://test.host/admin/users/list_active]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list_pending (for 0.0.0.0 at 2008-12-16 20:25:29) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (state = 'pending') [0m
Rendering admin/users/list_pending
Rendered shared/admin/_header (0.9ms)
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
Rendered admin/users/_user_table (1.9ms)
Rendered admin/users/_user_table_js (0.1ms)
Rendered admin/users/_list_users (2.3ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 6ms (View: 4, DB: 75) | 200 OK [http://test.host/admin/users/list_pending]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#map (for 0.0.0.0 at 2008-12-16 20:25:29) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (geocode_precision IS NOT NULL) [0m
Rendering admin/users/map
Rendered shared/admin/_header (0.8ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 22) | 200 OK [http://test.host/admin/users/map]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#new (for 0.0.0.0 at 2008-12-16 20:25:29) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.9ms)
Rendered shared/_person (0.7ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 89) | 200 OK [http://test.host/admin/users/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 20:25:29) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.9ms)
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/admin/_footer (0.1ms)
Completed in 5ms (View: 3, DB: 23) | 200 OK [http://test.host/admin/users/reset_password/1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m


Processing Admin::UsersController#show_account_request (for 0.0.0.0 at 2008-12-16 20:25:29) [GET]
  Parameters: {"id"=>#<UserAccountRequest user_account_request_id: 1, state: "new", ci_notes: nil, person_id: 1, email_id: 101, location_id: nil, created_at: "2008-12-17 01:25:29", updated_at: "2008-12-17 01:25:29">}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
Rendering admin/users/show_account_request
Rendered shared/admin/_header (0.9ms)
  [4;35;1mPerson Load (0.3ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mEmail Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (`ci_emails`.`email_id` = 101) [0m
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 6, DB: 74) | 200 OK [http://test.host/admin/users/show_account_request/1]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 20:25:29) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com", "person"=>{"first_name"=>"Firstname", "last_name"=>"Lastname"}}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: person
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;36;1mPerson Create (0.3ms)[0m   [0;1mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-17 01:25:29', 1, 'Firstname', 'Lastname', '2008-12-17 01:25:29')[0m
  [4;35;1mPerson::Version Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `ci_person_versions`[0m
  [4;36;1mPerson::Version Create (0.3ms)[0m   [0;1mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-17 01:25:29', NULL, 1, 'Firstname', 15002, 'Lastname')[0m
  [4;35;1mUser Create (0.5ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('74d42adb582ea968d2acad4333593a02cb687287', NULL, NULL, '2008-12-17 01:25:29', '40055fe67a6697dbde0aece2ef7ff68203305a9e', NULL, 0, NULL, NULL, NULL, NULL, 15002, 'admin_users_create@contactquarterly.com', 'passive', '2008-12-17 01:25:29')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com' AND `ci_users`.user_id <> 15005) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '9e44492f049911f9f5faf7c4985496a7dc5636f2', `updated_at` = '2008-12-17 01:25:29' WHERE `user_id` = 15005[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 01:25:29' WHERE `user_id` = 15005[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:25:29 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Firstname Lastname -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/9e44492f049911f9f5faf7c4985496a7dc5636f2

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  admin_users_create@contactquarterly.com

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionindex
Completed in 33ms (DB: 35) | 302 Found [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test&user%5Bperson%5D%5Bfirst_name%5D=Firstname&user%5Bperson%5D%5Blast_name%5D=Lastname]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 20:25:29) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-17 01:25:29", updated_at: "2008-12-17 01:25:29">}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
Rendering admin/users/activate
Rendered shared/admin/_header (0.8ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 9ms (View: 3, DB: 86) | 200 OK [http://test.host/admin/users/activate/8?user%5Bemail%5D=activate%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 20:25:29) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.8ms)
Rendered shared/_person (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 31) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (58.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 20:25:30) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.8ms)
Rendered shared/_person (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 90) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 20:25:30) [PUT]
  Parameters: {"user"=>{"subscriber_address"=>{"postal_code"=>"60606", "street_address_line_1"=>"new_line_1", "street_address_line_2"=>"new_line_2", "city_name"=>"new_city", "us_state"=>{"name"=>"pa"}, "country_name"=>{"english_name"=>"United States"}}, "person"=>{"first_name"=>"", "last_name"=>""}}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering admin/users/edit
Rendered shared/admin/_header (0.8ms)
Rendered shared/_person (0.5ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 32) | 200 OK [http://test.host/admin/users/edit/1?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=&user%5Bsubscriber_address%5D%5Bcity_name%5D=new_city&user%5Bsubscriber_address%5D%5Bcountry_name%5D%5Benglish_name%5D=United+States&user%5Bsubscriber_address%5D%5Bpostal_code%5D=60606&user%5Bsubscriber_address%5D%5Bstreet_address_line_1%5D=new_line_1&user%5Bsubscriber_address%5D%5Bstreet_address_line_2%5D=new_line_2&user%5Bsubscriber_address%5D%5Bus_state%5D%5Bname%5D=pa]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:25:30', `updated_at` = '2008-12-17 01:25:30' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 20:25:30) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"bad_password", "password"=>"new_password"}, "id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.8ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 33) | 200 OK [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=bad_password]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:25:30', `updated_at` = '2008-12-17 01:25:30' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m


Processing Admin::UsersController#process_account_request (for 0.0.0.0 at 2008-12-16 20:25:30) [PUT]
  Parameters: {"account_request_id"=>"1", "user_account_request"=>{"ci_notes"=>"updated_notes"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Update (0.2ms)[0m   [0;1mUPDATE `ci_user_account_requests` SET `ci_notes` = 'updated_notes', `updated_at` = '2008-12-17 01:25:30' WHERE `user_account_request_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionlist_account_requests
Completed in 3ms (DB: 91) | 302 Found [http://test.host/admin/users/process_account_request?account_request_id=1&user_account_request%5Bci_notes%5D=updated_notes]
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:25:30', `updated_at` = '2008-12-17 01:25:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 20:25:30) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-17 01:25:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:25:30 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: New password for your ContactImprov.net account
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have reset the password on your Contact Quarterly online account.

Your new password is:

  new_password

To log on to your account, just go to:

  http://community.contactquarterly.com/

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionshowid1
Completed in 9ms (DB: 29) | 302 Found [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:25:30', `updated_at` = '2008-12-17 01:25:30' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 20:25:30) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 96) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 01:25:30', `remember_token` = '219b30e682f50fb708c3900739ab31ac93d6869d', `updated_at` = '2008-12-17 01:25:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 20:25:30) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendered shared/_header (1.9ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 4, DB: 80) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 01:25:30', `remember_token` = '219b30e682f50fb708c3900739ab31ac93d6869d', `updated_at` = '2008-12-17 01:25:30' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-17 01:20:30', `updated_at` = '2008-12-17 01:25:30' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 20:25:30) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '219b30e682f50fb708c3900739ab31ac93d6869d') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '219b30e682f50fb708c3900739ab31ac93d6869d') LIMIT 1[0m
Rendering sessions/new
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '219b30e682f50fb708c3900739ab31ac93d6869d') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '219b30e682f50fb708c3900739ab31ac93d6869d') LIMIT 1[0m
Rendered shared/_header (1.6ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 3, DB: 24) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = '219b30e682f50fb708c3900739ab31ac93d6869d') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:25:31) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:25:31', `updated_at` = '2008-12-17 01:25:31' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 78) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:25:31) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:25:31', `updated_at` = '2008-12-17 01:25:31' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 27) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 01:25:31', `remember_token` = 'cc345019a9cea45f02c44b8c596e87afc95fdfef', `updated_at` = '2008-12-17 01:25:31' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 20:25:31) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'cc345019a9cea45f02c44b8c596e87afc95fdfef') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 01:25:31', `updated_at` = '2008-12-17 01:25:31' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=cc345019a9cea45f02c44b8c596e87afc95fdfef; path=/; expires=Wed, 31 Dec 2008 01:25:31 GMT
Redirected to /
Completed in 3ms (DB: 24) | 302 Found [http://test.host/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 20:25:31) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 78) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:25:31) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 22) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:25:31) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '099c3c8370097e20e1740787a97c019ee7ef1282', `updated_at` = '2008-12-17 01:25:31' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:25:31 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/099c3c8370097e20e1740787a97c019ee7ef1282

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 74) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:25:31) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 28) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:25:31) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 79) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:25:31) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 1ms (DB: 26) | 302 Found [http://test.host/session?email=&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:25:31) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 85) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:25:31) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org", "remember_me"=>"0"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:25:31', `updated_at` = '2008-12-17 01:25:31' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 9ms (DB: 31) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;35;1mUser Load (53.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:25:32) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:25:32', `updated_at` = '2008-12-17 01:25:32' WHERE `user_id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 78) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:25:32) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org", "remember_me"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:25:32', `updated_at` = '2008-12-17 01:25:32' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 01:25:32', `remember_token` = 'dd261ecfdc4618871397fda60d267a9598637102', `updated_at` = '2008-12-17 01:25:32' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=dd261ecfdc4618871397fda60d267a9598637102; path=/; expires=Wed, 31 Dec 2008 01:25:32 GMT
Redirected to /
Completed in 7ms (DB: 34) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:25:32) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '4f9d67b50caec58c3ae9c9c748c1a182a387ec28', `updated_at` = '2008-12-17 01:25:32' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:25:32 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/4f9d67b50caec58c3ae9c9c748c1a182a387ec28

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 33) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '7f799b1c3b62b86b3fc6886768cfbec160dd3b49', `updated_at` = '2008-12-17 01:25:32' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 01:25:32' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 20:25:32) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"7f799b1c3b62b86b3fc6886768cfbec160dd3b49"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '7f799b1c3b62b86b3fc6886768cfbec160dd3b49') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-17 01:25:32', `state` = 'active', `updated_at` = '2008-12-17 01:25:32' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to actionindex
Completed in 7ms (DB: 90) | 302 Found [http://test.host/activate/7f799b1c3b62b86b3fc6886768cfbec160dd3b49?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 20:25:32) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.4ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 25) | 200 OK [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 20:25:32) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"new_email@foo.com"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'new_email@foo.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Create (0.2ms)[0m   [0mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-17 01:25:32', 1, 'first_name', 'last_name', '2008-12-17 01:25:32')[0m
  [4;36;1mPerson::Version Create (0.1ms)[0m   [0;1mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-17 01:25:32', NULL, 1, 'first_name', 15003, 'last_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15003) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEmail Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mEmail Create (0.2ms)[0m   [0mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-17 01:25:32', 1, 1, 'new_email@foo.com', '2008-12-17 01:25:32')[0m
  [4;36;1mEmail::Version Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;35;1mEmail::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15001, NULL, '2008-12-17 01:25:32', 1, NULL, 1, 'new_email@foo.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Create (0.1ms)[0m   [0;1mINSERT INTO `ci_user_account_requests` (`ci_notes`, `email_id`, `updated_at`, `location_id`, `person_id`, `state`, `created_at`) VALUES(NULL, 15001, '2008-12-17 01:25:32', NULL, 15003, 'new', '2008-12-17 01:25:32')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:25:32 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Account request for first_name last_name (new_email@foo.com)
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

ACCOUNT REQUEST
---------------

NAME:   first_name last_name
EMAIL:  new_email@foo.com

To approve or deny this account request, please go to:

  https://www.contactimprov.net/admin/users/list_account_requests
Redirected to actionaccount_requested
Completed in 20ms (DB: 89) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;36;1mUserAccountRequest Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` ORDER BY ci_user_account_requests.user_account_request_id DESC LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15003) [0m
  [4;36;1mEmail Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (`ci_emails`.`email_id` = 15001) [0m


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 20:25:32) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = 'ffe7632dd11a66d4ff1c4cc92bf0b46f42346e26', `updated_at` = '2008-12-17 01:25:32' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:25:32 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/ffe7632dd11a66d4ff1c4cc92bf0b46f42346e26

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 8ms (DB: 30) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 20:25:32) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-17 01:25:32' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:25:32 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.9ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 3, DB: 77) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 20:25:32) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-17 01:25:33' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 9ms (View: 3, DB: 24) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:25:33', `updated_at` = '2008-12-17 01:25:33' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 20:25:33) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"newfirst", "last_name"=>"newlast"}}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max(`ci_person_versions`.version) AS max_version FROM `ci_person_versions` WHERE (`ci_person_versions`.person_id = 1) [0m
  [4;36;1mPerson Update (0.2ms)[0m   [0;1mUPDATE `ci_people` SET `version` = 1, `last_name` = 'newlast', `first_name` = 'newfirst', `updated_at` = '2008-12-17 01:25:33' WHERE `person_id` = 1[0m
  [4;35;1mPerson::Version Create (0.1ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-17 01:25:33', NULL, 1, 'newfirst', 1, 'newlast')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 10ms (DB: 81) | 302 Found [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=newfirst&user%5Bperson%5D%5Blast_name%5D=newlast]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '4465a313da5faa28a523909c20087b183cafe302', `updated_at` = '2008-12-17 01:25:33' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 20:25:33) [GET]
  Parameters: {"password_reset_code"=>"4465a313da5faa28a523909c20087b183cafe302"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '4465a313da5faa28a523909c20087b183cafe302') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 2, DB: 27) | 200 OK [http://test.host/reset_password/4465a313da5faa28a523909c20087b183cafe302]
  [4;35;1mUser Load (56.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '4b0a3f0bbc0c0c141fa25d7d80f2c28feba5494e', `updated_at` = '2008-12-17 01:25:33' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 01:25:33' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 20:25:33) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"4b0a3f0bbc0c0c141fa25d7d80f2c28feba5494e"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '4b0a3f0bbc0c0c141fa25d7d80f2c28feba5494e') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 4, DB: 80) | 200 OK [http://test.host/activate/4b0a3f0bbc0c0c141fa25d7d80f2c28feba5494e?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 20:25:33) [GET]
Rendering user/index
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 31) | 200 OK [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 20:25:33) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>""}}
Rendering user/request_account
Rendered shared/_header (0.8ms)
Rendered shared/_person (0.4ms)
Rendered shared/_email (0.4ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 4, DB: 26) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 20:25:33) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>""}, "uar_email"=>{"address"=>"new_email@foo.com"}}
Rendering user/request_account
Rendered shared/_header (0.8ms)
Rendered shared/_person (0.4ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 3, DB: 89) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 20:25:33) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:25:33 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 2, DB: 25) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 20:25:33) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'a0f2bb806259577d15a594a9d41e6a0dc3effaec', `updated_at` = '2008-12-17 01:25:33' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:25:33 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/a0f2bb806259577d15a594a9d41e6a0dc3effaec

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 2, DB: 85) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 20:25:33) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 24) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 20:25:34) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 99) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 20:25:34) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 30) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 20:25:34) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.9ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 3, DB: 97) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 20:25:34) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.4ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 30) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 20:25:34) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.4ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 27) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 20:25:34) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.5ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 90) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 20:25:34) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 23) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 20:25:34) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"", "last_name"=>""}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering user/edit
Rendered shared/_header (0.8ms)
Rendered shared/_person (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 81) | 200 OK [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 20:25:34) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 22) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 20:25:35) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 90) | 200 OK [http://test.host/reset_password/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'bc1ce77edf40c85628193bcf81ac3334d26c744a', `updated_at` = '2008-12-17 01:25:35' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 20:25:35) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"bc1ce77edf40c85628193bcf81ac3334d26c744a"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'bc1ce77edf40c85628193bcf81ac3334d26c744a') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 3, DB: 23) | 200 OK [http://test.host/reset_password/bc1ce77edf40c85628193bcf81ac3334d26c744a?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 20:25:35) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 83) | 200 OK [http://test.host/activate/randomgarbage]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'c2f2f00f52665ea39a4dda665f232a246a1b1dae', `updated_at` = '2008-12-17 01:25:35' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 20:25:35) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"c2f2f00f52665ea39a4dda665f232a246a1b1dae"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'c2f2f00f52665ea39a4dda665f232a246a1b1dae') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-17 01:25:35' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.9ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 23) | 200 OK [http://test.host/reset_password/c2f2f00f52665ea39a4dda665f232a246a1b1dae?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:25:35', `updated_at` = '2008-12-17 01:25:35' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (64.8ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 20:25:35) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"quentin@contactimprov.org"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '57b22271d0e4f5a21a6582289b0807180dbab0ec', `updated_at` = '2008-12-17 01:25:35' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:25:35 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/57b22271d0e4f5a21a6582289b0807180dbab0ec

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 10ms (DB: 92) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=quentin%40contactimprov.org&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 20:25:35) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"pending_user@contactimprov.org"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'pending_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'pending_user@contactimprov.org' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '3bd8f27e8a8ed9e5c090f49ac9d0eb1b3f9ccc47', `updated_at` = '2008-12-17 01:25:35' WHERE `user_id` = 8[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:25:35 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/3bd8f27e8a8ed9e5c090f49ac9d0eb1b3f9ccc47

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  pending_user@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_account
Rendered shared/_header (0.8ms)
Rendered shared/_person (0.4ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 12ms (View: 3, DB: 29) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=pending_user%40contactimprov.org&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '0a7943a8c4c4c95cceb78d939f2e465466dbf4cf', `updated_at` = '2008-12-17 01:25:35' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 01:25:35' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 20:25:35) [GET]
  Parameters: {"activation_code"=>"0a7943a8c4c4c95cceb78d939f2e465466dbf4cf"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '0a7943a8c4c4c95cceb78d939f2e465466dbf4cf') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 32) | 200 OK [http://test.host/activate/0a7943a8c4c4c95cceb78d939f2e465466dbf4cf]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCompany Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `ci_companies`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mCompany Create (0.3ms)[0m   [0;1mINSERT INTO `ci_companies` (`name`, `updated_at`, `version`, `created_at`) VALUES('Foo', '2008-12-17 01:27:49', 1, '2008-12-17 01:27:49')[0m
  [4;35;1mCompany::Version Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `ci_company_versions`[0m
  [4;36;1mCompany::Version Create (0.3ms)[0m   [0;1mINSERT INTO `ci_company_versions` (`name`, `updated_at`, `company_version_id`, `version`, `company_id`) VALUES('Foo', '2008-12-17 01:27:49', NULL, 1, 15000)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mContactEvent Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `ci_contact_events`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mContactEvent Create (0.4ms)[0m   [0;1mINSERT INTO `ci_contact_events` (`start_date`, `end_date`, `phone_number_id`, `url_id`, `email_id`, `ci_notes`, `updated_at`, `title`, `studio_id`, `version`, `subtitle`, `description`, `company_id`, `person_id`, `created_at`) VALUES('2008-12-16 20:27:49', '2008-12-16 20:27:49', NULL, NULL, NULL, NULL, '2008-12-17 01:27:49', 'New Event', NULL, 1, NULL, 'Fantastic new event', NULL, NULL, '2008-12-17 01:27:49')[0m
  [4;35;1mContactEvent::Version Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `ci_contact_event_versions`[0m
  [4;36;1mContactEvent::Version Create (0.4ms)[0m   [0;1mINSERT INTO `ci_contact_event_versions` (`start_date`, `end_date`, `phone_number_id`, `url_id`, `email_id`, `ci_notes`, `updated_at`, `title`, `studio_id`, `contact_event_version_id`, `version`, `subtitle`, `description`, `company_id`, `contact_event_id`, `person_id`) VALUES('2008-12-16 20:27:49', '2008-12-16 20:27:49', NULL, NULL, NULL, NULL, '2008-12-17 01:27:49', 'New Event', NULL, NULL, 1, NULL, 'Fantastic new event', NULL, 15000, NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 2) [0m
  [4;35;1mCountryName Load (0.2ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'england') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 4) [0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'great britain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'uk') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'u.k.') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United Kingdom') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukrain') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'ukraine') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'USA') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mCountryName Load (0.1ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'usa') LIMIT 1[0m
  [4;36;1mCountryName Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'United States') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEmail Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mEmail Create (0.2ms)[0m   [0mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-17 01:27:50', 1, 1, 'charman@acm.org', '2008-12-17 01:27:50')[0m
  [4;36;1mEmail::Version Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;35;1mEmail::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15000, NULL, '2008-12-17 01:27:50', 1, NULL, 1, 'charman@acm.org')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mCountryName Load (0.3ms)[0m   [0mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`english_name` = 'Canada') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: Provider: 
 Street: 
City: City Name
State: 
Zip: 
Latitude: 
Longitude: 
Country: CA
Success: false. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>City Name, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Holy Name (Es), King, ON, Canada</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>CA</CountryNameCode><CountryName>Canada</CountryName><AdministrativeArea><AdministrativeAreaName>ON</AdministrativeAreaName><Locality><LocalityName>King</LocalityName><PostalCode><PostalCodeNumber>L7B</PostalCodeNumber><AddressLine>Holy Name (Es)</AddressLine></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-79.5391900,43.9247060,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mLocation Create (0.3ms)[0m   [0mINSERT INTO `ci_locations` (`region_name`, `postal_code`, `updated_at`, `us_state_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`, `created_at`) VALUES(NULL, NULL, '2008-12-17 01:27:51', NULL, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2, '2008-12-17 01:27:51')[0m
  [4;36;1mLocation::Version Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `ci_location_versions`[0m
  [4;35;1mLocation::Version Create (0.5ms)[0m   [0mINSERT INTO `ci_location_versions` (`region_name`, `location_version_id`, `postal_code`, `updated_at`, `us_state_id`, `location_id`, `lng`, `version`, `street_address_line_1`, `street_address_line_2`, `geocode_precision`, `city_name`, `lat`, `country_name_id`) VALUES(NULL, NULL, NULL, '2008-12-17 01:27:51', NULL, 15000, -79.53919, 1, NULL, NULL, NULL, 'City Name', 43.924706, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mLocation Load (0.3ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (`ci_locations`.`location_id` = 1) [0m
  [4;36;1mCountryName Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_country_names` WHERE (`ci_country_names`.`country_name_id` = 1) [0m
Google geocoding. Address: 100 Spear St, San Francisco, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Spear St, San Francisco, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Spear St, San Francisco, CA 94105, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Spear St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94105</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <Point><coordinates>-122.3940000,37.7921500,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPhoneNumber Create (0.2ms)[0m   [0;1mINSERT INTO `ci_phone_numbers` (`for_entity_id`, `updated_at`, `number`, `version`, `created_at`) VALUES(NULL, '2008-12-17 01:27:51', '585-275-4822', 1, '2008-12-17 01:27:51')[0m
  [4;35;1mPhoneNumber::Version Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `ci_phone_number_versions`[0m
  [4;36;1mPhoneNumber::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_phone_number_versions` (`phone_number_id`, `for_entity_id`, `updated_at`, `number`, `version`, `phone_number_version_id`) VALUES(15000, NULL, '2008-12-17 01:27:51', '585-275-4822', 1, NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mStudio Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `ci_studios`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStudio Create (0.3ms)[0m   [0;1mINSERT INTO `ci_studios` (`name`, `updated_at`, `version`, `created_at`) VALUES('Foo', '2008-12-17 01:27:52', 1, '2008-12-17 01:27:52')[0m
  [4;35;1mStudio::Version Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `ci_studio_versions`[0m
  [4;36;1mStudio::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_studio_versions` (`name`, `updated_at`, `studio_version_id`, `studio_id`, `version`) VALUES('Foo', '2008-12-17 01:27:52', NULL, 15000, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUrl Create (0.1ms)[0m   [0mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-17 01:27:52', 1, 'http://craigharman.net/', '2008-12-17 01:27:52')[0m
  [4;36;1mUrl::Version Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `ci_url_versions`[0m
  [4;35;1mUrl::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15000, NULL, '2008-12-17 01:27:52', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUrl Create (0.1ms)[0m   [0;1mINSERT INTO `ci_urls` (`for_entity_id`, `updated_at`, `version`, `address`, `created_at`) VALUES(NULL, '2008-12-17 01:27:52', 1, 'http://craigharman.net/', '2008-12-17 01:27:52')[0m
  [4;35;1mUrl::Version Create (0.1ms)[0m   [0mINSERT INTO `ci_url_versions` (`url_version_id`, `url_id`, `for_entity_id`, `updated_at`, `version`, `address`) VALUES(NULL, 15001, NULL, '2008-12-17 01:27:52', 1, 'http://craigharman.net/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUrl Load (0.2ms)[0m   [0mSELECT * FROM `ci_urls` WHERE (`ci_urls`.`url_id` = 15001) [0m
  [4;36;1mUsState Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`us_state_id` = 1) [0m
  [4;35;1mUsState Load (0.3ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'New York') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'NY') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'NY') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'new york') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'ny') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'ny') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yORk') LIMIT 1[0m
  [4;36;1mUsState Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nY') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nY') LIMIT 1[0m
  [4;36;1mUsState Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'nEw yOR') LIMIT 1[0m
  [4;35;1mUsState Load (0.2ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'nEw yOR') LIMIT 1[0m
  [4;36;1mUsState Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`name` = 'n') LIMIT 1[0m
  [4;35;1mUsState Load (0.1ms)[0m   [0mSELECT * FROM `ci_us_states` WHERE (`ci_us_states`.`abbreviation` = 'n') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-17 01:27:53', `state` = 'active', `updated_at` = '2008-12-17 01:27:53' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:27:53', `updated_at` = '2008-12-17 01:27:53' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '47b22d1129a2ac6aa6476d2bca5371a363395960', `updated_at` = '2008-12-17 01:27:53' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 01:27:53' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_and_start_in_passive_state@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('39d4bf59cd3c0465b0763d5eb7ecfb882a8a2bd1', NULL, NULL, '2008-12-17 01:27:53', 'aee2ee70286df6da4615d48451868fb9b95a91dc', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_and_start_in_passive_state@contactimprov.org', 'passive', '2008-12-17 01:27:53')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'create_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('457f30538cd5198d77cfba0230375512189ebdf9', NULL, NULL, '2008-12-17 01:27:53', 'f03d8d1435f2886ca27128d3edf1287ecc0862d5', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'create_user@contactimprov.org', 'passive', '2008-12-17 01:27:53')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `deleted_at` = '2008-12-17 01:27:53', `state` = 'deleted', `updated_at` = '2008-12-17 01:27:53' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'initialize_activation_code_upon_creation@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('323971ac6415228e0dc8ccb3732887347a9e405d', NULL, NULL, '2008-12-17 01:27:54', 'ba4cf10c118fa64fb7c84c3aa1426f71375ca0e4', NULL, 0, NULL, NULL, NULL, NULL, NULL, 'initialize_activation_code_upon_creation@contactimprov.org', 'passive', '2008-12-17 01:27:54')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 15004) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin2@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `email` = 'quentin2@contactimprov.org', `updated_at` = '2008-12-17 01:27:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin2@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:27:54', `updated_at` = '2008-12-17 01:27:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-17 01:27:54' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '014fc378d297d1a114e0d96dc9e4d10645dc9e8d', `updated_at` = '2008-12-17 01:27:54' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 01:27:54' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 01:27:54', `remember_token` = '322341e348336c8929863f5362546f54c570817e', `updated_at` = '2008-12-17 01:27:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-24 01:27:54', `remember_token` = '4e644d7bd18be2b09a456e6517051eeac7636561', `updated_at` = '2008-12-17 01:27:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-24 01:27:54', `remember_token` = '4e644d7bd18be2b09a456e6517051eeac7636561', `updated_at` = '2008-12-17 01:27:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (`ci_users`.`email` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'bad@emailaddress') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.5ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = '4b6dd603c64f03bc2f676658e287094878df9603', `updated_at` = '2008-12-17 01:27:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:27:54', `updated_at` = '2008-12-17 01:27:54' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 01:27:55', `remember_token` = 'fb49c95ad76817fc99e9bc057f754328701b217e', `updated_at` = '2008-12-17 01:27:55' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-17 01:27:55' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (51.6ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 01:27:55', `remember_token` = 'fb49c95ad76817fc99e9bc057f754328701b217e', `updated_at` = '2008-12-17 01:27:55' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2008-12-17 01:27:55' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-17 01:27:55' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activated_at` = '2008-12-17 01:27:55', `state` = 'active', `updated_at` = '2008-12-17 01:27:55' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-17 01:27:55' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = 'foo-bar', `activated_at` = NULL [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '939290cf2f3e0dc377505c9bfae3facdfb053e10', `updated_at` = '2008-12-17 01:27:55' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 01:27:55' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-17 01:27:55' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = NULL, `activated_at` = NULL [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'passive', `updated_at` = '2008-12-17 01:27:55' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'suspended', `updated_at` = '2008-12-17 01:27:55' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 20:27:57) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-17 01:27:57", updated_at: "2008-12-17 01:27:57">}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `activated_at` = '2008-12-17 01:27:57', `state` = 'active', `email` = 'activate@contactquarterly.com', `updated_at` = '2008-12-17 01:27:57' WHERE `user_id` = 8[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:27:57 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Your ContactImprov.net account has been activated
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactQuarterly.com account has been created for you.  In 
order to use your account, just go to this page:

  https://community.contactquarterly.com/

and log in using your email address:

  activate@contactquarterly.com

and this password:

  test

You can change your password once you have logged in.

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionindex
Completed in 119ms (DB: 55) | 302 Found [http://test.host/admin/users/activate/8?user%5Bemail%5D=activate%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 20:27:57) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/edit
Rendered shared/admin/_header (2.5ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_person (2.0ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 9ms (View: 7, DB: 31) | 200 OK [http://test.host/admin/users/edit/1]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#index (for 0.0.0.0 at 2008-12-16 20:27:57) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_users` WHERE (state = 'active') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ci_users` WHERE (state = 'pending') [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `ci_user_account_requests` WHERE (state ='new') [0m
Rendering admin/users/index
Rendered shared/admin/_header (0.8ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 4, DB: 29) | 200 OK [http://test.host/admin/users]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list (for 0.0.0.0 at 2008-12-16 20:27:57) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` [0m
Rendering admin/users/list
Rendered shared/admin/_header (0.9ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 402) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 10) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 401) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
Rendered admin/users/_user_table (6.5ms)
Rendered admin/users/_user_table_js (0.2ms)
Rendered admin/users/_list_users (7.2ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 11ms (View: 9, DB: 30) | 200 OK [http://test.host/admin/users/list]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list_active (for 0.0.0.0 at 2008-12-16 20:27:58) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (state = 'active') [0m
Rendering admin/users/list_active
Rendered shared/admin/_header (0.8ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 402) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 10) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 401) [0m
Rendered admin/users/_user_table (3.9ms)
Rendered admin/users/_user_table_js (0.1ms)
Rendered admin/users/_list_users (4.3ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 6, DB: 26) | 200 OK [http://test.host/admin/users/list_active]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#list_pending (for 0.0.0.0 at 2008-12-16 20:27:58) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (state = 'pending') [0m
Rendering admin/users/list_pending
Rendered shared/admin/_header (0.8ms)
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
Rendered admin/users/_user_table (1.4ms)
Rendered admin/users/_user_table_js (0.1ms)
Rendered admin/users/_list_users (1.8ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 5ms (View: 4, DB: 74) | 200 OK [http://test.host/admin/users/list_pending]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#map (for 0.0.0.0 at 2008-12-16 20:27:58) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `ci_locations` WHERE (geocode_precision IS NOT NULL) [0m
Rendering admin/users/map
Rendered shared/admin/_header (0.8ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 22) | 200 OK [http://test.host/admin/users/map]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#new (for 0.0.0.0 at 2008-12-16 20:27:58) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.9ms)
Rendered shared/_person (0.7ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 73) | 200 OK [http://test.host/admin/users/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 20:27:58) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.9ms)
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/admin/_footer (0.1ms)
Completed in 5ms (View: 3, DB: 25) | 200 OK [http://test.host/admin/users/reset_password/1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUserAccountRequest Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m


Processing Admin::UsersController#show_account_request (for 0.0.0.0 at 2008-12-16 20:27:58) [GET]
  Parameters: {"id"=>#<UserAccountRequest user_account_request_id: 1, state: "new", ci_notes: nil, person_id: 1, email_id: 101, location_id: nil, created_at: "2008-12-17 01:27:58", updated_at: "2008-12-17 01:27:58">}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUserAccountRequest Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
Rendering admin/users/show_account_request
Rendered shared/admin/_header (0.9ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mEmail Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (`ci_emails`.`email_id` = 101) [0m
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 6, DB: 75) | 200 OK [http://test.host/admin/users/show_account_request/1]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 20:27:58) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com", "person"=>{"first_name"=>"Firstname", "last_name"=>"Lastname"}}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: person
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;36;1mPerson Create (0.2ms)[0m   [0;1mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-17 01:27:58', 1, 'Firstname', 'Lastname', '2008-12-17 01:27:58')[0m
  [4;35;1mPerson::Version Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `ci_person_versions`[0m
  [4;36;1mPerson::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-17 01:27:58', NULL, 1, 'Firstname', 15002, 'Lastname')[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `ci_users` (`salt`, `last_login_at`, `activated_at`, `updated_at`, `crypted_password`, `deleted_at`, `admin`, `activation_code`, `remember_token_expires_at`, `password_reset_code`, `remember_token`, `person_id`, `email`, `state`, `created_at`) VALUES('8e1d12d92cee822e4af595c05309660f32790878', NULL, NULL, '2008-12-17 01:27:58', '9bc89662958603e6424b147b1e5bd59af8936daf', NULL, 0, NULL, NULL, NULL, NULL, 15002, 'admin_users_create@contactquarterly.com', 'passive', '2008-12-17 01:27:58')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com' AND `ci_users`.user_id <> 15005) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '486e89897a0c8fb1af0bd845882337cc9eb80013', `updated_at` = '2008-12-17 01:27:58' WHERE `user_id` = 15005[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 01:27:58' WHERE `user_id` = 15005[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:27:58 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Firstname Lastname -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/486e89897a0c8fb1af0bd845882337cc9eb80013

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  admin_users_create@contactquarterly.com

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionindex
Completed in 22ms (DB: 26) | 302 Found [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test&user%5Bperson%5D%5Bfirst_name%5D=Firstname&user%5Bperson%5D%5Blast_name%5D=Lastname]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing Admin::UsersController#activate (for 0.0.0.0 at 2008-12-16 20:27:58) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"activate@contactquarterly.com"}, "id"=>#<User user_id: 8, email: "pending_user@contactimprov.org", person_id: nil, admin: false, state: "pending", crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", password_reset_code: nil, activation_code: nil, activated_at: nil, deleted_at: nil, last_login_at: nil, remember_token: nil, remember_token_expires_at: nil, created_at: "2008-12-17 01:27:58", updated_at: "2008-12-17 01:27:58">}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'activate@contactquarterly.com' AND `ci_users`.user_id <> 8) LIMIT 1[0m
Rendering admin/users/activate
Rendered shared/admin/_header (0.8ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 9ms (View: 3, DB: 74) | 200 OK [http://test.host/admin/users/activate/8?user%5Bemail%5D=activate%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 20:27:58) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.8ms)
Rendered shared/_person (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 23) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=mismatched]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (53.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing Admin::UsersController#create (for 0.0.0.0 at 2008-12-16 20:27:59) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"test", "password"=>"test", "email"=>"admin_users_create@contactquarterly.com"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'admin_users_create@contactquarterly.com') LIMIT 1[0m
Rendering admin/users/new
Rendered shared/admin/_header (0.8ms)
Rendered shared/_person (0.6ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 84) | 200 OK [http://test.host/admin/users/create?user%5Bemail%5D=admin_users_create%40contactquarterly.com&user%5Bpassword%5D=test&user%5Bpassword_confirmation%5D=test]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin_users_create@contactquarterly.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing Admin::UsersController#edit (for 0.0.0.0 at 2008-12-16 20:27:59) [PUT]
  Parameters: {"user"=>{"subscriber_address"=>{"postal_code"=>"60606", "street_address_line_1"=>"new_line_1", "street_address_line_2"=>"new_line_2", "city_name"=>"new_city", "us_state"=>{"name"=>"pa"}, "country_name"=>{"english_name"=>"United States"}}, "person"=>{"first_name"=>"", "last_name"=>""}}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering admin/users/edit
Rendered shared/admin/_header (0.8ms)
Rendered shared/_person (0.5ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 31) | 200 OK [http://test.host/admin/users/edit/1?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=&user%5Bsubscriber_address%5D%5Bcity_name%5D=new_city&user%5Bsubscriber_address%5D%5Bcountry_name%5D%5Benglish_name%5D=United+States&user%5Bsubscriber_address%5D%5Bpostal_code%5D=60606&user%5Bsubscriber_address%5D%5Bstreet_address_line_1%5D=new_line_1&user%5Bsubscriber_address%5D%5Bstreet_address_line_2%5D=new_line_2&user%5Bsubscriber_address%5D%5Bus_state%5D%5Bname%5D=pa]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:27:59', `updated_at` = '2008-12-17 01:27:59' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 20:27:59) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"bad_password", "password"=>"new_password"}, "id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering admin/users/reset_password
Rendered shared/admin/_header (0.8ms)
Rendered shared/admin/_footer (0.1ms)
Completed in 7ms (View: 3, DB: 32) | 200 OK [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=bad_password]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:27:59', `updated_at` = '2008-12-17 01:27:59' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m


Processing Admin::UsersController#process_account_request (for 0.0.0.0 at 2008-12-16 20:27:59) [PUT]
  Parameters: {"account_request_id"=>"1", "user_account_request"=>{"ci_notes"=>"updated_notes"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Update (0.2ms)[0m   [0;1mUPDATE `ci_user_account_requests` SET `ci_notes` = 'updated_notes', `updated_at` = '2008-12-17 01:27:59' WHERE `user_account_request_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionlist_account_requests
Completed in 4ms (DB: 84) | 302 Found [http://test.host/admin/users/process_account_request?account_request_id=1&user_account_request%5Bci_notes%5D=updated_notes]
  [4;36;1mUserAccountRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` WHERE (`ci_user_account_requests`.`user_account_request_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:27:59', `updated_at` = '2008-12-17 01:27:59' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing Admin::UsersController#reset_password (for 0.0.0.0 at 2008-12-16 20:27:59) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-17 01:27:59' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:27:59 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: New password for your ContactImprov.net account
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have reset the password on your Contact Quarterly online account.

Your new password is:

  new_password

To log on to your account, just go to:

  http://community.contactquarterly.com/

As always, please let us know if have any questions or encounter
any problems.

  Contact Quarterly
Redirected to actionshowid1
Completed in 10ms (DB: 29) | 302 Found [http://test.host/admin/users/reset_password/1?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:27:59', `updated_at` = '2008-12-17 01:27:59' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 20:27:59) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 4ms (DB: 111) | 302 Found [http://test.host/session]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 01:27:59', `remember_token` = 'abea73738c3f1f5fa2013ad36e832b8ca8a41404', `updated_at` = '2008-12-17 01:27:59' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 20:27:59) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering sessions/new
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendered shared/_header (2.0ms)
Rendered shared/_footer (0.2ms)
Completed in 6ms (View: 4, DB: 77) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 01:27:59', `remember_token` = 'abea73738c3f1f5fa2013ad36e832b8ca8a41404', `updated_at` = '2008-12-17 01:27:59' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-17 01:22:59', `updated_at` = '2008-12-17 01:27:59' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 20:27:59) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'abea73738c3f1f5fa2013ad36e832b8ca8a41404') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'abea73738c3f1f5fa2013ad36e832b8ca8a41404') LIMIT 1[0m
Rendering sessions/new
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'abea73738c3f1f5fa2013ad36e832b8ca8a41404') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'abea73738c3f1f5fa2013ad36e832b8ca8a41404') LIMIT 1[0m
Rendered shared/_header (1.6ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 3, DB: 30) | 200 OK [http://test.host/session/new]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'abea73738c3f1f5fa2013ad36e832b8ca8a41404') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:28:00) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:28:00', `updated_at` = '2008-12-17 01:28:00' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 73) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:28:00) [POST]
  Parameters: {"password"=>"test", "email"=>" quentin@contactimprov.org "}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:28:00', `updated_at` = '2008-12-17 01:28:00' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 27) | 302 Found [http://test.host/session?email=+quentin%40contactimprov.org+&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 01:28:00', `remember_token` = 'de1b5f360a304f4343657c399705bec2ccd0d612', `updated_at` = '2008-12-17 01:28:00' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing SessionsController#new (for 0.0.0.0 at 2008-12-16 20:28:00) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`remember_token` = 'de1b5f360a304f4343657c399705bec2ccd0d612') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 01:28:00', `updated_at` = '2008-12-17 01:28:00' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=de1b5f360a304f4343657c399705bec2ccd0d612; path=/; expires=Wed, 31 Dec 2008 01:28:00 GMT
Redirected to /
Completed in 3ms (DB: 23) | 302 Found [http://test.host/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2008-12-16 20:28:00) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to /session/new
Completed in 2ms (DB: 77) | 302 Found [http://test.host/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 7) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:28:00) [POST]
  Parameters: {"password"=>"test", "email"=>"deleted_user@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'deleted_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'deleted_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 24) | 302 Found [http://test.host/session?email=deleted_user%40contactimprov.org&password=test]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:28:00) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '510bda561d174679e679074b652ff9e8a502d37e', `updated_at` = '2008-12-17 01:28:00' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:28:00 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/510bda561d174679e679074b652ff9e8a502d37e

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 8ms (DB: 75) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 6) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:28:00) [POST]
  Parameters: {"password"=>"test", "email"=>"suspended_user@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'suspended_user@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'suspended_user@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 23) | 302 Found [http://test.host/session?email=suspended_user%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:28:00) [POST]
  Parameters: {"password"=>"bad password", "email"=>"quentin@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 74) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=bad+password]


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:28:00) [POST]
  Parameters: {"password"=>"", "email"=>""}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = '') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 22) | 302 Found [http://test.host/session?email=&password=]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:28:00) [POST]
  Parameters: {"password"=>"", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
Redirected to actionnew
Completed in 2ms (DB: 79) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:28:01) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org", "remember_me"=>"0"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:28:01', `updated_at` = '2008-12-17 01:28:01' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 33) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=0]
  [4;35;1mUser Load (52.0ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 4) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:28:01) [POST]
  Parameters: {"password"=>"test", "email"=>"admin@contactimprov.org"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'admin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'admin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:28:01', `updated_at` = '2008-12-17 01:28:01' WHERE `user_id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to /
Completed in 5ms (DB: 83) | 302 Found [http://test.host/session?email=admin%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:28:01) [POST]
  Parameters: {"password"=>"test", "email"=>"quentin@contactimprov.org", "remember_me"=>"1"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:28:01', `updated_at` = '2008-12-17 01:28:01' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `ci_users` SET `remember_token_expires_at` = '2008-12-31 01:28:01', `remember_token` = 'db02eafba1849343c60d2e383ae53af484c304f5', `updated_at` = '2008-12-17 01:28:01' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cookie set: auth_token=db02eafba1849343c60d2e383ae53af484c304f5; path=/; expires=Wed, 31 Dec 2008 01:28:01 GMT
Redirected to /
Completed in 11ms (DB: 31) | 302 Found [http://test.host/session?email=quentin%40contactimprov.org&password=test&remember_me=1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 2) [0m


Processing SessionsController#create (for 0.0.0.0 at 2008-12-16 20:28:01) [POST]
  Parameters: {"password"=>"test", "email"=>"aaron@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '77b67d5b23f7731146e21649930def2bad90abbf', `updated_at` = '2008-12-17 01:28:01' WHERE `user_id` = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:28:01 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/77b67d5b23f7731146e21649930def2bad90abbf

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionnew
Completed in 9ms (DB: 27) | 302 Found [http://test.host/session?email=aaron%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'd326d11652db6173ad433cec98684ffa6a2d3b71', `updated_at` = '2008-12-17 01:28:01' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 01:28:01' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 20:28:01) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "activation_code"=>"d326d11652db6173ad433cec98684ffa6a2d3b71"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'd326d11652db6173ad433cec98684ffa6a2d3b71') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `activated_at` = '2008-12-17 01:28:01', `state` = 'active', `updated_at` = '2008-12-17 01:28:01' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to actionindex
Completed in 7ms (DB: 91) | 302 Found [http://test.host/activate/d326d11652db6173ad433cec98684ffa6a2d3b71?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 20:28:01) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/index
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.5ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 29) | 200 OK [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 20:28:01) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"new_email@foo.com"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'new_email@foo.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Create (0.2ms)[0m   [0mINSERT INTO `ci_people` (`updated_at`, `version`, `first_name`, `last_name`, `created_at`) VALUES('2008-12-17 01:28:01', 1, 'first_name', 'last_name', '2008-12-17 01:28:01')[0m
  [4;36;1mPerson::Version Create (0.2ms)[0m   [0;1mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-17 01:28:01', NULL, 1, 'first_name', 15003, 'last_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15003) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEmail Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mEmail Create (0.2ms)[0m   [0mINSERT INTO `ci_emails` (`for_entity_id`, `updated_at`, `version`, `position`, `address`, `created_at`) VALUES(NULL, '2008-12-17 01:28:01', 1, 1, 'new_email@foo.com', '2008-12-17 01:28:01')[0m
  [4;36;1mEmail::Version Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `ci_email_versions`[0m
  [4;35;1mEmail::Version Create (0.4ms)[0m   [0mINSERT INTO `ci_email_versions` (`email_id`, `for_entity_id`, `updated_at`, `version`, `email_version_id`, `position`, `address`) VALUES(15001, NULL, '2008-12-17 01:28:01', 1, NULL, 1, 'new_email@foo.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUserAccountRequest Create (0.3ms)[0m   [0;1mINSERT INTO `ci_user_account_requests` (`ci_notes`, `email_id`, `updated_at`, `location_id`, `person_id`, `state`, `created_at`) VALUES(NULL, 15001, '2008-12-17 01:28:01', NULL, 15003, 'new', '2008-12-17 01:28:01')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:28:01 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Account request for first_name last_name (new_email@foo.com)
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

ACCOUNT REQUEST
---------------

NAME:   first_name last_name
EMAIL:  new_email@foo.com

To approve or deny this account request, please go to:

  https://www.contactimprov.net/admin/users/list_account_requests
Redirected to actionaccount_requested
Completed in 27ms (DB: 85) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;36;1mUserAccountRequest Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_user_account_requests` ORDER BY ci_user_account_requests.user_account_request_id DESC LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 15003) [0m
  [4;36;1mEmail Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_emails` WHERE (`ci_emails`.`email_id` = 15001) [0m


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 20:28:01) [POST]
  Parameters: {"email_confirmation"=>"quentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = 'c9a48f7608b213e4d55574dbcb5c063e83234442', `updated_at` = '2008-12-17 01:28:01' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:28:01 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/c9a48f7608b213e4d55574dbcb5c063e83234442

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 13ms (DB: 33) | 302 Found [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=quentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 20:28:01) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `ci_users` SET `email` = 'new_email@contactimprov.org', `updated_at` = '2008-12-17 01:28:01' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:28:01 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  User 'Quentin Quackenbush' changed their contact information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

EMAIL CHANGED:
  Old Address: quentin@contactimprov.org
  New Address: new_email@contactimprov.org

Rendering user/change_email
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 12ms (View: 3, DB: 81) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 20:28:02) [POST]
  Parameters: {"password_confirmation"=>"new_password", "old_password"=>"test", "password"=>"new_password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `updated_at` = '2008-12-17 01:28:02' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
Rendering user/change_password
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 26) | 200 OK [http://test.host/user/change_password?old_password=test&password=new_password&password_confirmation=new_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:28:02', `updated_at` = '2008-12-17 01:28:02' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 20:28:02) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"newfirst", "last_name"=>"newlast"}}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max(`ci_person_versions`.version) AS max_version FROM `ci_person_versions` WHERE (`ci_person_versions`.person_id = 1) [0m
  [4;36;1mPerson Update (0.2ms)[0m   [0;1mUPDATE `ci_people` SET `version` = 1, `last_name` = 'newlast', `first_name` = 'newfirst', `updated_at` = '2008-12-17 01:28:02' WHERE `person_id` = 1[0m
  [4;35;1mPerson::Version Create (0.2ms)[0m   [0mINSERT INTO `ci_person_versions` (`updated_at`, `person_version_id`, `version`, `first_name`, `person_id`, `last_name`) VALUES('2008-12-17 01:28:02', NULL, 1, 'newfirst', 1, 'newlast')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to actionindex
Completed in 10ms (DB: 81) | 302 Found [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=newfirst&user%5Bperson%5D%5Blast_name%5D=newlast]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'd2e6299a7a7a7b80c6db16a07b301b50777137b4', `updated_at` = '2008-12-17 01:28:02' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 20:28:02) [GET]
  Parameters: {"password_reset_code"=>"d2e6299a7a7a7b80c6db16a07b301b50777137b4"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'd2e6299a7a7a7b80c6db16a07b301b50777137b4') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 23) | 200 OK [http://test.host/reset_password/d2e6299a7a7a7b80c6db16a07b301b50777137b4]
  [4;35;1mUser Load (56.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '7cc32ca29aa82331e3856f61f870d6e374497892', `updated_at` = '2008-12-17 01:28:02' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 01:28:02' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 20:28:02) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"different_password", "password"=>"new_password"}, "activation_code"=>"7cc32ca29aa82331e3856f61f870d6e374497892"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = '7cc32ca29aa82331e3856f61f870d6e374497892') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 4, DB: 83) | 200 OK [http://test.host/activate/7cc32ca29aa82331e3856f61f870d6e374497892?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=different_password]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#index (for 0.0.0.0 at 2008-12-16 20:28:02) [GET]
Redirected to /session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 24) | 302 Found [http://test.host/]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 20:28:02) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>""}}
Rendering user/request_account
Rendered shared/_header (0.8ms)
Rendered shared/_person (0.4ms)
Rendered shared/_email (0.4ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 4, DB: 26) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 20:28:02) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>""}, "uar_email"=>{"address"=>"new_email@foo.com"}}
Rendering user/request_account
Rendered shared/_header (0.8ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 5ms (View: 3, DB: 97) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=new_email%40foo.com&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 20:28:02) [POST]
  Parameters: {"email_confirmation"=>"passive_user@contactimprov.org", "email"=>"passive_user@contactimprov.org"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'passive_user@contactimprov.org') LIMIT 1[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:28:02 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: [CQadmin]  Login attempt from passive_user@contactimprov.org whose account needs to be configured
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

The user with email address  tried to log in, but their
account has not been configured yet.  Please to go the admin user
interface and enable their account.

TODO: Provide link to page to activate this particular user
Rendering user/request_password_reset
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 2, DB: 23) | 200 OK [http://test.host/user/request_password_reset?email=passive_user%40contactimprov.org&email_confirmation=passive_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 20:28:02) [POST]
  Parameters: {"email_confirmation"=>"aaron@contactimprov.org", "email"=>"aaron@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'aaron@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'aaron@contactimprov.org' AND `ci_users`.user_id <> 2) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 2) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = '301fd00e516be43a3aaa582e12bbd94f102f5a4d', `updated_at` = '2008-12-17 01:28:02' WHERE `user_id` = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:28:02 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Aaron Moses -

A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/301fd00e516be43a3aaa582e12bbd94f102f5a4d

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  aaron@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_password_reset
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 10ms (View: 2, DB: 81) | 200 OK [http://test.host/user/request_password_reset?email=aaron%40contactimprov.org&email_confirmation=aaron%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 20:28:03) [POST]
  Parameters: {"email_confirmation"=>"unknown_user@contactimprov.org", "email"=>"unknown_user@contactimprov.org"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'unknown_user@contactimprov.org') LIMIT 1[0m
Rendering user/request_password_reset
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 23) | 200 OK [http://test.host/user/request_password_reset?email=unknown_user%40contactimprov.org&email_confirmation=unknown_user%40contactimprov.org]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 20:28:03) [POST]
  Parameters: {"email"=>""}
Rendering user/request_password_reset
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 95) | 200 OK [http://test.host/user/request_password_reset?email=]


Processing UserController#request_password_reset (for 0.0.0.0 at 2008-12-16 20:28:03) [POST]
  Parameters: {"email_confirmation"=>"notquentin@contactimprov.org", "email"=>"quentin@contactimprov.org"}
Rendering user/request_password_reset
Rendered shared/_header (1.3ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 30) | 200 OK [http://test.host/user/request_password_reset?email=quentin%40contactimprov.org&email_confirmation=notquentin%40contactimprov.org]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 20:28:03) [POST]
  Parameters: {"email_confirmation"=>"new_email-contactimprov.org", "password"=>"test", "email"=>"new_email-contactimprov.org"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'new_email-contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_email
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 3, DB: 87) | 200 OK [http://test.host/user/change_email?email=new_email-contactimprov.org&email_confirmation=new_email-contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 20:28:03) [POST]
  Parameters: {"email_confirmation"=>"new_email@contactimprov.org", "password"=>"badpassword", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.5ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 30) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=new_email%40contactimprov.org&password=badpassword]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_email (for 0.0.0.0 at 2008-12-16 20:28:03) [POST]
  Parameters: {"email_confirmation"=>"different@contactimprov.org", "password"=>"test", "email"=>"new_email@contactimprov.org"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_email
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.6ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 32) | 200 OK [http://test.host/user/change_email?email=new_email%40contactimprov.org&email_confirmation=different%40contactimprov.org&password=test]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 20:28:03) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"bad_password", "password"=>"password"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
Rendering user/change_password
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendered shared/_header (1.6ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 105) | 200 OK [http://test.host/user/change_password?old_password=bad_password&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#change_password (for 0.0.0.0 at 2008-12-16 20:28:03) [POST]
  Parameters: {"password_confirmation"=>"mismatched", "old_password"=>"test", "password"=>"password"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/change_password
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 7ms (View: 2, DB: 32) | 200 OK [http://test.host/user/change_password?old_password=test&password=password&password_confirmation=mismatched]
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#edit (for 0.0.0.0 at 2008-12-16 20:28:04) [PUT]
  Parameters: {"user"=>{"person"=>{"first_name"=>"", "last_name"=>""}}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
Rendering user/edit
Rendered shared/_header (0.9ms)
Rendered shared/_person (0.5ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 3, DB: 94) | 200 OK [http://test.host/user/edit?user%5Bperson%5D%5Bfirst_name%5D=&user%5Bperson%5D%5Blast_name%5D=]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 20:28:04) [GET]
  Parameters: {"password_reset_code"=>""}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 25) | 200 OK [http://test.host/reset_password/]


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 20:28:04) [POST]
  Parameters: {"password_reset_code"=>""}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '') LIMIT 1[0m
Rendering user/reset_password
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 2ms (View: 2, DB: 87) | 200 OK [http://test.host/reset_password/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = 'b5a101bc948bb4a8f6db0f10026c30926f630611', `updated_at` = '2008-12-17 01:28:04' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 20:28:04) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"mismatched", "password"=>"password"}, "password_reset_code"=>"b5a101bc948bb4a8f6db0f10026c30926f630611"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = 'b5a101bc948bb4a8f6db0f10026c30926f630611') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
Rendering user/reset_password
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 6ms (View: 2, DB: 24) | 200 OK [http://test.host/reset_password/b5a101bc948bb4a8f6db0f10026c30926f630611?user%5Bpassword%5D=password&user%5Bpassword_confirmation%5D=mismatched]


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 20:28:04) [GET]
  Parameters: {"activation_code"=>"randomgarbage"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'randomgarbage') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 3ms (View: 2, DB: 104) | 200 OK [http://test.host/activate/randomgarbage]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `password_reset_code` = '7bfbbe9c7d468ee9f17475385ab8009326a84b9c', `updated_at` = '2008-12-17 01:28:04' WHERE `user_id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m


Processing UserController#reset_password (for 0.0.0.0 at 2008-12-16 20:28:04) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"new_password", "password"=>"new_password"}, "password_reset_code"=>"7bfbbe9c7d468ee9f17475385ab8009326a84b9c"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`password_reset_code` = '7bfbbe9c7d468ee9f17475385ab8009326a84b9c') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `crypted_password` = 'c1569e0933a24b02c434c82e17fb8f62f708e2e3', `password_reset_code` = NULL, `updated_at` = '2008-12-17 01:28:04' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering user/reset_password
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 8ms (View: 2, DB: 31) | 200 OK [http://test.host/reset_password/7bfbbe9c7d468ee9f17475385ab8009326a84b9c?user%5Bpassword%5D=new_password&user%5Bpassword_confirmation%5D=new_password]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `ci_users` WHERE (email = 'quentin@contactimprov.org') AND (ci_users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `last_login_at` = '2008-12-17 01:28:04', `updated_at` = '2008-12-17 01:28:04' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m
  [4;36;1mUser Load (60.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 1) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 20:28:04) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"quentin@contactimprov.org"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'quentin@contactimprov.org') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'quentin@contactimprov.org' AND `ci_users`.user_id <> 1) LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `ci_people` WHERE (`ci_people`.`person_id` = 1) [0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `password_reset_code` = '517ed596d86a3db3eb908f28f3d9ec79ddb76c0b', `updated_at` = '2008-12-17 01:28:04' WHERE `user_id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:28:04 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: Instructions for resetting your ContactImprov.net account password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

We have received a request to reset the password on your 
ContactImprov.net account.  If you did not request a
password reset, then you can safely ignore this email.

To reset your password, just visit this web page:

  https://community.contactquarterly.com/reset_password/517ed596d86a3db3eb908f28f3d9ec79ddb76c0b

This page will allow you to select a new password.

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Redirected to actionpassword_reset_requested
Completed in 10ms (DB: 84) | 302 Found [http://test.host/user/request_account?uar_email%5Baddress%5D=quentin%40contactimprov.org&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 8) [0m


Processing UserController#request_account (for 0.0.0.0 at 2008-12-16 20:28:04) [POST]
  Parameters: {"uar_person"=>{"first_name"=>"first_name", "last_name"=>"last_name"}, "uar_email"=>{"address"=>"pending_user@contactimprov.org"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`email` = 'pending_user@contactimprov.org') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'pending_user@contactimprov.org' AND `ci_users`.user_id <> 8) LIMIT 1[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `activation_code` = '4d404105f92fa3ec92ffe3eb35dcc8b02f057809', `updated_at` = '2008-12-17 01:28:04' WHERE `user_id` = 8[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Sent mail to charman

Date: Tue, 16 Dec 2008 20:28:04 -0500
From: "ContactImprov.net" <web@contactquarterly.com>
To: charman
Subject: We have created a ContactImprov.net account for you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


A ContactImprov.net account has been created for you.  Before
you can start using your account, you will need to activate your
account by going to this page:

  https://community.contactquarterly.com/activate/4d404105f92fa3ec92ffe3eb35dcc8b02f057809

where you can choose a password for your account.  The username
that you will use to log on is just your email address:

  pending_user@contactimprov.org

As always, please let us know if have any questions or encounter
any problems.

  ContactImprov.net
Rendering user/request_account
Rendered shared/_header (0.9ms)
Rendered shared/_person (0.5ms)
Rendered shared/_email (0.3ms)
Rendered shared/_footer (0.1ms)
Completed in 11ms (View: 3, DB: 22) | 200 OK [http://test.host/user/request_account?uar_email%5Baddress%5D=pending_user%40contactimprov.org&uar_person%5Bfirst_name%5D=first_name&uar_person%5Blast_name%5D=last_name]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT `ci_users`.user_id FROM `ci_users` WHERE (LOWER(`ci_users`.`email`) = BINARY 'passive_user@contactimprov.org' AND `ci_users`.user_id <> 5) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `ci_users` SET `activation_code` = 'fd95f93efa54ec408ddfad8835410655467d2fd7', `updated_at` = '2008-12-17 01:28:04' WHERE `user_id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `ci_users` SET `state` = 'pending', `updated_at` = '2008-12-17 01:28:04' WHERE `user_id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m


Processing UserController#activate (for 0.0.0.0 at 2008-12-16 20:28:04) [GET]
  Parameters: {"activation_code"=>"fd95f93efa54ec408ddfad8835410655467d2fd7"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `ci_users` WHERE (`ci_users`.`activation_code` = 'fd95f93efa54ec408ddfad8835410655467d2fd7') LIMIT 1[0m
Rendering user/activate
Rendered shared/_header (0.8ms)
Rendered shared/_footer (0.1ms)
Completed in 4ms (View: 3, DB: 29) | 200 OK [http://test.host/activate/fd95f93efa54ec408ddfad8835410655467d2fd7]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `ci_users` WHERE (`ci_users`.`user_id` = 5) [0m
